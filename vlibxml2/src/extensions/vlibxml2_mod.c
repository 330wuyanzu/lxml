/* Generated by Pyrex 0.9.3 on Tue Nov  2 14:18:48 2004 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#include "stddef.h"
#include "libxml/tree.h"
#include "libxml/parser.h"
#include "libxml/xpath.h"
#include "libxml/xmlmemory.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
staticforward char **__pyx_f;

/* Declarations from vlibxml2_mod */

staticforward PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_xmlNode;

struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode {
  PyObject_HEAD
  xmlNodePtr _xmlNodePtr;
  int invalidNode;
};

staticforward PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_xmlDoc;

struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc {
  PyObject_HEAD
  xmlDocPtr _xmlDocPtr;
};

staticforward PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLNode;

struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode {
  PyObject_HEAD
  xmlNodePtr _xmlNodePtr;
};

staticforward PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLDoc;

struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc {
  PyObject_HEAD
  xmlDocPtr _xmlDocPtr;
};

static PyTypeObject *__pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode = 0;
static PyTypeObject *__pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc = 0;
static PyTypeObject *__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode = 0;
static PyTypeObject *__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc = 0;
static xmlFreeFunc __pyx_v_12vlibxml2_mod_freeFunc;
static xmlMallocFunc __pyx_v_12vlibxml2_mod_mallocFunc;
static xmlReallocFunc __pyx_v_12vlibxml2_mod_reallocFunc;
static xmlStrdupFunc __pyx_v_12vlibxml2_mod_strdupFunc;

/* Implementation of vlibxml2_mod */

static char (__pyx_k1[]) = "vlibxml2.nodecache";
static char (__pyx_k2[]) = "vlibxml2.vlibxml2_subclasses";
static char (__pyx_k3[]) = "\nWe keep all of the xmlmemory.h declarations in here\n";
static char (__pyx_k4[]) = "\nBecause of the nature of libxml2, we need to actually create temporary Python wrappers\nfor c-xmlNode and c-xmlDoc pointers.\n\nThe main reason for this is to be able to create a Python object that has a\nunique hash value (based on the int value of the 32-bit xmlNodePtr or xmlDocPtr).\nOnce we have a Python object we can check if a prior reference to this pointer already\nexists.\n\nIf we do have a reference, then we simply garbage collect the temporary\nPython wrapper, but we do _not_ deallocate the underlying c-xmlNodePtr or c-xmlDocPtr.\n\nOn the other hand, if we do _not_ have a reference, then we convert the temporary\nPython wrapper into something more permanent so that we can later do garbage collection\non the underlying c-xmlNodePtr or c-xmlDocPtr\n";

static PyObject *__pyx_n_vlibxml2;
static PyObject *__pyx_n_wrapNode;
static PyObject *__pyx_n_wrapDoc;
static PyObject *__pyx_n_libxmlMemoryDebug;
static PyObject *__pyx_n_libxmlMemoryAllocatedBase;
static PyObject *__pyx_n_debugMode;
static PyObject *__pyx_n_initParser;
static PyObject *__pyx_n_cleanupParser;
static PyObject *__pyx_n_debugMemory;
static PyObject *__pyx_n_newDoc;
static PyObject *__pyx_n_newNode;
static PyObject *__pyx_n_parseDoc;
static PyObject *__pyx_n_False;

static PyObject *__pyx_k1p;
static PyObject *__pyx_k2p;

static PyObject *__pyx_n_nodecache;
static PyObject *__pyx_n_hasNode;
static PyObject *__pyx_n_initCacheForDocKey;
static PyObject *__pyx_n_vlibxml2_subclasses;
static PyObject *__pyx_n_xmlNodeSub;
static PyObject *__pyx_n_cacheNewNode;
static PyObject *__pyx_n_nodeForKey;

static PyObject *__pyx_f_12vlibxml2_mod_wrapNode(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_wrapNode[] = "\n    Return an existing xmlNode wrapper or create one if necessary.  If the\n    tmpNode is really just NULL, return None\n\n    Do the same for the xmlDoc\n\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_wrapNode(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode = 0;
  xmlNodePtr __pyx_v_nodePtr;
  xmlDocPtr __pyx_v_docPtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *__pyx_v_newNode;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *__pyx_v_tmpDoc;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  static char *__pyx_argnames[] = {"tmpNode",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_tmpNode)) return 0;
  Py_INCREF(__pyx_v_tmpNode);
  ((PyObject*)__pyx_v_newNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_newNode));
  ((PyObject*)__pyx_v_tmpDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpDoc));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_tmpNode), __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode, 1, "tmpNode")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;}

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":16 */
  __pyx_1 = (__pyx_v_tmpNode->_xmlNodePtr == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":17 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":19 */
  __pyx_v_nodePtr = __pyx_v_tmpNode->_xmlNodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":20 */
  __pyx_v_docPtr = __pyx_v_nodePtr->doc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":22 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_hasNode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyInt_FromLong(((int )__pyx_v_nodePtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  __pyx_4 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = PyObject_IsTrue(__pyx_3); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_6 = (!__pyx_1);
  if (__pyx_6) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":26 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_2, __pyx_n_initCacheForDocKey); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_5, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":28 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    __pyx_5 = PyObject_GetAttr(__pyx_3, __pyx_n_vlibxml2_subclasses); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_xmlNodeSub); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_newNode));
    ((PyObject *)__pyx_v_newNode) = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":29 */
    __pyx_v_newNode->_xmlNodePtr = __pyx_v_tmpNode->_xmlNodePtr;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":30 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_cacheNewNode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_newNode));
    PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_newNode));
    __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":31 */
    __pyx_v_newNode->invalidNode = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":33 */
    __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc), __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_tmpDoc));
    ((PyObject *)__pyx_v_tmpDoc) = __pyx_2;
    __pyx_2 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":34 */
    __pyx_v_tmpDoc->_xmlDocPtr = __pyx_v_docPtr;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":35 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_wrapDoc); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 35; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 35; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_tmpDoc));
    PyTuple_SET_ITEM(__pyx_5, 0, ((PyObject *)__pyx_v_tmpDoc));
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 35; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":37 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_5 = PyObject_GetAttr(__pyx_3, __pyx_n_nodeForKey); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyInt_FromLong(((int )__pyx_v_nodePtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_4 = 0;
  __pyx_2 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_5, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("vlibxml2_mod.wrapNode");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_newNode);
  Py_DECREF(__pyx_v_tmpDoc);
  Py_DECREF(__pyx_v_tmpNode);
  return __pyx_r;
}

static PyObject *__pyx_n_hasDocForDocKey;
static PyObject *__pyx_n_xmlDocSub;
static PyObject *__pyx_n_cacheNewDoc;
static PyObject *__pyx_n_docForDocKey;

static PyObject *__pyx_f_12vlibxml2_mod_wrapDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_wrapDoc[] = "\n    Return an existing xmlDoc wrapper or create one if necessary\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_wrapDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *__pyx_v_tmpDoc = 0;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *__pyx_v_newDoc;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  static char *__pyx_argnames[] = {"tmpDoc",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_tmpDoc)) return 0;
  Py_INCREF(__pyx_v_tmpDoc);
  ((PyObject*)__pyx_v_newDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_newDoc));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_tmpDoc), __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc, 1, "tmpDoc")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":46 */
  __pyx_1 = (__pyx_v_tmpDoc->_xmlDocPtr == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":47 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":49 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_hasDocForDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyInt_FromLong(((int )__pyx_v_tmpDoc->_xmlDocPtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = PyObject_IsTrue(__pyx_3); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = (!__pyx_1);
  if (__pyx_5) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":50 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_vlibxml2_subclasses); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n_xmlDocSub); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_newDoc));
    ((PyObject *)__pyx_v_newDoc) = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":51 */
    __pyx_v_newDoc->_xmlDocPtr = __pyx_v_tmpDoc->_xmlDocPtr;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":52 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_cacheNewDoc); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_newDoc));
    PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_newDoc));
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/wrapfuncs.pxi":53 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_docForDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyInt_FromLong(((int )__pyx_v_tmpDoc->_xmlDocPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.wrapDoc");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_newDoc);
  Py_DECREF(__pyx_v_tmpDoc);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_initParser(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_initParser(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":30 */
  xmlInitParser();

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.initParser");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_cleanupParser(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_cleanupParser(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":33 */
  xmlCleanupParser();

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.cleanupParser");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

static PyObject *__pyx_n_RuntimeError;

static PyObject *__pyx_k5p;

static char (__pyx_k5[]) = "Error while calling xmlMemSetup!  Error code %s";

static PyObject *__pyx_f_12vlibxml2_mod_debugMemory(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_debugMemory[] = "\n    Switch on the generation of line number for elements nodes.\n    Also returns the number of bytes allocated and not freed\n    by libxml2 since memory debugging was switched on.\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_debugMemory(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_activate = 0;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_v_libxmlMemoryDebugActivated;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"activate",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_activate)) return 0;
  Py_INCREF(__pyx_v_activate);
  __pyx_v_ret = Py_None; Py_INCREF(__pyx_v_ret);
  __pyx_v_libxmlMemoryDebugActivated = Py_None; Py_INCREF(__pyx_v_libxmlMemoryDebugActivated);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":45 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 45; goto __pyx_L1;}
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":46 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 46; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_activate, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 46; goto __pyx_L1;}
  __pyx_2 = __pyx_2 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":47 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_libxmlMemoryDebug); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_1, __pyx_3, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":50 */
      xmlMemGet(((xmlFreeFunc (*))__pyx_v_12vlibxml2_mod_freeFunc),((xmlMallocFunc (*))(&__pyx_v_12vlibxml2_mod_mallocFunc)),((xmlReallocFunc (*))(&__pyx_v_12vlibxml2_mod_reallocFunc)),((xmlStrdupFunc (*))(&__pyx_v_12vlibxml2_mod_strdupFunc)));

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":54 */
      __pyx_2 = (((void (*))__pyx_v_12vlibxml2_mod_freeFunc) == ((void (*))xmlMemFree));
      if (__pyx_2) {
        __pyx_2 = (((void (*))__pyx_v_12vlibxml2_mod_mallocFunc) == ((void (*))xmlMemMalloc));
        if (__pyx_2) {
          __pyx_2 = (((void (*))__pyx_v_12vlibxml2_mod_reallocFunc) == ((void (*))xmlMemRealloc));
          if (__pyx_2) {
            __pyx_2 = (((void (*))__pyx_v_12vlibxml2_mod_strdupFunc) == ((void (*))xmlMemoryStrdup));
          }
        }
      }
      if (__pyx_2) {

        /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":58 */
        __pyx_1 = PyInt_FromLong(xmlMemUsed()); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 58; goto __pyx_L1;}
        if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 58; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        goto __pyx_L4;
      }
      /*else*/ {

        /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":60 */
        __pyx_3 = PyInt_FromLong(((long )xmlMemSetup(xmlMemFree,xmlMemMalloc,xmlMemRealloc,xmlMemoryStrdup))); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 60; goto __pyx_L1;}
        Py_DECREF(__pyx_v_ret);
        __pyx_v_ret = __pyx_3;
        __pyx_3 = 0;

        /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":62 */
        __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 62; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_ret, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 62; goto __pyx_L1;}
        __pyx_2 = __pyx_2 < 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        if (__pyx_2) {

          /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":63 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_RuntimeError); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
          __pyx_1 = PyNumber_Remainder(__pyx_k5p, __pyx_v_ret); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
          __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
          Py_INCREF(__pyx_v_ret);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_ret);
          __pyx_1 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          __Pyx_Raise(__pyx_1, 0, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
          goto __pyx_L5;
        }
        __pyx_L5:;

        /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":64 */
        __pyx_3 = PyInt_FromLong(xmlMemUsed()); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 64; goto __pyx_L1;}
        if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase, __pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 64; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
      __pyx_L4:;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":65 */
      xmlInitParser();

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":66 */
      __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 66; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 67; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_libxmlMemoryDebugActivated, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 67; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":68 */
      __pyx_3 = PyInt_FromLong(xmlMemUsed()); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 68; goto __pyx_L1;}
      if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase, __pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 68; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":69 */
      __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 69; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":71 */
      __pyx_1 = PyInt_FromLong(xmlMemUsed()); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 71; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 71; goto __pyx_L1;}
      __pyx_4 = PyNumber_Subtract(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 71; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
    }
    __pyx_L3:;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":73 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 73; goto __pyx_L1;}
    if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryDebug, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 73; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":74 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 74; goto __pyx_L1;}
    Py_DECREF(__pyx_v_libxmlMemoryDebugActivated);
    __pyx_v_libxmlMemoryDebugActivated = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":76 */
    __pyx_4 = PyInt_FromLong(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 76; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_libxmlMemoryDebugActivated, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 76; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":77 */
      __pyx_1 = PyInt_FromLong(xmlMemUsed()); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 77; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 77; goto __pyx_L1;}
      __pyx_4 = PyNumber_Subtract(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 77; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":79 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 79; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_1;
      __pyx_1 = 0;
    }
    __pyx_L6:;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":80 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 80; goto __pyx_L1;}
    Py_DECREF(__pyx_v_libxmlMemoryDebugActivated);
    __pyx_v_libxmlMemoryDebugActivated = __pyx_3;
    __pyx_3 = 0;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":82 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.debugMemory");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_libxmlMemoryDebugActivated);
  Py_DECREF(__pyx_v_activate);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_newDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_newDoc[] = "\n    create a new xmlDocument\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_newDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_version);
  xmlDocPtr __pyx_v_docPtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *__pyx_v_tmpDoc;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"version",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_version)) return 0;
  ((PyObject*)__pyx_v_tmpDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpDoc));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":91 */
  __pyx_v_docPtr = xmlNewDoc(((xmlChar (*))__pyx_v_version));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":92 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 92; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 92; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 92; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpDoc));
  ((PyObject *)__pyx_v_tmpDoc) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":93 */
  __pyx_v_tmpDoc->_xmlDocPtr = __pyx_v_docPtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":94 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapDoc); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 94; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 94; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpDoc));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpDoc));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 94; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.newDoc");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpDoc);
  return __pyx_r;
}

static PyObject *__pyx_k6p;

static char (__pyx_k6[]) = "1.0";

static PyObject *__pyx_f_12vlibxml2_mod_newNode(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_newNode[] = "\n    create a new xmlNode. Note that this will also allocate a new xmlDoc\n    per xmlNode.\n\n    Order really matters a lot here.\n\n\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_newNode(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_tagname);
  xmlNodePtr __pyx_v_nodePtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *__pyx_v_xmlDoc;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"tagname",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_tagname)) return 0;
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));
  ((PyObject*)__pyx_v_xmlDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_xmlDoc));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":110 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_newDoc); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 110; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 110; goto __pyx_L1;}
  Py_INCREF(__pyx_k6p);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k6p);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 110; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 110; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_xmlDoc));
  ((PyObject *)__pyx_v_xmlDoc) = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":111 */
  __pyx_v_nodePtr = xmlNewNode(0,((xmlChar (*))__pyx_v_tagname));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":112 */
  xmlDocSetRootElement(__pyx_v_xmlDoc->_xmlDocPtr,__pyx_v_nodePtr);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":113 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 113; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 113; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 113; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpNode));
  ((PyObject *)__pyx_v_tmpNode) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":114 */
  __pyx_v_tmpNode->_xmlNodePtr = __pyx_v_nodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":115 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 115; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 115; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpNode));
  PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_v_tmpNode));
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 115; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.newNode");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_xmlDoc);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_parseDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_parseDoc[] = "\n    parse a string into a new xmlDocument\n    ";
static PyObject *__pyx_f_12vlibxml2_mod_parseDoc(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_doc);
  xmlDocPtr __pyx_v_docPtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *__pyx_v_tmpDoc;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"doc",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_doc)) return 0;
  ((PyObject*)__pyx_v_tmpDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpDoc));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":123 */
  __pyx_v_docPtr = xmlParseDoc(((xmlChar (*))__pyx_v_doc));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":124 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 124; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 124; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 124; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpDoc));
  ((PyObject *)__pyx_v_tmpDoc) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":125 */
  __pyx_v_tmpDoc->_xmlDocPtr = __pyx_v_docPtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":126 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapDoc); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 126; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 126; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpDoc));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpDoc));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 126; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.parseDoc");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpDoc);
  return __pyx_r;
}

static int __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":134 */
  ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->invalidNode = 1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static long __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___hash__(PyObject *__pyx_v_self); /*proto*/
static long __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___hash__(PyObject *__pyx_v_self) {
  long __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":137 */
  __pyx_r = ((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr);
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.__hash__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_name(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_name(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_buff);
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":141 */
  __pyx_v_buff = ((char (*))((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->name);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":142 */
  __pyx_1 = (__pyx_v_buff == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":143 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":144 */
  __pyx_2 = PyString_FromString(__pyx_v_buff); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 144; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.name");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setName(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setName(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_name);
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"name",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_name)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":147 */
  ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->name = ((xmlChar (*))__pyx_v_name);

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.setName");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_type[] = " the xmlElementType enum value for this node.  ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":152 */
  __pyx_1 = PyInt_FromLong(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->type); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 152; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.type");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_xmlDoc;
static PyObject *__pyx_n_moveNodeToNewDoc;

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_addChild(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_addChild[] = "\n        Ok - this is a little weird.  When you call doc.addChild(cur),\n        cur may be the only entry point into cur\'s XML graph.  If that\'s the case,\n        then you\'ve got GC problems as the weakref cache will never kickoff a deallocation\n        callback since the node wasn\'t actually destroyed - just moved.\n\n        To solve this problem easily, we just create a temporary reference to the xmlDoc\n        of the graph.  If there are _other_ references, then well - we ust incur the cost of\n        a pointer create/destruction. No biggie.\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_addChild(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *__pyx_v_cur = 0;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *__pyx_v_curDoc;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"cur",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_cur)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_cur);
  ((PyObject*)__pyx_v_curDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_curDoc));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_cur), __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode, 1, "cur")) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 155; goto __pyx_L1;}

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":170 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_cur), __pyx_n_xmlDoc); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_curDoc));
  ((PyObject *)__pyx_v_curDoc) = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":174 */
  xmlUnlinkNode(__pyx_v_cur->_xmlNodePtr);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":177 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_moveNodeToNewDoc); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->doc)); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_cur));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_cur));
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 177; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":179 */
  xmlAddChild(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr,__pyx_v_cur->_xmlNodePtr);

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.addChild");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_curDoc);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_cur);
  return __pyx_r;
}

static PyObject *__pyx_n_removeNodeFromDocKey;
static PyObject *__pyx_n_compressDocKey;

static PyObject *__pyx_k7p;
static PyObject *__pyx_k8p;

static char (__pyx_k7[]) = "The element you are trying to use as a replacement must be the root node of a document.  Parent node type is :%d";
static char (__pyx_k8[]) = "---End replaceNode";

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_replaceNode(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_replaceNode[] = "\n        Replace this node with another node\'s nodePtr.\n\n        This is a DANGEROUS thing to do!!! Replacing the underlying nodePtr\n        will mangle the __hash__ and __eq__ functions in the cache\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_replaceNode(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *__pyx_v_cur = 0;
  xmlDocPtr __pyx_v_thisDoc;
  xmlDocPtr __pyx_v_tmpDoc;
  xmlNodePtr __pyx_v_thisNode;
  xmlNodePtr __pyx_v_prevNode;
  xmlNodePtr __pyx_v_nextNode;
  xmlNodePtr __pyx_v_parentNode;
  xmlNodePtr __pyx_v_curNode;
  xmlNodePtr __pyx_v_curParentNode;
  xmlDocPtr __pyx_v_curDoc;
  int __pyx_v_parentType;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"cur",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_cur)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_cur);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_cur), __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode, 1, "cur")) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 181; goto __pyx_L1;}

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":203 */
  __pyx_v_thisNode = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":204 */
  __pyx_v_thisDoc = __pyx_v_thisNode->doc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":205 */
  __pyx_v_prevNode = __pyx_v_thisNode->prev;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":206 */
  __pyx_v_nextNode = __pyx_v_thisNode->next;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":207 */
  __pyx_v_parentNode = __pyx_v_thisNode->parent;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":210 */
  __pyx_v_curNode = __pyx_v_cur->_xmlNodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":211 */
  __pyx_v_curParentNode = __pyx_v_curNode->parent;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":212 */
  __pyx_v_curDoc = __pyx_v_curNode->doc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":214 */
  __pyx_1 = (__pyx_v_curParentNode->type != XML_DOCUMENT_NODE);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":215 */
    __pyx_2 = PyInt_FromLong(__pyx_v_curParentNode->type); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 215; goto __pyx_L1;}
    __pyx_3 = PyNumber_Remainder(__pyx_k7p, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 215; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 215; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":219 */
  __pyx_1 = (__pyx_v_prevNode != 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":223 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_removeNodeFromDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_thisNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(((int )__pyx_v_thisDoc)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 223; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":224 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_2, __pyx_n_removeNodeFromDocKey); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 224; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":226 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_5, __pyx_n_compressDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 226; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":229 */
    xmlUnlinkNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":230 */
    xmlUnlinkNode(__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":233 */
    xmlAddNextSibling(__pyx_v_prevNode,__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":236 */
    __pyx_v_curNode->doc = __pyx_v_thisDoc;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":239 */
    ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr = __pyx_v_curNode;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":241 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_cacheNewNode); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_self);
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":244 */
    xmlFreeNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":245 */
    xmlFreeDoc(__pyx_v_curDoc);
    goto __pyx_L3;
  }
  __pyx_1 = (__pyx_v_nextNode != 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":251 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_removeNodeFromDocKey); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_thisNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((int )__pyx_v_thisDoc)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
    __pyx_3 = 0;
    __pyx_2 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":252 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    __pyx_5 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_removeNodeFromDocKey); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
    __pyx_3 = 0;
    __pyx_2 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":254 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_compressDocKey); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":257 */
    xmlUnlinkNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":258 */
    xmlUnlinkNode(__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":261 */
    xmlAddPrevSibling(__pyx_v_nextNode,__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":264 */
    __pyx_v_curNode->doc = __pyx_v_thisDoc;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":267 */
    ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr = __pyx_v_curNode;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":269 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 269; goto __pyx_L1;}
    __pyx_5 = PyObject_GetAttr(__pyx_3, __pyx_n_nodecache); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 269; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_5, __pyx_n_cacheNewNode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 269; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 269; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_self);
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 269; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":272 */
    xmlFreeNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":273 */
    xmlFreeDoc(__pyx_v_curDoc);
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":277 */
    __pyx_v_parentType = __pyx_v_parentNode->type;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":282 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_5, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_removeNodeFromDocKey); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_thisNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    __pyx_5 = PyInt_FromLong(((int )__pyx_v_thisDoc)); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":283 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_removeNodeFromDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curNode)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    __pyx_5 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_5);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":285 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_5, __pyx_n_nodecache); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_compressDocKey); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_curDoc)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":288 */
    xmlUnlinkNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":289 */
    xmlUnlinkNode(__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":292 */
    xmlAddChild(__pyx_v_parentNode,__pyx_v_curNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":295 */
    __pyx_v_curNode->doc = __pyx_v_thisDoc;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":298 */
    ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr = __pyx_v_curNode;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":300 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_3, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_cacheNewNode); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
    __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":303 */
    xmlFreeNode(__pyx_v_thisNode);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":304 */
    xmlFreeDoc(__pyx_v_curDoc);
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":307 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_debugMode); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 307; goto __pyx_L1;}
  __pyx_1 = PyObject_IsTrue(__pyx_4); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":308 */
    if (__Pyx_PrintItem(__pyx_k8p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; goto __pyx_L1;}
    if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.replaceNode");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_cur);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xmlDoc(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xmlDoc(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  xmlDocPtr __pyx_v_docPtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *__pyx_v_tmpDoc;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpDoc));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":315 */
  __pyx_v_docPtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->doc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":316 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 316; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 316; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 316; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpDoc));
  ((PyObject *)__pyx_v_tmpDoc) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":317 */
  __pyx_v_tmpDoc->_xmlDocPtr = __pyx_v_docPtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":318 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapDoc); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpDoc));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpDoc));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.xmlDoc");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpDoc);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_parent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_parent[] = "\n        return the parent of this node\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_parent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":325 */
  __pyx_1 = (((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->parent->type == XML_DOCUMENT_NODE);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":327 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":329 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpNode));
  ((PyObject *)__pyx_v_tmpNode) = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":330 */
  __pyx_v_tmpNode->_xmlNodePtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->parent;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":331 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 331; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 331; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpNode));
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_tmpNode));
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 331; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.parent");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_next(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_next[] = "\n        return the next sibling of this node\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_next(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":338 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpNode));
  ((PyObject *)__pyx_v_tmpNode) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":339 */
  __pyx_v_tmpNode->_xmlNodePtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->next;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":340 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 340; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 340; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpNode));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpNode));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 340; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.next");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prev(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_prev[] = "\n        return the previous sibling of this node\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prev(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":347 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpNode));
  ((PyObject *)__pyx_v_tmpNode) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":348 */
  __pyx_v_tmpNode->_xmlNodePtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->prev;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":349 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 349; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpNode));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpNode));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.prev");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_append;

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_children(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_children[] = "\n        return child nodes\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_children(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  xmlNodePtr __pyx_v_childPtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  PyObject *__pyx_v_nodeList;
  PyObject *__pyx_v_resultNode;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));
  __pyx_v_nodeList = Py_None; Py_INCREF(__pyx_v_nodeList);
  __pyx_v_resultNode = Py_None; Py_INCREF(__pyx_v_resultNode);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":358 */
  __pyx_v_childPtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->children;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":360 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; goto __pyx_L1;}
  Py_DECREF(__pyx_v_nodeList);
  __pyx_v_nodeList = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":361 */
  while (1) {
    __pyx_L2:;
    __pyx_2 = (__pyx_v_childPtr != 0);
    if (!__pyx_2) break;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":362 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_tmpNode));
    ((PyObject *)__pyx_v_tmpNode) = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":363 */
    __pyx_v_tmpNode->_xmlNodePtr = __pyx_v_childPtr;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":364 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_tmpNode));
    PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_tmpNode));
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_resultNode);
    __pyx_v_resultNode = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":365 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_nodeList, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; goto __pyx_L1;}
    Py_INCREF(__pyx_v_resultNode);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_resultNode);
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":366 */
    __pyx_v_childPtr = __pyx_v_childPtr->next;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":368 */
  Py_INCREF(__pyx_v_nodeList);
  __pyx_r = __pyx_v_nodeList;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.children");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_nodeList);
  Py_DECREF(__pyx_v_resultNode);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setProp(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_setProp[] = "\n        Set attribute of hte xmlNode\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setProp(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_key);
  char (*__pyx_v_value);
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"key","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "ss", __pyx_argnames, &__pyx_v_key, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":374 */
  xmlSetProp(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr,((xmlChar (*))__pyx_v_key),((xmlChar (*))__pyx_v_value));

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.setProp");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_str;

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prop(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_prop[] = "\n        get a location for america\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prop(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_value);
  char (*__pyx_v_buff);
  PyObject *__pyx_v_result;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":381 */
  __pyx_v_buff = ((char (*))xmlGetProp(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr,((xmlChar (*))__pyx_v_value)));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":382 */
  __pyx_1 = (__pyx_v_buff == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":383 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":384 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; goto __pyx_L1;}
  __pyx_3 = PyString_FromString(__pyx_v_buff); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":385 */
  xmlFree(__pyx_v_buff);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":386 */
  Py_INCREF(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.prop");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_result);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_properties(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_properties[] = "\n        Return a python dictionary for each of the attributes for this node\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_properties(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  xmlAttr (*__pyx_v_prop);
  xmlChar (*__pyx_v_buff);
  PyObject *__pyx_v_resultDict;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_resultDict = Py_None; Py_INCREF(__pyx_v_resultDict);
  __pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":395 */
  __pyx_v_prop = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->properties;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":396 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 396; goto __pyx_L1;}
  Py_DECREF(__pyx_v_resultDict);
  __pyx_v_resultDict = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":397 */
  while (1) {
    __pyx_L2:;
    __pyx_2 = (__pyx_v_prop != 0);
    if (!__pyx_2) break;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":398 */
    __pyx_v_buff = xmlNodeGetContent(__pyx_v_prop->children);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":399 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; goto __pyx_L1;}
    __pyx_3 = PyString_FromString(((char (*))__pyx_v_buff)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_value);
    __pyx_v_value = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":400 */
    xmlFree(__pyx_v_buff);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":401 */
    __pyx_1 = PyString_FromString(((char (*))__pyx_v_prop->name)); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; goto __pyx_L1;}
    if (PyObject_SetItem(__pyx_v_resultDict, __pyx_1, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":402 */
    __pyx_v_prop = __pyx_v_prop->next;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":403 */
  Py_INCREF(__pyx_v_resultDict);
  __pyx_r = __pyx_v_resultDict;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.properties");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_resultDict);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setContent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setContent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_content);
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"content",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_content)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":407 */
  xmlNodeSetContent(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr,((xmlChar (*))__pyx_v_content));

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.setContent");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_content(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_content(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_buff);
  PyObject *__pyx_v_result;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":411 */
  __pyx_v_buff = ((char (*))xmlNodeGetContent(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":413 */
  __pyx_1 = (__pyx_v_buff != 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":414 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; goto __pyx_L1;}
    __pyx_3 = PyString_FromString(__pyx_v_buff); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_result);
    __pyx_v_result = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":415 */
    xmlFree(__pyx_v_buff);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":416 */
    Py_INCREF(__pyx_v_result);
    __pyx_r = __pyx_v_result;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.content");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_result);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_cmp;
static PyObject *__pyx_n___hash__;

static int __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static int __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":419 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_cmp); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___hash__); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_v_other, __pyx_n___hash__); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___str__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode___str__[] = "\n        serialize the node - no formatting though\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___str__(PyObject *__pyx_v_self) {
  xmlBufferPtr __pyx_v_buf;
  PyObject *__pyx_v_result;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":427 */
  __pyx_v_buf = xmlBufferCreate();

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":429 */
  xmlNodeDump(__pyx_v_buf,0,((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr,4,0);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":430 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; goto __pyx_L1;}
  __pyx_2 = PyString_FromString(((char (*))__pyx_v_buf->content)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":431 */
  xmlBufferFree(__pyx_v_buf);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":432 */
  Py_INCREF(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_result);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_hasCacheForDocKey;
static PyObject *__pyx_n_numNodesForDocKey;
static PyObject *__pyx_n__xmlCache;

static PyObject *__pyx_k9p;
static PyObject *__pyx_k10p;

static char (__pyx_k9[]) = "In dealloc for xmlNode";
static char (__pyx_k10[]) = "Auto Free doc: %d";

static void __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___dealloc__(PyObject *__pyx_v_self) {
  xmlNodePtr __pyx_v_nodePtr;
  xmlDocPtr __pyx_v_docPtr;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":435 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_debugMode); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 435; goto __pyx_L1;}
  __pyx_2 = PyObject_IsTrue(__pyx_1); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 435; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":436 */
    if (__Pyx_PrintItem(__pyx_k9p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 436; goto __pyx_L1;}
    if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 436; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":440 */
  __pyx_v_nodePtr = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":442 */
  __pyx_v_docPtr = __pyx_v_nodePtr->doc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":444 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_hasCacheForDocKey); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyObject_IsTrue(__pyx_3); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 444; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_2) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":445 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_1, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n_hasDocForDocKey); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_1, __pyx_3, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      __pyx_1 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_numNodesForDocKey); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_4 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
      __pyx_4 = 0;
      __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_4, __pyx_3, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; goto __pyx_L1;}
      __pyx_2 = __pyx_2 == 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    if (__pyx_2) {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":446 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; goto __pyx_L1;}
      __pyx_4 = PyObject_GetAttr(__pyx_1, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n__xmlCache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_1 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; goto __pyx_L1;}
      if (PyObject_DelItem(__pyx_3, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":448 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_debugMode); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; goto __pyx_L1;}
      __pyx_2 = PyObject_IsTrue(__pyx_4); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      if (__pyx_2) {

        /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":449 */
        __pyx_4 = PyInt_FromLong(((int )__pyx_v_docPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; goto __pyx_L1;}
        __pyx_5 = PyNumber_Remainder(__pyx_k10p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; goto __pyx_L1;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        if (__Pyx_PrintItem(__pyx_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; goto __pyx_L1;}
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; goto __pyx_L1;}
        goto __pyx_L5;
      }
      __pyx_L5:;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":450 */
      xmlFreeDoc(__pyx_v_docPtr);
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L3;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k11p;
static PyObject *__pyx_k12p;

static char (__pyx_k11[]) = "Error in xmlXPathNewContext\n";
static char (__pyx_k12[]) = "Error in xmlXPathEvalExpression\n";

static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xpathEval(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_xpathEval[] = "\n        simple xpath evaluation\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xpathEval(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_xpathExpr);
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  xmlNodePtr __pyx_v_curNode;
  xmlNodeSetPtr __pyx_v_nodesetval;
  xmlXPathContextPtr __pyx_v_xpathCtx;
  xmlXPathObjectPtr __pyx_v_xpathObject;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_i;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  long __pyx_3;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  static char *__pyx_argnames[] = {"xpathExpr",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_xpathExpr)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));
  __pyx_v_retval = Py_None; Py_INCREF(__pyx_v_retval);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":462 */
  __pyx_v_xpathCtx = xmlXPathNewContext(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr->doc);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":463 */
  __pyx_1 = (__pyx_v_xpathCtx == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":464 */
    __Pyx_Raise(__pyx_k11p, 0, 0);
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":468 */
  __pyx_v_xpathCtx->node = ((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)__pyx_v_self)->_xmlNodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":470 */
  __pyx_v_xpathObject = xmlXPathEvalExpression(((xmlChar (*))__pyx_v_xpathExpr),__pyx_v_xpathCtx);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":471 */
  xmlXPathFreeContext(__pyx_v_xpathCtx);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":473 */
  __pyx_1 = (__pyx_v_xpathObject == 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":474 */
    __Pyx_Raise(__pyx_k12p, 0, 0);
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":476 */
  __pyx_v_nodesetval = __pyx_v_xpathObject->nodesetval;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":477 */
  __pyx_1 = (__pyx_v_nodesetval == 0);
  if (!__pyx_1) {
    __pyx_1 = (__pyx_v_nodesetval->nodeNr == 0);
    if (!__pyx_1) {
      __pyx_1 = (__pyx_v_nodesetval->nodeTab == 0);
    }
  }
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":480 */
    xmlXPathFreeObject(__pyx_v_xpathObject);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":481 */
    __pyx_2 = PyList_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":485 */
  __pyx_2 = PyList_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 485; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":486 */
  __pyx_1 = (__pyx_v_xpathObject != 0);
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":487 */
    __pyx_v_nodesetval = __pyx_v_xpathObject->nodesetval;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":488 */
    __pyx_1 = __pyx_v_nodesetval->nodeNr;
    for (__pyx_3 = 0; __pyx_3 < __pyx_1; ++__pyx_3) {
      __pyx_2 = PyInt_FromLong(__pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 488; goto __pyx_L1;}
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":490 */
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; goto __pyx_L1;}
      __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_tmpNode));
      ((PyObject *)__pyx_v_tmpNode) = __pyx_4;
      __pyx_4 = 0;

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":491 */
      __pyx_5 = PyInt_AsLong(__pyx_v_i); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; goto __pyx_L1;}
      __pyx_v_tmpNode->_xmlNodePtr = (__pyx_v_nodesetval->nodeTab[__pyx_5]);

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":493 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_retval, __pyx_n_append); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      Py_INCREF(((PyObject *)__pyx_v_tmpNode));
      PyTuple_SET_ITEM(__pyx_6, 0, ((PyObject *)__pyx_v_tmpNode));
      __pyx_7 = PyObject_CallObject(__pyx_4, __pyx_6); if (!__pyx_7) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_7);
      __pyx_7 = 0;
      __pyx_6 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 493; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_L6:;
    }
    __pyx_L7:;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":494 */
    xmlXPathFreeObject(__pyx_v_xpathObject);
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":495 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlNode.xpathEval");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static long __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___hash__(PyObject *__pyx_v_self); /*proto*/
static long __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___hash__(PyObject *__pyx_v_self) {
  long __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":503 */
  __pyx_r = ((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr);
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.__hash__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static int __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":506 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_cmp); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___hash__); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_v_other, __pyx_n___hash__); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_n_rootElement;
static PyObject *__pyx_n_setRootElement;

static PyObject *__pyx_k13p;

static char (__pyx_k13[]) = "1.0";

static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_setRootElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_setRootElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *__pyx_v_cur = 0;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *__pyx_v_tmpDoc;
  PyObject *__pyx_v_oldRootElem;
  PyObject *__pyx_v_oldDoc;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"cur",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_cur)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_cur);
  ((PyObject*)__pyx_v_tmpDoc) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpDoc));
  __pyx_v_oldRootElem = Py_None; Py_INCREF(__pyx_v_oldRootElem);
  __pyx_v_oldDoc = Py_None; Py_INCREF(__pyx_v_oldDoc);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_cur), __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode, 1, "cur")) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 508; goto __pyx_L1;}

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":511 */
  if (PyObject_Cmp(((PyObject *)__pyx_v_cur), Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 511; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":513 */
    __pyx_r = Py_None; Py_INCREF(__pyx_r);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":516 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_rootElement); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_oldRootElem);
  __pyx_v_oldRootElem = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":517 */
  __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_cur), __pyx_n_xmlDoc); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_oldDoc);
  __pyx_v_oldDoc = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":520 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyObject_GetAttr(__pyx_3, __pyx_n_moveNodeToNewDoc); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_cur));
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_cur));
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 520; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":523 */
  xmlDocSetRootElement(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr,__pyx_v_cur->_xmlNodePtr);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":526 */
  __pyx_1 = __pyx_v_oldRootElem != Py_None;
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":527 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_newDoc); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; goto __pyx_L1;}
    Py_INCREF(__pyx_k13p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k13p);
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_tmpDoc));
    ((PyObject *)__pyx_v_tmpDoc) = __pyx_2;
    __pyx_2 = 0;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":528 */
    __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_tmpDoc), __pyx_n_setRootElement); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 528; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 528; goto __pyx_L1;}
    Py_INCREF(__pyx_v_oldRootElem);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_oldRootElem);
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 528; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.setRootElement");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmpDoc);
  Py_DECREF(__pyx_v_oldRootElem);
  Py_DECREF(__pyx_v_oldDoc);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_cur);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_rootElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_rootElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  xmlNodePtr __pyx_v_nodePtr;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *__pyx_v_resultNode;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *__pyx_v_tmpNode;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_resultNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_resultNode));
  ((PyObject*)__pyx_v_tmpNode) = Py_None; Py_INCREF(((PyObject*)__pyx_v_tmpNode));

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":536 */
  __pyx_v_nodePtr = xmlDocGetRootElement(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":538 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 538; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 538; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 538; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_tmpNode));
  ((PyObject *)__pyx_v_tmpNode) = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":539 */
  __pyx_v_tmpNode->_xmlNodePtr = __pyx_v_nodePtr;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":540 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_wrapNode); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 540; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 540; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_tmpNode));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_tmpNode));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 540; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 540; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_resultNode));
  ((PyObject *)__pyx_v_resultNode) = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":542 */
  Py_INCREF(((PyObject *)__pyx_v_resultNode));
  __pyx_r = ((PyObject *)__pyx_v_resultNode);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.rootElement");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_resultNode);
  Py_DECREF(__pyx_v_tmpNode);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_xpathEval;

static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_xpathEval(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12vlibxml2_mod_15vlibxml2_xmlDoc_xpathEval[] = "\n        simple xpath evaluation\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_xpathEval(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char (*__pyx_v_xpathExpr);
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"xpathExpr",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "s", __pyx_argnames, &__pyx_v_xpathExpr)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":548 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_rootElement); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_xpathEval); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyString_FromString(__pyx_v_xpathExpr); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 548; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.xpathEval");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___str__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_12vlibxml2_mod_15vlibxml2_xmlDoc___str__[] = "\n        Serialize the document - formatted mostly because it\'s easier to deal with.\n        ";
static PyObject *__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___str__(PyObject *__pyx_v_self) {
  unsigned char (*__pyx_v_xmlbuff);
  int __pyx_v_buffersize;
  PyObject *__pyx_v_result;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":556 */
  xmlDocDumpFormatMemory(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr,(&__pyx_v_xmlbuff),(&__pyx_v_buffersize),1);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":559 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 559; goto __pyx_L1;}
  __pyx_2 = PyString_FromString(((char (*))__pyx_v_xmlbuff)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 559; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 559; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 559; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":562 */
  xmlFree(__pyx_v_xmlbuff);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":563 */
  Py_INCREF(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_result);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_deleteDoc;

static PyObject *__pyx_k14p;
static PyObject *__pyx_k15p;
static PyObject *__pyx_k16p;

static char (__pyx_k14[]) = "Don't need to dealloc this xmlDocPtr since it's -1";
static char (__pyx_k15[]) = "In dealloc for xmlDoc";
static char (__pyx_k16[]) = "Auto Free doc: %d";

static void __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___dealloc__(PyObject *__pyx_v_self) {
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":568 */
  __pyx_1 = (((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr) == (-1));
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":569 */
    if (__Pyx_PrintItem(__pyx_k14p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 569; goto __pyx_L1;}
    if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 569; goto __pyx_L1;}

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":570 */
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":572 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_debugMode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 572; goto __pyx_L1;}
  __pyx_1 = PyObject_IsTrue(__pyx_2); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 572; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":573 */
    if (__Pyx_PrintItem(__pyx_k15p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 573; goto __pyx_L1;}
    if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 573; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":575 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_hasDocForDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n_nodecache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_numNodesForDocKey); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_4, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 575; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_1) {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":577 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_debugMode); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 577; goto __pyx_L1;}
    __pyx_1 = PyObject_IsTrue(__pyx_3); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 577; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_1) {

      /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":578 */
      __pyx_4 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 578; goto __pyx_L1;}
      __pyx_2 = PyNumber_Remainder(__pyx_k16p, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 578; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      if (__Pyx_PrintItem(__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 578; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 578; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":579 */
    xmlFreeDoc(((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr);

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":582 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_3, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_deleteDoc); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 582; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":584 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_vlibxml2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_nodecache); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyObject_GetAttr(__pyx_4, __pyx_n__xmlCache); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyInt_FromLong(((int )((struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)__pyx_v_self)->_xmlDocPtr)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    __pyx_4 = PyObject_GetItem(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    if (PyObject_SetItem(__pyx_4, __pyx_3, Py_None) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 584; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_L4:;

  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("vlibxml2_mod.vlibxml2_xmlDoc.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_False, "False"},
  {&__pyx_n_RuntimeError, "RuntimeError"},
  {&__pyx_n___hash__, "__hash__"},
  {&__pyx_n__xmlCache, "_xmlCache"},
  {&__pyx_n_append, "append"},
  {&__pyx_n_cacheNewDoc, "cacheNewDoc"},
  {&__pyx_n_cacheNewNode, "cacheNewNode"},
  {&__pyx_n_cleanupParser, "cleanupParser"},
  {&__pyx_n_cmp, "cmp"},
  {&__pyx_n_compressDocKey, "compressDocKey"},
  {&__pyx_n_debugMemory, "debugMemory"},
  {&__pyx_n_debugMode, "debugMode"},
  {&__pyx_n_deleteDoc, "deleteDoc"},
  {&__pyx_n_docForDocKey, "docForDocKey"},
  {&__pyx_n_hasCacheForDocKey, "hasCacheForDocKey"},
  {&__pyx_n_hasDocForDocKey, "hasDocForDocKey"},
  {&__pyx_n_hasNode, "hasNode"},
  {&__pyx_n_initCacheForDocKey, "initCacheForDocKey"},
  {&__pyx_n_initParser, "initParser"},
  {&__pyx_n_libxmlMemoryAllocatedBase, "libxmlMemoryAllocatedBase"},
  {&__pyx_n_libxmlMemoryDebug, "libxmlMemoryDebug"},
  {&__pyx_n_moveNodeToNewDoc, "moveNodeToNewDoc"},
  {&__pyx_n_newDoc, "newDoc"},
  {&__pyx_n_newNode, "newNode"},
  {&__pyx_n_nodeForKey, "nodeForKey"},
  {&__pyx_n_nodecache, "nodecache"},
  {&__pyx_n_numNodesForDocKey, "numNodesForDocKey"},
  {&__pyx_n_parseDoc, "parseDoc"},
  {&__pyx_n_removeNodeFromDocKey, "removeNodeFromDocKey"},
  {&__pyx_n_rootElement, "rootElement"},
  {&__pyx_n_setRootElement, "setRootElement"},
  {&__pyx_n_str, "str"},
  {&__pyx_n_vlibxml2, "vlibxml2"},
  {&__pyx_n_vlibxml2_subclasses, "vlibxml2_subclasses"},
  {&__pyx_n_wrapDoc, "wrapDoc"},
  {&__pyx_n_wrapNode, "wrapNode"},
  {&__pyx_n_xmlDoc, "xmlDoc"},
  {&__pyx_n_xmlDocSub, "xmlDocSub"},
  {&__pyx_n_xmlNodeSub, "xmlNodeSub"},
  {&__pyx_n_xpathEval, "xpathEval"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k1p, __pyx_k1, sizeof(__pyx_k1)},
  {&__pyx_k2p, __pyx_k2, sizeof(__pyx_k2)},
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_k6p, __pyx_k6, sizeof(__pyx_k6)},
  {&__pyx_k7p, __pyx_k7, sizeof(__pyx_k7)},
  {&__pyx_k8p, __pyx_k8, sizeof(__pyx_k8)},
  {&__pyx_k9p, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_k10p, __pyx_k10, sizeof(__pyx_k10)},
  {&__pyx_k11p, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k12p, __pyx_k12, sizeof(__pyx_k12)},
  {&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13)},
  {&__pyx_k14p, __pyx_k14, sizeof(__pyx_k14)},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_k16p, __pyx_k16, sizeof(__pyx_k16)},
  {0, 0, 0}
};

static PyObject *__pyx_tp_new_12vlibxml2_mod_vlibxml2_xmlNode(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)o;
  if (__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_xmlNode(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_xmlNode(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)o;
  return 0;
}

static int __pyx_tp_clear_12vlibxml2_mod_vlibxml2_xmlNode(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode *)o;
  return 0;
}

static struct PyMethodDef __pyx_methods_12vlibxml2_mod_vlibxml2_xmlNode[] = {
  {"name", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_name, METH_VARARGS|METH_KEYWORDS, 0},
  {"setName", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setName, METH_VARARGS|METH_KEYWORDS, 0},
  {"type", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_type, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_type},
  {"addChild", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_addChild, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_addChild},
  {"replaceNode", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_replaceNode, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_replaceNode},
  {"xmlDoc", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xmlDoc, METH_VARARGS|METH_KEYWORDS, 0},
  {"parent", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_parent, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_parent},
  {"next", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_next, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_next},
  {"prev", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prev, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_prev},
  {"children", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_children, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_children},
  {"setProp", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setProp, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_setProp},
  {"prop", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_prop, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_prop},
  {"properties", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_properties, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_properties},
  {"setContent", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_setContent, METH_VARARGS|METH_KEYWORDS, 0},
  {"content", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_content, METH_VARARGS|METH_KEYWORDS, 0},
  {"xpathEval", (PyCFunction)__pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode_xpathEval, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_16vlibxml2_xmlNode_xpathEval},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vlibxml2_xmlNode = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vlibxml2_xmlNode = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vlibxml2_xmlNode = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vlibxml2_xmlNode = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_xmlNode = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "vlibxml2_mod.vlibxml2_xmlNode", /*tp_name*/
  sizeof(struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlNode), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_xmlNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___cmp__, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vlibxml2_xmlNode, /*tp_as_number*/
  &__pyx_tp_as_sequence_vlibxml2_xmlNode, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vlibxml2_xmlNode, /*tp_as_mapping*/
  __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___hash__, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_12vlibxml2_mod_16vlibxml2_xmlNode___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vlibxml2_xmlNode, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_xmlNode, /*tp_traverse*/
  __pyx_tp_clear_12vlibxml2_mod_vlibxml2_xmlNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12vlibxml2_mod_vlibxml2_xmlNode, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12vlibxml2_mod_vlibxml2_xmlNode, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_12vlibxml2_mod_vlibxml2_xmlDoc(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)o;
  return o;
}

static void __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_xmlDoc(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_xmlDoc(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)o;
  return 0;
}

static int __pyx_tp_clear_12vlibxml2_mod_vlibxml2_xmlDoc(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc *)o;
  return 0;
}

static struct PyMethodDef __pyx_methods_12vlibxml2_mod_vlibxml2_xmlDoc[] = {
  {"setRootElement", (PyCFunction)__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_setRootElement, METH_VARARGS|METH_KEYWORDS, 0},
  {"rootElement", (PyCFunction)__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_rootElement, METH_VARARGS|METH_KEYWORDS, 0},
  {"xpathEval", (PyCFunction)__pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc_xpathEval, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_15vlibxml2_xmlDoc_xpathEval},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vlibxml2_xmlDoc = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vlibxml2_xmlDoc = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vlibxml2_xmlDoc = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vlibxml2_xmlDoc = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_xmlDoc = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "vlibxml2_mod.vlibxml2_xmlDoc", /*tp_name*/
  sizeof(struct __pyx_obj_12vlibxml2_mod_vlibxml2_xmlDoc), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_xmlDoc, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___cmp__, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vlibxml2_xmlDoc, /*tp_as_number*/
  &__pyx_tp_as_sequence_vlibxml2_xmlDoc, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vlibxml2_xmlDoc, /*tp_as_mapping*/
  __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___hash__, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_12vlibxml2_mod_15vlibxml2_xmlDoc___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vlibxml2_xmlDoc, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_xmlDoc, /*tp_traverse*/
  __pyx_tp_clear_12vlibxml2_mod_vlibxml2_xmlDoc, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12vlibxml2_mod_vlibxml2_xmlDoc, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12vlibxml2_mod_vlibxml2_xmlDoc, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_12vlibxml2_mod_vlibxml2_tmpXMLNode(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *)o;
  return o;
}

static void __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_tmpXMLNode(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_tmpXMLNode(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *)o;
  return 0;
}

static int __pyx_tp_clear_12vlibxml2_mod_vlibxml2_tmpXMLNode(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode *)o;
  return 0;
}

static struct PyMethodDef __pyx_methods_12vlibxml2_mod_vlibxml2_tmpXMLNode[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vlibxml2_tmpXMLNode = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vlibxml2_tmpXMLNode = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vlibxml2_tmpXMLNode = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vlibxml2_tmpXMLNode = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLNode = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "vlibxml2_mod.vlibxml2_tmpXMLNode", /*tp_name*/
  sizeof(struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLNode), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_tmpXMLNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vlibxml2_tmpXMLNode, /*tp_as_number*/
  &__pyx_tp_as_sequence_vlibxml2_tmpXMLNode, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vlibxml2_tmpXMLNode, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vlibxml2_tmpXMLNode, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "\n    basic wrapper class for c-xmlNodePtr\n    ", /*tp_doc*/
  __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_tmpXMLNode, /*tp_traverse*/
  __pyx_tp_clear_12vlibxml2_mod_vlibxml2_tmpXMLNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12vlibxml2_mod_vlibxml2_tmpXMLNode, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12vlibxml2_mod_vlibxml2_tmpXMLNode, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_12vlibxml2_mod_vlibxml2_tmpXMLDoc(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *)o;
  return o;
}

static void __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_tmpXMLDoc(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_tmpXMLDoc(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *)o;
  return 0;
}

static int __pyx_tp_clear_12vlibxml2_mod_vlibxml2_tmpXMLDoc(PyObject *o) {
  struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *p = (struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc *)o;
  return 0;
}

static struct PyMethodDef __pyx_methods_12vlibxml2_mod_vlibxml2_tmpXMLDoc[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vlibxml2_tmpXMLDoc = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vlibxml2_tmpXMLDoc = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vlibxml2_tmpXMLDoc = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vlibxml2_tmpXMLDoc = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLDoc = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "vlibxml2_mod.vlibxml2_tmpXMLDoc", /*tp_name*/
  sizeof(struct __pyx_obj_12vlibxml2_mod_vlibxml2_tmpXMLDoc), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12vlibxml2_mod_vlibxml2_tmpXMLDoc, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vlibxml2_tmpXMLDoc, /*tp_as_number*/
  &__pyx_tp_as_sequence_vlibxml2_tmpXMLDoc, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vlibxml2_tmpXMLDoc, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vlibxml2_tmpXMLDoc, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "\n    basic wrapper class for c-xmlDocPtr\n    ", /*tp_doc*/
  __pyx_tp_traverse_12vlibxml2_mod_vlibxml2_tmpXMLDoc, /*tp_traverse*/
  __pyx_tp_clear_12vlibxml2_mod_vlibxml2_tmpXMLDoc, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12vlibxml2_mod_vlibxml2_tmpXMLDoc, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12vlibxml2_mod_vlibxml2_tmpXMLDoc, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"wrapNode", (PyCFunction)__pyx_f_12vlibxml2_mod_wrapNode, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_wrapNode},
  {"wrapDoc", (PyCFunction)__pyx_f_12vlibxml2_mod_wrapDoc, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_wrapDoc},
  {"initParser", (PyCFunction)__pyx_f_12vlibxml2_mod_initParser, METH_VARARGS|METH_KEYWORDS, 0},
  {"cleanupParser", (PyCFunction)__pyx_f_12vlibxml2_mod_cleanupParser, METH_VARARGS|METH_KEYWORDS, 0},
  {"debugMemory", (PyCFunction)__pyx_f_12vlibxml2_mod_debugMemory, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_debugMemory},
  {"newDoc", (PyCFunction)__pyx_f_12vlibxml2_mod_newDoc, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_newDoc},
  {"newNode", (PyCFunction)__pyx_f_12vlibxml2_mod_newNode, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_newNode},
  {"parseDoc", (PyCFunction)__pyx_f_12vlibxml2_mod_parseDoc, METH_VARARGS|METH_KEYWORDS, __pyx_doc_12vlibxml2_mod_parseDoc},
  {0, 0, 0, 0}
};

DL_EXPORT(void) initvlibxml2_mod(void); /*proto*/
DL_EXPORT(void) initvlibxml2_mod(void) {
  PyObject *__pyx_1 = 0;
  __pyx_m = Py_InitModule4("vlibxml2_mod", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;};
  if (PyType_Ready(&__pyx_type_12vlibxml2_mod_vlibxml2_xmlNode) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 129; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vlibxml2_xmlNode", (PyObject *)&__pyx_type_12vlibxml2_mod_vlibxml2_xmlNode) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 129; goto __pyx_L1;}
  __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlNode = &__pyx_type_12vlibxml2_mod_vlibxml2_xmlNode;
  if (PyType_Ready(&__pyx_type_12vlibxml2_mod_vlibxml2_xmlDoc) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vlibxml2_xmlDoc", (PyObject *)&__pyx_type_12vlibxml2_mod_vlibxml2_xmlDoc) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; goto __pyx_L1;}
  __pyx_ptype_12vlibxml2_mod_vlibxml2_xmlDoc = &__pyx_type_12vlibxml2_mod_vlibxml2_xmlDoc;
  if (PyType_Ready(&__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLNode) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 19; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vlibxml2_tmpXMLNode", (PyObject *)&__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLNode) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 19; goto __pyx_L1;}
  __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLNode = &__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLNode;
  if (PyType_Ready(&__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLDoc) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 25; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vlibxml2_tmpXMLDoc", (PyObject *)&__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLDoc) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 25; goto __pyx_L1;}
  __pyx_ptype_12vlibxml2_mod_vlibxml2_tmpXMLDoc = &__pyx_type_12vlibxml2_mod_vlibxml2_tmpXMLDoc;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":1 */
  __pyx_1 = __Pyx_Import(__pyx_k1p, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_vlibxml2, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 1; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":2 */
  __pyx_1 = __Pyx_Import(__pyx_k2p, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 2; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_vlibxml2, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 2; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/xmlmemory.pxi":1 */
  __pyx_k3;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/tempclasses.pxi":1 */
  __pyx_k4;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":19 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 19; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryDebug, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 19; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":20 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 20; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_libxmlMemoryAllocatedBase, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 20; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":27 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 27; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_debugMode, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 27; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/victorng/dev/cnc/libxml2/trunk/src/extensions/vlibxml2_mod.pyx":567 */
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("vlibxml2_mod");
}

static char *__pyx_filenames[] = {
  "wrapfuncs.pxi",
  "vlibxml2_mod.pyx",
  "tempclasses.pxi",
};
statichere char **__pyx_f = __pyx_filenames;

/* Runtime support code */

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static PyObject *__Pyx_GetStdout(void) {
    PyObject *f = PySys_GetObject("stdout");
    if (!f) {
        PyErr_SetString(PyExc_RuntimeError, "lost sys.stdout");
    }
    return f;
}

static int __Pyx_PrintItem(PyObject *v) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_SoftSpace(f, 1)) {
        if (PyFile_WriteString(" ", f) < 0)
            return -1;
    }
    if (PyFile_WriteObject(v, f, Py_PRINT_RAW) < 0)
        return -1;
    if (PyString_Check(v)) {
        char *s = PyString_AsString(v);
        int len = PyString_Size(v);
        if (len > 0 &&
            isspace(Py_CHARMASK(s[len-1])) &&
            s[len-1] != ' ')
                PyFile_SoftSpace(f, 0);
    }
    return 0;
}

static int __Pyx_PrintNewline(void) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_WriteString("\n", f) < 0)
        return -1;
    PyFile_SoftSpace(f, 0);
    return 0;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
