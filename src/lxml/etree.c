/* Generated by Pyrex 0.9.3.1 on Wed Jan  4 10:28:47 2006 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#include "stdio.h"
#include "libxml/encoding.h"
#include "libxml/tree.h"
#include "libxml/xmlIO.h"
#include "libxml/xmlsave.h"
#include "libxml/xmlstring.h"
#include "libxml/xmlerror.h"
#include "libxml/xpath.h"
#include "libxml/xpathInternals.h"
#include "libxslt/xsltInternals.h"
#include "libxslt/extensions.h"
#include "libxslt/transform.h"
#include "libxslt/xsltutils.h"
#include "libxml/xinclude.h"
#include "libxml/c14n.h"
#include "stdlib.h"
#include "libxml/relaxng.h"
#include "libxml/xmlschemas.h"
#include "libxml/parser.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
staticforward char **__pyx_f;

/* Declarations from tree */


/* Declarations from xmlerror */


/* Declarations from xpath */


/* Declarations from xslt */


/* Declarations from xinclude */


/* Declarations from c14n */


/* Declarations from cstd */


/* Declarations from relaxng */


/* Declarations from xmlschema */


/* Declarations from xmlparser */


/* Declarations from etree */

struct __pyx_t_5etree__ProxyRef {
  PyObject (*proxy);
  int type;
  struct __pyx_t_5etree__ProxyRef (*next);
};

staticforward PyTypeObject __pyx_type_5etree__Document;

struct __pyx_obj_5etree__Document {
  PyObject_HEAD
  int _ns_counter;
  xmlDoc (*_c_doc);
};

staticforward PyTypeObject __pyx_type_5etree__NodeBase;

struct __pyx_obj_5etree__NodeBase {
  PyObject_HEAD
  struct __pyx_vtabstruct_5etree__NodeBase *__pyx_vtab;
  struct __pyx_obj_5etree__Document *_doc;
  xmlNode (*_c_node);
  int _proxy_type;
};

struct __pyx_vtabstruct_5etree__NodeBase {
  xmlNs (*((*_getNs)(struct __pyx_obj_5etree__NodeBase *,char (*))));
};
static struct __pyx_vtabstruct_5etree__NodeBase *__pyx_vtabptr_5etree__NodeBase;

staticforward PyTypeObject __pyx_type_5etree__ElementTree;

struct __pyx_obj_5etree__ElementTree {
  PyObject_HEAD
  struct __pyx_obj_5etree__Document *_doc;
  struct __pyx_obj_5etree__NodeBase *_context_node;
};

staticforward PyTypeObject __pyx_type_5etree__Element;

struct __pyx_obj_5etree__Element {
  struct __pyx_obj_5etree__NodeBase __pyx_base;
};

struct __pyx_vtabstruct_5etree__Element {
  struct __pyx_vtabstruct_5etree__NodeBase __pyx_base;
};
static struct __pyx_vtabstruct_5etree__Element *__pyx_vtabptr_5etree__Element;

staticforward PyTypeObject __pyx_type_5etree__Comment;

struct __pyx_obj_5etree__Comment {
  struct __pyx_obj_5etree__Element __pyx_base;
};

struct __pyx_vtabstruct_5etree__Comment {
  struct __pyx_vtabstruct_5etree__Element __pyx_base;
};
static struct __pyx_vtabstruct_5etree__Comment *__pyx_vtabptr_5etree__Comment;

staticforward PyTypeObject __pyx_type_5etree__Attrib;

struct __pyx_obj_5etree__Attrib {
  struct __pyx_obj_5etree__NodeBase __pyx_base;
};

struct __pyx_vtabstruct_5etree__Attrib {
  struct __pyx_vtabstruct_5etree__NodeBase __pyx_base;
  PyObject *((*_getValue)(struct __pyx_obj_5etree__Attrib *,xmlNode (*)));
};
static struct __pyx_vtabstruct_5etree__Attrib *__pyx_vtabptr_5etree__Attrib;

staticforward PyTypeObject __pyx_type_5etree_ElementChildIterator;

struct __pyx_obj_5etree_ElementChildIterator {
  PyObject_HEAD
  PyObject *_node;
};

staticforward PyTypeObject __pyx_type_5etree__NamespaceRegistry;

struct __pyx_obj_5etree__NamespaceRegistry {
  PyObject_HEAD
  PyObject *_ns_uri;
  PyObject *_classes;
  PyObject *_extensions;
  PyObject *_xslt_elements;
};

staticforward PyTypeObject __pyx_type_5etree_XSLT;

struct __pyx_obj_5etree_XSLT {
  PyObject_HEAD
  xsltStylesheet (*_c_style);
};

staticforward PyTypeObject __pyx_type_5etree__XSLTResultTree;

struct __pyx_obj_5etree__XSLTResultTree {
  struct __pyx_obj_5etree__ElementTree __pyx_base;
  struct __pyx_obj_5etree_XSLT *_xslt;
};

staticforward PyTypeObject __pyx_type_5etree_XPathDocumentEvaluator;

struct __pyx_obj_5etree_XPathDocumentEvaluator {
  PyObject_HEAD
  struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator *__pyx_vtab;
  xmlXPathContext (*_c_ctxt);
  struct __pyx_obj_5etree__NodeBase *_root_node;
  struct __pyx_obj_5etree__Document *_doc;
  PyObject *_extension_functions;
  PyObject *_exc_info;
  PyObject *_namespaces;
  PyObject *_extensions;
  PyObject *_temp_elements;
  PyObject *_temp_docs;
};

struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator {
  PyObject *((*_evaluate)(struct __pyx_obj_5etree_XPathDocumentEvaluator *,PyObject *,xmlNode (*)));
};
static struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator *__pyx_vtabptr_5etree_XPathDocumentEvaluator;

staticforward PyTypeObject __pyx_type_5etree_XPathElementEvaluator;

struct __pyx_obj_5etree_XPathElementEvaluator {
  struct __pyx_obj_5etree_XPathDocumentEvaluator __pyx_base;
  struct __pyx_obj_5etree__Element *_element;
};

struct __pyx_vtabstruct_5etree_XPathElementEvaluator {
  struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator __pyx_base;
};
static struct __pyx_vtabstruct_5etree_XPathElementEvaluator *__pyx_vtabptr_5etree_XPathElementEvaluator;

staticforward PyTypeObject __pyx_type_5etree_RelaxNG;

struct __pyx_obj_5etree_RelaxNG {
  PyObject_HEAD
  xmlRelaxNG (*_c_schema);
};

staticforward PyTypeObject __pyx_type_5etree_XMLSchema;

struct __pyx_obj_5etree_XMLSchema {
  PyObject_HEAD
  xmlSchema (*_c_schema);
};

staticforward PyTypeObject __pyx_type_5etree_Parser;

struct __pyx_obj_5etree_Parser {
  PyObject_HEAD
  struct __pyx_vtabstruct_5etree_Parser *__pyx_vtab;
  xmlDict (*_c_dict);
  int _parser_initialized;
};

struct __pyx_vtabstruct_5etree_Parser {
  xmlDoc (*((*parseDoc)(struct __pyx_obj_5etree_Parser *,PyObject *)));
  xmlDoc (*((*parseDocFromFile)(struct __pyx_obj_5etree_Parser *,char (*))));
  void ((*_initParse)(struct __pyx_obj_5etree_Parser *));
  void ((*_prepareParse)(struct __pyx_obj_5etree_Parser *,xmlParserCtxt (*)));
  void ((*_finalizeParse)(struct __pyx_obj_5etree_Parser *,xmlDoc (*)));
  xmlDoc (*((*newDoc)(struct __pyx_obj_5etree_Parser *)));
};
static struct __pyx_vtabstruct_5etree_Parser *__pyx_vtabptr_5etree_Parser;

static PyTypeObject *__pyx_ptype_5etree__Document = 0;
static PyTypeObject *__pyx_ptype_5etree__NodeBase = 0;
static PyTypeObject *__pyx_ptype_5etree__ElementTree = 0;
static PyTypeObject *__pyx_ptype_5etree__Element = 0;
static PyTypeObject *__pyx_ptype_5etree__Comment = 0;
static PyTypeObject *__pyx_ptype_5etree__Attrib = 0;
static PyTypeObject *__pyx_ptype_5etree_ElementChildIterator = 0;
static PyTypeObject *__pyx_ptype_5etree__NamespaceRegistry = 0;
static PyTypeObject *__pyx_ptype_5etree_XSLT = 0;
static PyTypeObject *__pyx_ptype_5etree__XSLTResultTree = 0;
static PyTypeObject *__pyx_ptype_5etree_XPathDocumentEvaluator = 0;
static PyTypeObject *__pyx_ptype_5etree_XPathElementEvaluator = 0;
static PyTypeObject *__pyx_ptype_5etree_RelaxNG = 0;
static PyTypeObject *__pyx_ptype_5etree_XMLSchema = 0;
static PyTypeObject *__pyx_ptype_5etree_Parser = 0;
static int __pyx_v_5etree_PROXY_ELEMENT;
static int __pyx_v_5etree_PROXY_ATTRIB;
static int __pyx_v_5etree_PROXY_ATTRIB_ITER;
static int __pyx_v_5etree_PROXY_ELEMENT_ITER;
static PyObject *__pyx_v_5etree___NAMESPACE_CLASSES;
static PyObject *__pyx_v_5etree__RE_STRINGS;
static PyObject *__pyx_v_5etree__RE_NAMESPACES;
static struct __pyx_obj_5etree_Parser *__pyx_v_5etree_theParser;
static PyObject *__pyx_k12;
static PyObject *__pyx_k14;
static PyObject *__pyx_k15;
static PyObject *__pyx_k16;
static PyObject *__pyx_k17;
static PyObject *__pyx_k18;
static PyObject *__pyx_k19;
static PyObject *__pyx_k20;
static PyObject *__pyx_k21;
static PyObject *__pyx_k22;
static PyObject *__pyx_k23;
static PyObject *__pyx_k24;
static PyObject *__pyx_k25;
static PyObject *__pyx_k26;
static PyObject *__pyx_k27;
static PyObject *__pyx_k28;
static PyObject *__pyx_k29;
static PyObject *__pyx_k30;
static struct __pyx_obj_5etree__Element *__pyx_k31;
static PyObject *__pyx_k32;
static PyObject *__pyx_k34;
static PyObject *__pyx_k35;
static PyObject *__pyx_k52;
static PyObject *__pyx_k53;
static PyObject *__pyx_k54;
static PyObject *__pyx_k55;
static PyObject *__pyx_k56;
static PyObject *__pyx_k57;
static PyObject *__pyx_k58;
static struct __pyx_obj_5etree__ElementTree *__pyx_k62;
static PyObject *__pyx_k63;
static struct __pyx_obj_5etree__Document *(__pyx_f_5etree__parseDocument(PyObject *,PyObject *)); /*proto*/
static struct __pyx_obj_5etree__Document *(__pyx_f_5etree__documentFactory(xmlDoc (*))); /*proto*/
static void (__pyx_f_5etree_displayNode(xmlNode (*),PyObject *)); /*proto*/
static struct __pyx_obj_5etree__ElementTree *(__pyx_f_5etree__elementTreeFactory(struct __pyx_obj_5etree__Document *,struct __pyx_obj_5etree__NodeBase *)); /*proto*/
static struct __pyx_obj_5etree__ElementTree *(__pyx_f_5etree__newElementTree(struct __pyx_obj_5etree__Document *,struct __pyx_obj_5etree__NodeBase *,PyObject *)); /*proto*/
static struct __pyx_obj_5etree__Element *(__pyx_f_5etree__elementFactory(struct __pyx_obj_5etree__Document *,xmlNode (*))); /*proto*/
static struct __pyx_obj_5etree__Comment *(__pyx_f_5etree__commentFactory(struct __pyx_obj_5etree__Document *,xmlNode (*))); /*proto*/
static struct __pyx_obj_5etree__Attrib *(__pyx_f_5etree__attribFactory(struct __pyx_obj_5etree__Document *,xmlNode (*))); /*proto*/
static xmlNode (*(__pyx_f_5etree__createElement(xmlDoc (*),PyObject *,PyObject *,PyObject *))); /*proto*/
static xmlNode (*(__pyx_f_5etree__createComment(xmlDoc (*),char (*)))); /*proto*/
static PyObject *(__pyx_f_5etree__addNamespaces(xmlDoc (*),xmlNode (*),PyObject *)); /*proto*/
static PyObject *(__pyx_f_5etree__find_all_namespaces(void)); /*proto*/
static struct __pyx_obj_5etree__NamespaceRegistry *(__pyx_f_5etree__find_namespace_registry(PyObject *)); /*proto*/
static PyObject *(__pyx_f_5etree__find_extensions(PyObject *)); /*proto*/
static PyObject *(__pyx_f_5etree__find_element_class(char (*),char (*))); /*proto*/
static PyObject *(__pyx_f_5etree__xsltResultTreeFactory(struct __pyx_obj_5etree__Document *,struct __pyx_obj_5etree_XSLT *)); /*proto*/
static xmlXPathObject (*(__pyx_f_5etree__wrapXPathObject(PyObject *))); /*proto*/
static PyObject *(__pyx_f_5etree__unwrapXPathObject(xmlXPathObject (*),struct __pyx_obj_5etree__Document *)); /*proto*/
static PyObject *(__pyx_f_5etree__createNodeSetResult(struct __pyx_obj_5etree__Document *,xmlXPathObject (*))); /*proto*/
static void (__pyx_f_5etree__xpathCallback(xmlXPathParserContext (*),int )); /*proto*/
static int (__pyx_f_5etree__getParseOptions(void)); /*proto*/
static struct __pyx_obj_5etree__NodeBase *(__pyx_f_5etree_getProxy(xmlNode (*),int )); /*proto*/
static int (__pyx_f_5etree_hasProxy(xmlNode (*))); /*proto*/
static struct __pyx_t_5etree__ProxyRef (*(__pyx_f_5etree_createProxyRef(struct __pyx_obj_5etree__NodeBase *,int ))); /*proto*/
static void (__pyx_f_5etree_registerProxy(struct __pyx_obj_5etree__NodeBase *,int )); /*proto*/
static void (__pyx_f_5etree_unregisterProxy(struct __pyx_obj_5etree__NodeBase *)); /*proto*/
static void (__pyx_f_5etree_attemptDeallocation(xmlNode (*))); /*proto*/
static xmlNode (*(__pyx_f_5etree_getDeallocationTop(xmlNode (*)))); /*proto*/
static int (__pyx_f_5etree_canDeallocateChildNodes(xmlNode (*))); /*proto*/
static int (__pyx_f_5etree_canDeallocateAttributes(xmlNode (*))); /*proto*/
static int (__pyx_f_5etree_canDeallocateChildren(xmlNode (*))); /*proto*/
static struct __pyx_obj_5etree__Document *(__pyx_f_5etree__documentOrRaise(PyObject *)); /*proto*/
static struct __pyx_obj_5etree__Document *(__pyx_f_5etree__documentOf(PyObject *)); /*proto*/
static struct __pyx_obj_5etree__NodeBase *(__pyx_f_5etree__rootNodeOf(PyObject *)); /*proto*/
static xmlDoc (*(__pyx_f_5etree__fakeRootDoc(xmlDoc (*),xmlNode (*)))); /*proto*/
static void (__pyx_f_5etree__destroyFakeDoc(xmlDoc (*),xmlDoc (*))); /*proto*/
static PyObject *(__pyx_f_5etree__dumpToFile(PyObject *,xmlDoc (*),xmlNode (*))); /*proto*/
static PyObject *(__pyx_f_5etree__dumpNextNode(xmlOutputBuffer (*),xmlDoc (*),xmlNode (*),char (*))); /*proto*/
static PyObject *(__pyx_f_5etree__stripDeclaration(PyObject *)); /*proto*/
static PyObject *(__pyx_f_5etree__collectText(xmlNode (*))); /*proto*/
static PyObject *(__pyx_f_5etree__removeText(xmlNode (*))); /*proto*/
static xmlNode (*(__pyx_f_5etree__findChild(xmlNode (*),int ))); /*proto*/
static xmlNode (*(__pyx_f_5etree__findChildForwards(xmlNode (*),int ))); /*proto*/
static xmlNode (*(__pyx_f_5etree__findChildBackwards(xmlNode (*),int ))); /*proto*/
static xmlNode (*(__pyx_f_5etree__nextElement(xmlNode (*)))); /*proto*/
static void (__pyx_f_5etree__removeNode(xmlNode (*))); /*proto*/
static void (__pyx_f_5etree__moveTail(xmlNode (*),xmlNode (*))); /*proto*/
static int (__pyx_f_5etree__isElement(xmlNode (*))); /*proto*/
static void (__pyx_f_5etree__deleteSlice(xmlNode (*),int ,int )); /*proto*/
static int (__pyx_f_5etree_isutf8(char (*))); /*proto*/
static PyObject *(__pyx_f_5etree_funicode(char (*))); /*proto*/
static PyObject *(__pyx_f_5etree__namespacedName(xmlNode (*))); /*proto*/
static void (__pyx_f_5etree_changeDocumentBelow(struct __pyx_obj_5etree__NodeBase *,struct __pyx_obj_5etree__Document *)); /*proto*/
static void (__pyx_f_5etree_changeDocumentBelowHelper(xmlNode (*),struct __pyx_obj_5etree__Document *)); /*proto*/
static void (__pyx_f_5etree_nullGenericErrorFunc(void (*),char (*),...)); /*proto*/
static void (__pyx_f_5etree_nullStructuredErrorFunc(void (*),xmlError (*))); /*proto*/
static void (__pyx_f_5etree__shutUpLibxmlErrors(void)); /*proto*/
static void (__pyx_f_5etree__shutUpLibxsltErrors(void)); /*proto*/

/* Implementation of etree */

static char (__pyx_k13[]) = "us-ascii";
static char (__pyx_k33[]) = "us-ascii";
static char (__pyx_k38[]) = "All classes in namespace implementations must inherit from this\n    one.  Note that subclasses *must not* override __init__ or __new__\n    as there is absolutely undefined when these objects will be\n    created or destroyed.  All state must be kept in the underlying\n    XML.";
static char (__pyx_k40[]) = "NOT IMPLEMENTED YET!";
static char (__pyx_k50[]) = "(\"[^\"]*\")|(\'[^\']*\')";
static char (__pyx_k51[]) = "{([^}]+)}";

static PyObject *__pyx_n_tree;
static PyObject *__pyx_n_xpath;
static PyObject *__pyx_n_xslt;
static PyObject *__pyx_n_xmlerror;
static PyObject *__pyx_n_xinclude;
static PyObject *__pyx_n_c14n;
static PyObject *__pyx_n_cstd;
static PyObject *__pyx_n_re;
static PyObject *__pyx_n_types;
static PyObject *__pyx_n__elementpath;
static PyObject *__pyx_n_StringIO;
static PyObject *__pyx_n_sys;
static PyObject *__pyx_n_DEBUG;
static PyObject *__pyx_n_Error;
static PyObject *__pyx_n_LxmlError;
static PyObject *__pyx_n_LxmlSyntaxError;
static PyObject *__pyx_n_XIncludeError;
static PyObject *__pyx_n_C14NError;
static PyObject *__pyx_n_Element;
static PyObject *__pyx_n_Comment;
static PyObject *__pyx_n_SubElement;
static PyObject *__pyx_n_ElementTree;
static PyObject *__pyx_n_XML;
static PyObject *__pyx_n_fromstring;
static PyObject *__pyx_n_iselement;
static PyObject *__pyx_n_dump;
static PyObject *__pyx_n_tostring;
static PyObject *__pyx_n_parse;
static PyObject *__pyx_n_NamespaceRegistryError;
static PyObject *__pyx_n_ElementBase;
static PyObject *__pyx_n_XSLTElement;
static PyObject *__pyx_n_Namespace;
static PyObject *__pyx_n_XSLTError;
static PyObject *__pyx_n_XSLTParseError;
static PyObject *__pyx_n_XSLTApplyError;
static PyObject *__pyx_n_XSLTSaveError;
static PyObject *__pyx_n_XPathError;
static PyObject *__pyx_n_XPathContextError;
static PyObject *__pyx_n_XPathNamespaceError;
static PyObject *__pyx_n_XPathResultError;
static PyObject *__pyx_n_XPathSyntaxError;
static PyObject *__pyx_n_XPathEvaluator;
static PyObject *__pyx_n_Extension;
static PyObject *__pyx_n_relaxng;
static PyObject *__pyx_n_RelaxNGError;
static PyObject *__pyx_n_RelaxNGParseError;
static PyObject *__pyx_n_RelaxNGValidateError;
static PyObject *__pyx_n_xmlschema;
static PyObject *__pyx_n_XMLSchemaError;
static PyObject *__pyx_n_XMLSchemaParseError;
static PyObject *__pyx_n_XMLSchemaValidateError;
static PyObject *__pyx_n_xmlparser;
static PyObject *__pyx_n_XMLSyntaxError;
static PyObject *__pyx_n__getNsTag;
static PyObject *__pyx_n__getFilenameForFile;
static PyObject *__pyx_n_False;
static PyObject *__pyx_n_Exception;
static PyObject *__pyx_n_SyntaxError;
static PyObject *__pyx_n_object;
static PyObject *__pyx_n_compile;

static PyObject *__pyx_k13p;
static PyObject *__pyx_k33p;
static PyObject *__pyx_k38p;
static PyObject *__pyx_k40p;
static PyObject *__pyx_k50p;
static PyObject *__pyx_k51p;

static void __pyx_f_5etree_9_Document___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_9_Document___dealloc__(PyObject *__pyx_v_self) {
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":69 */
xmlFreeDoc(((struct __pyx_obj_5etree__Document *)__pyx_v_self)->_c_doc);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Document.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k68p;

static char (__pyx_k68[]) = "ns%d";

static PyObject *__pyx_f_5etree_9_Document_buildNewPrefix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_9_Document_buildNewPrefix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_ns;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":72 */
__pyx_1 = PyInt_FromLong(((struct __pyx_obj_5etree__Document *)__pyx_v_self)->_ns_counter); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 72; goto __pyx_L1;}
__pyx_2 = PyNumber_Remainder(__pyx_k68p, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 72; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":73 */
((struct __pyx_obj_5etree__Document *)__pyx_v_self)->_ns_counter = (((struct __pyx_obj_5etree__Document *)__pyx_v_self)->_ns_counter + 1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":74 */
Py_INCREF(__pyx_v_ns);
__pyx_r = __pyx_v_ns;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Document.buildNewPrefix");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_9_Document_getroot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_9_Document_getroot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":78 */
__pyx_v_c_node = xmlDocGetRootElement(((struct __pyx_obj_5etree__Document *)__pyx_v_self)->_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":79 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":80 */
  Py_INCREF(Py_None);
  __pyx_r = Py_None;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":81 */
__pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Document *)__pyx_v_self),__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 81; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Document.getroot");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_hasattr;
static PyObject *__pyx_n_getvalue;
static PyObject *__pyx_n_read;


static struct __pyx_obj_5etree__Document *__pyx_f_5etree__parseDocument(PyObject *__pyx_v_source,PyObject *__pyx_v_parser) {
xmlDoc (*__pyx_v_c_doc);
PyObject *__pyx_v_filename;
struct __pyx_obj_5etree__Document *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
xmlDoc (*__pyx_5);
char (*__pyx_6);
xmlDoc (*__pyx_7);
Py_INCREF(__pyx_v_source);
Py_INCREF(__pyx_v_parser);
__pyx_v_filename = Py_None; Py_INCREF(__pyx_v_filename);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":89 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; goto __pyx_L1;}
Py_INCREF(__pyx_v_source);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_source);
Py_INCREF(__pyx_n_getvalue);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_getvalue);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":90 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_source, __pyx_n_getvalue); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_5 = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->parseDoc(__pyx_v_5etree_theParser,__pyx_3); if (__pyx_5 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_c_doc = __pyx_5;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":92 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getFilenameForFile); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  Py_INCREF(__pyx_v_source);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_source);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_filename);
  __pyx_v_filename = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":94 */
  __pyx_4 = PyObject_IsTrue(__pyx_v_filename); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  __pyx_1 = PyInt_FromLong((!__pyx_4)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  __pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
    Py_INCREF(__pyx_v_source);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_source);
    Py_INCREF(__pyx_n_read);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_n_read);
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":95 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_source, __pyx_n_read); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 95; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 95; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 95; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->parseDoc(__pyx_v_5etree_theParser,__pyx_1); if (__pyx_5 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 95; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_c_doc = __pyx_5;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":98 */
    __pyx_4 = __pyx_v_filename == Py_None;
    if (__pyx_4) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":99 */
      Py_INCREF(__pyx_v_source);
      Py_DECREF(__pyx_v_filename);
      __pyx_v_filename = __pyx_v_source;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":101 */
    __pyx_6 = PyString_AsString(__pyx_v_filename); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; goto __pyx_L1;}
    __pyx_7 = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->parseDocFromFile(__pyx_v_5etree_theParser,__pyx_6); if (__pyx_7 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; goto __pyx_L1;}
    __pyx_v_c_doc = __pyx_7;
  }
  __pyx_L3:;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":102 */
__pyx_4 = (__pyx_v_c_doc == 0);
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":103 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__Document)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 103; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_r = (struct __pyx_obj_5etree__Document *)Py_None;
  goto __pyx_L0;
  goto __pyx_L5;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":105 */
  __pyx_2 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_v_c_doc)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; goto __pyx_L1;}
  __pyx_r = (struct __pyx_obj_5etree__Document *)__pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
}
__pyx_L5:;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._parseDocument");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_filename);
Py_DECREF(__pyx_v_source);
Py_DECREF(__pyx_v_parser);
return ((struct __pyx_obj_5etree__Document *)__pyx_r) ;
}

static struct __pyx_obj_5etree__Document *__pyx_f_5etree__documentFactory(xmlDoc (*__pyx_v_c_doc)) {
struct __pyx_obj_5etree__Document *__pyx_v_result;
struct __pyx_obj_5etree__Document *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":109 */
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 109; goto __pyx_L1;}
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree__Document), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 109; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_5etree__Document)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 109; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":110 */
__pyx_v_result->_c_doc = __pyx_v_c_doc;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":111 */
__pyx_v_result->_ns_counter = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":112 */
Py_INCREF(((PyObject *)__pyx_v_result));
__pyx_r = (struct __pyx_obj_5etree__Document *)((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._documentFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
return ((struct __pyx_obj_5etree__Document *)__pyx_r) ;
}

static PyObject *__pyx_k71p;

static char (__pyx_k71[]) = " ";

static void __pyx_f_5etree_displayNode(xmlNode (*__pyx_v_c_node),PyObject *__pyx_v_indent) {
xmlNode (*__pyx_v_c_child);
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
Py_INCREF(__pyx_v_indent);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":117 */
__pyx_1 = PyNumber_Multiply(__pyx_v_indent, __pyx_k71p); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
if (__Pyx_PrintItem(__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyInt_FromLong(((int )__pyx_v_c_node)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
if (__Pyx_PrintItem(__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":118 */
__pyx_v_c_child = __pyx_v_c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":119 */
while (1) {
  __pyx_L2:;
  __pyx_2 = (__pyx_v_c_child != 0);
  if (!__pyx_2) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":120 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 120; goto __pyx_L1;}
  __pyx_3 = PyNumber_Add(__pyx_v_indent, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 120; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_f_5etree_displayNode(__pyx_v_c_child,__pyx_3);
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":121 */
  __pyx_v_c_child = __pyx_v_c_child->next;
}
__pyx_L3:;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
__Pyx_WriteUnraisable("etree.displayNode");
__pyx_L0:;
Py_DECREF(__pyx_v_indent);
}

static void __pyx_f_5etree_9_NodeBase___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_9_NodeBase___dealloc__(PyObject *__pyx_v_self) {
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":136 */
__pyx_1 = (((struct __pyx_obj_5etree__NodeBase *)__pyx_v_self)->_c_node != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":137 */
  __pyx_f_5etree_unregisterProxy(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_self));
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":138 */
__pyx_f_5etree_attemptDeallocation(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_self)->_c_node);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._NodeBase.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_f_5etree_9_NodeBase__init(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_9_NodeBase__init[] = "Called after object initialisation. Subclasses may override\n        this if they recursively call _init() in the superclasses.\n        ";
static PyObject *__pyx_f_5etree_9_NodeBase__init(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._NodeBase._init");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_buildNewPrefix;

static char (__pyx_k72[]) = "Get or create namespace structure.\n        ";

static xmlNs (*__pyx_f_5etree_9_NodeBase__getNs(struct __pyx_obj_5etree__NodeBase *__pyx_v_self,char (*__pyx_v_href))) {
xmlDoc (*__pyx_v_c_doc);
xmlNode (*__pyx_v_c_node);
xmlNs (*__pyx_v_c_ns);
PyObject *__pyx_v_prefix;
xmlNs (*__pyx_r);
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
Py_INCREF(__pyx_v_self);
__pyx_v_prefix = Py_None; Py_INCREF(__pyx_v_prefix);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":146 */
__pyx_k72;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":151 */
__pyx_v_c_doc = __pyx_v_self->_doc->_c_doc;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":152 */
__pyx_v_c_node = __pyx_v_self->_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":155 */
__pyx_v_c_ns = xmlSearchNsByHref(__pyx_v_c_doc,__pyx_v_c_node,__pyx_v_href);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":156 */
__pyx_1 = (__pyx_v_c_ns != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":157 */
  __pyx_r = __pyx_v_c_ns;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":160 */
__pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_self->_doc), __pyx_n_buildNewPrefix); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_v_prefix);
__pyx_v_prefix = __pyx_4;
__pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":161 */
__pyx_5 = PyString_AsString(__pyx_v_prefix); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 161; goto __pyx_L1;}
__pyx_v_c_ns = xmlNewNs(__pyx_v_c_node,__pyx_v_href,__pyx_5);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":162 */
__pyx_r = __pyx_v_c_ns;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_WriteUnraisable("etree._NodeBase._getNs");
__pyx_L0:;
Py_DECREF(__pyx_v_prefix);
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_getroot;

static PyObject *__pyx_f_5etree_12_ElementTree_parse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_parse[] = "Updates self with the content of source and returns its root\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_parse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_source = 0;
PyObject *__pyx_v_parser = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"source","parser",0};
__pyx_v_parser = __pyx_k12;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_source, &__pyx_v_parser)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_source);
Py_INCREF(__pyx_v_parser);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":171 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__parseDocument(__pyx_v_source,__pyx_v_parser)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
Py_DECREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_doc));
((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":172 */
__pyx_1 = PyObject_GetAttr(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_doc), __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
Py_DECREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node));
((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":173 */
Py_INCREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node));
__pyx_r = ((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.parse");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_source);
Py_DECREF(__pyx_v_parser);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_12_ElementTree_getroot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_getroot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":176 */
Py_INCREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node));
__pyx_r = ((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._ElementTree.getroot");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_write;
static PyObject *__pyx_n_open;
static PyObject *__pyx_n_wb;

static PyObject *__pyx_k75p;
static PyObject *__pyx_k76p;
static PyObject *__pyx_k77p;

static char (__pyx_k75[]) = "UTF-8";
static char (__pyx_k76[]) = "us-ascii";
static char (__pyx_k77[]) = "\n";

static PyObject *__pyx_f_5etree_12_ElementTree_write(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_write(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_file = 0;
PyObject *__pyx_v_encoding = 0;
PyObject *__pyx_v_m;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
int __pyx_5;
static char *__pyx_argnames[] = {"file","encoding",0};
__pyx_v_encoding = __pyx_k14;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_file, &__pyx_v_encoding)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_file);
Py_INCREF(__pyx_v_encoding);
__pyx_v_m = Py_None; Py_INCREF(__pyx_v_m);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":179 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
Py_INCREF(__pyx_v_file);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_file);
Py_INCREF(__pyx_n_write);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_write);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_5 = (!__pyx_4);
if (__pyx_5) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":181 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_open); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  Py_INCREF(__pyx_v_file);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_file);
  Py_INCREF(__pyx_n_wb);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_wb);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_file);
  __pyx_v_file = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":183 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_tostring); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L1;}
Py_INCREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node));
PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node));
Py_INCREF(__pyx_v_encoding);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_encoding);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_m);
__pyx_v_m = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":185 */
if (PyObject_Cmp(__pyx_v_encoding, __pyx_k75p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 185; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
if (!__pyx_4) {
  if (PyObject_Cmp(__pyx_v_encoding, __pyx_k76p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 185; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
}
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":186 */
  __pyx_1 = __pyx_f_5etree__stripDeclaration(__pyx_v_m); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 186; goto __pyx_L1;}
  Py_DECREF(__pyx_v_m);
  __pyx_v_m = __pyx_1;
  __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":187 */
  __pyx_2 = PySequence_GetSlice(__pyx_v_m, (-1), 0x7fffffff); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 187; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_2, __pyx_k77p, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 187; goto __pyx_L1;}
  __pyx_5 = __pyx_5 == 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_5) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":188 */
    __pyx_3 = PySequence_GetSlice(__pyx_v_m, 0, (-1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m);
    __pyx_v_m = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":189 */
__pyx_1 = PyObject_GetAttr(__pyx_v_file, __pyx_n_write); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 189; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 189; goto __pyx_L1;}
Py_INCREF(__pyx_v_m);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_m);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 189; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.write");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_m);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_file);
Py_DECREF(__pyx_v_encoding);
return __pyx_r;
}

static PyObject *__pyx_n_getiterator;

static PyObject *__pyx_f_5etree_12_ElementTree_getiterator(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_getiterator(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_root;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"tag",0};
__pyx_v_tag = __pyx_k15;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_tag)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_tag);
__pyx_v_root = Py_None; Py_INCREF(__pyx_v_root);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":192 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_root);
__pyx_v_root = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":193 */
__pyx_4 = __pyx_v_root == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":194 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":195 */
__pyx_2 = PyObject_GetAttr(__pyx_v_root, __pyx_n_getiterator); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
Py_INCREF(__pyx_v_tag);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_tag);
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.getiterator");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_root);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_tag);
return __pyx_r;
}

static PyObject *__pyx_n_find;

static PyObject *__pyx_k78p;
static PyObject *__pyx_k79p;

static char (__pyx_k78[]) = "/";
static char (__pyx_k79[]) = ".";

static PyObject *__pyx_f_5etree_12_ElementTree_find(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_find(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_root;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);
__pyx_v_root = Py_None; Py_INCREF(__pyx_v_root);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":198 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_root);
__pyx_v_root = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":199 */
__pyx_4 = __pyx_v_root != Py_None;
if (!__pyx_4) {
  PyErr_SetNone(PyExc_AssertionError);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":200 */
__pyx_1 = PySequence_GetSlice(__pyx_v_path, 0, 1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
if (PyObject_Cmp(__pyx_1, __pyx_k78p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":201 */
  __pyx_2 = PyNumber_Add(__pyx_k79p, __pyx_v_path); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
  Py_DECREF(__pyx_v_path);
  __pyx_v_path = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":202 */
__pyx_3 = PyObject_GetAttr(__pyx_v_root, __pyx_n_find); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_path);
__pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.find");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_root);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_n_findtext;

static PyObject *__pyx_k80p;
static PyObject *__pyx_k81p;

static char (__pyx_k80[]) = "/";
static char (__pyx_k81[]) = ".";

static PyObject *__pyx_f_5etree_12_ElementTree_findtext(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_findtext(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_default = 0;
PyObject *__pyx_v_root;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"path","default",0};
__pyx_v_default = __pyx_k16;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_path, &__pyx_v_default)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);
Py_INCREF(__pyx_v_default);
__pyx_v_root = Py_None; Py_INCREF(__pyx_v_root);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":205 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_root);
__pyx_v_root = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":206 */
__pyx_4 = __pyx_v_root != Py_None;
if (!__pyx_4) {
  PyErr_SetNone(PyExc_AssertionError);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 206; goto __pyx_L1;}
}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":207 */
__pyx_1 = PySequence_GetSlice(__pyx_v_path, 0, 1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
if (PyObject_Cmp(__pyx_1, __pyx_k80p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":208 */
  __pyx_2 = PyNumber_Add(__pyx_k81p, __pyx_v_path); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 208; goto __pyx_L1;}
  Py_DECREF(__pyx_v_path);
  __pyx_v_path = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":209 */
__pyx_3 = PyObject_GetAttr(__pyx_v_root, __pyx_n_findtext); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_path);
Py_INCREF(__pyx_v_default);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_default);
__pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.findtext");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_root);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
Py_DECREF(__pyx_v_default);
return __pyx_r;
}

static PyObject *__pyx_n_findall;

static PyObject *__pyx_k82p;
static PyObject *__pyx_k83p;

static char (__pyx_k82[]) = "/";
static char (__pyx_k83[]) = ".";

static PyObject *__pyx_f_5etree_12_ElementTree_findall(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_12_ElementTree_findall(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_root;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);
__pyx_v_root = Py_None; Py_INCREF(__pyx_v_root);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":212 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 212; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 212; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 212; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_root);
__pyx_v_root = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":213 */
__pyx_4 = __pyx_v_root != Py_None;
if (!__pyx_4) {
  PyErr_SetNone(PyExc_AssertionError);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":214 */
__pyx_1 = PySequence_GetSlice(__pyx_v_path, 0, 1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 214; goto __pyx_L1;}
if (PyObject_Cmp(__pyx_1, __pyx_k82p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 214; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":215 */
  __pyx_2 = PyNumber_Add(__pyx_k83p, __pyx_v_path); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
  Py_DECREF(__pyx_v_path);
  __pyx_v_path = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":216 */
__pyx_3 = PyObject_GetAttr(__pyx_v_root, __pyx_n_findall); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_path);
__pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.findall");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_root);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_n_evaluate;

static PyObject *__pyx_f_5etree_12_ElementTree_xpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_xpath[] = "XPath evaluate in context of document.\n\n        namespaces is an optional dictionary with prefix to namespace URI\n        mappings, used by XPath.\n        \n        Returns a list (nodeset), or bool, float or string.\n\n        In case of a list result, return Element for element nodes,\n        string for text and attribute values.\n\n        Note: if you are going to apply multiple XPath expressions\n        against the same document, it is more efficient to use\n        XPathEvaluator directly.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_xpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"path","namespaces",0};
__pyx_v_namespaces = __pyx_k17;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_path, &__pyx_v_namespaces)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);
Py_INCREF(__pyx_v_namespaces);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":234 */
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
Py_INCREF(__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
Py_INCREF(__pyx_v_namespaces);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_namespaces);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XPathDocumentEvaluator), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_evaluate); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_path);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.xpath");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
Py_DECREF(__pyx_v_namespaces);
return __pyx_r;
}

static PyObject *__pyx_n_apply;

static PyObject *__pyx_f_5etree_12_ElementTree_xslt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_xslt[] = "Transform this document using other document.\n\n        xslt is a tree that should be XSLT\n        keyword parameters are XSLT transformation parameters.\n\n        Returns the transformed tree.\n\n        Note: if you are going to apply the same XSLT stylesheet against\n        multiple documents, it is more efficient to use the XSLT\n        class directly.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_xslt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_xslt = 0;
PyObject *__pyx_v_kw = 0;
PyObject *__pyx_v_style;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"xslt",0};
if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, 0, &__pyx_v_kw) < 0) return 0;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_xslt)) {
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  Py_XDECREF(__pyx_v_kw);
  return 0;
}
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_xslt);
__pyx_v_style = Py_None; Py_INCREF(__pyx_v_style);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":248 */
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
Py_INCREF(__pyx_v_xslt);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_xslt);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XSLT), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_v_style);
__pyx_v_style = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":249 */
__pyx_1 = PyObject_GetAttr(__pyx_v_style, __pyx_n_apply); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
Py_INCREF(__pyx_v_self);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
__pyx_3 = PyEval_CallObjectWithKeywords(__pyx_1, __pyx_2, __pyx_v_kw); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.xslt");
__pyx_r = 0;
__pyx_L0:;
Py_XDECREF(__pyx_v_kw);
Py_DECREF(__pyx_v_style);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_xslt);
Py_XDECREF(__pyx_args);
Py_XDECREF(__pyx_kwds);
return __pyx_r;
}

static PyObject *__pyx_n_validate;

static PyObject *__pyx_f_5etree_12_ElementTree_relaxng(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_relaxng[] = "Validate this document using other document.\n\n        relaxng is a tree that should contain Relax NG XML\n\n        Returns True or False, depending on whether validation\n        succeeded.\n\n        Note: if you are going to apply the same Relax NG schema against\n        multiple documents, it is more efficient to use the RelaxNG\n        class directly.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_relaxng(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_relaxng = 0;
PyObject *__pyx_v_schema;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"relaxng",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_relaxng)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_relaxng);
__pyx_v_schema = Py_None; Py_INCREF(__pyx_v_schema);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":263 */
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 263; goto __pyx_L1;}
Py_INCREF(__pyx_v_relaxng);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_relaxng);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_RelaxNG), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 263; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_v_schema);
__pyx_v_schema = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":264 */
__pyx_1 = PyObject_GetAttr(__pyx_v_schema, __pyx_n_validate); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
Py_INCREF(__pyx_v_self);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.relaxng");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_schema);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_relaxng);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_12_ElementTree_xmlschema(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_xmlschema[] = "Validate this document using other doucment.\n\n        xmlschema is a tree that should contain XML Schema XML.\n\n        Returns True or False, depending on whether validation\n        succeeded.\n\n        Note: If you are going to applyt he same XML Schema against\n        multiple documents, it is more efficient to use the XMLSchema\n        class directly.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_xmlschema(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_xmlschema = 0;
PyObject *__pyx_v_schema;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"xmlschema",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_xmlschema)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_xmlschema);
__pyx_v_schema = Py_None; Py_INCREF(__pyx_v_schema);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":278 */
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; goto __pyx_L1;}
Py_INCREF(__pyx_v_xmlschema);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_xmlschema);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XMLSchema), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_v_schema);
__pyx_v_schema = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":279 */
__pyx_1 = PyObject_GetAttr(__pyx_v_schema, __pyx_n_validate); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
Py_INCREF(__pyx_v_self);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._ElementTree.xmlschema");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_schema);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_xmlschema);
return __pyx_r;
}

static PyObject *__pyx_k84p;

static char (__pyx_k84[]) = "XInclude processing failed";

static PyObject *__pyx_f_5etree_12_ElementTree_xinclude(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_xinclude[] = "Process this document, including using XInclude.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_xinclude(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
int __pyx_v_result;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":291 */
__pyx_v_result = xmlXIncludeProcessTree(((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":292 */
__pyx_1 = (__pyx_v_result == (-1));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":293 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XIncludeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k84p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._ElementTree.xinclude");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_k85p;

static char (__pyx_k85[]) = "C18N failed";

static PyObject *__pyx_f_5etree_12_ElementTree_write_c14n(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_12_ElementTree_write_c14n[] = "C14N write of document. Always writes UTF-8.\n        ";
static PyObject *__pyx_f_5etree_12_ElementTree_write_c14n(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_file = 0;
xmlDoc (*__pyx_v_c_base_doc);
xmlDoc (*__pyx_v_c_doc);
char (*__pyx_v_data);
int __pyx_v_bytes;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
int __pyx_5;
static char *__pyx_argnames[] = {"file",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_file)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_file);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":302 */
__pyx_v_c_base_doc = ((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_doc->_c_doc;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":304 */
__pyx_v_c_doc = __pyx_f_5etree__fakeRootDoc(__pyx_v_c_base_doc,((struct __pyx_obj_5etree__ElementTree *)__pyx_v_self)->_context_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":305 */
__pyx_v_bytes = xmlC14NDocDumpMemory(__pyx_v_c_doc,0,0,0,1,(&__pyx_v_data));

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":306 */
__pyx_f_5etree__destroyFakeDoc(__pyx_v_c_base_doc,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":308 */
__pyx_1 = (__pyx_v_bytes < 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":309 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_C14NError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k85p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":310 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
Py_INCREF(__pyx_v_file);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_file);
Py_INCREF(__pyx_n_write);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_n_write);
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_1 = PyObject_IsTrue(__pyx_4); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
__pyx_5 = (!__pyx_1);
if (__pyx_5) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":311 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_open); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_INCREF(__pyx_v_file);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_file);
  Py_INCREF(__pyx_n_wb);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_n_wb);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_file);
  __pyx_v_file = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":312 */
__pyx_2 = PyObject_GetAttr(__pyx_v_file, __pyx_n_write); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
__pyx_3 = PyString_FromString(__pyx_v_data); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
__pyx_3 = 0;
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":313 */
xmlFree(__pyx_v_data);

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._ElementTree.write_c14n");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_file);
return __pyx_r;
}

static struct __pyx_obj_5etree__ElementTree *__pyx_f_5etree__elementTreeFactory(struct __pyx_obj_5etree__Document *__pyx_v_doc,struct __pyx_obj_5etree__NodeBase *__pyx_v_context_node) {
struct __pyx_obj_5etree__ElementTree *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF(__pyx_v_doc);
Py_INCREF(__pyx_v_context_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":317 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__newElementTree(__pyx_v_doc,__pyx_v_context_node,((PyObject*)__pyx_ptype_5etree__ElementTree))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
__pyx_r = (struct __pyx_obj_5etree__ElementTree *)__pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._elementTreeFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_context_node);
return ((struct __pyx_obj_5etree__ElementTree *)__pyx_r) ;
}

static struct __pyx_obj_5etree__ElementTree *__pyx_f_5etree__newElementTree(struct __pyx_obj_5etree__Document *__pyx_v_doc,struct __pyx_obj_5etree__NodeBase *__pyx_v_context_node,PyObject *__pyx_v_baseclass) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_result;
struct __pyx_obj_5etree__ElementTree *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
int __pyx_3;
PyObject *__pyx_4 = 0;
Py_INCREF(__pyx_v_doc);
Py_INCREF(__pyx_v_context_node);
Py_INCREF(__pyx_v_baseclass);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":322 */
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
__pyx_2 = PyObject_CallObject(__pyx_v_baseclass, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_5etree__ElementTree)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":323 */
Py_INCREF(((PyObject *)__pyx_v_doc));
Py_DECREF(((PyObject *)__pyx_v_result->_doc));
__pyx_v_result->_doc = ((PyObject *)__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":324 */
__pyx_3 = ((PyObject *)__pyx_v_context_node) == Py_None;
if (__pyx_3) {
  __pyx_3 = ((PyObject *)__pyx_v_doc) != Py_None;
}
if (__pyx_3) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":325 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_doc), __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_context_node));
  __pyx_v_context_node = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":326 */
Py_INCREF(((PyObject *)__pyx_v_context_node));
Py_DECREF(((PyObject *)__pyx_v_result->_context_node));
__pyx_v_result->_context_node = ((PyObject *)__pyx_v_context_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":327 */
Py_INCREF(((PyObject *)__pyx_v_result));
__pyx_r = (struct __pyx_obj_5etree__ElementTree *)((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._newElementTree");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_context_node);
Py_DECREF(__pyx_v_baseclass);
return ((struct __pyx_obj_5etree__ElementTree *)__pyx_r) ;
}

static PyObject *__pyx_n_IndexError;

static int __pyx_f_5etree_8_Element___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_element); /*proto*/
static int __pyx_f_5etree_8_Element___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_element) {
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_v_c_next);
int __pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_index);
Py_INCREF(__pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__NodeBase, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":335 */
__pyx_1 = PyInt_AsLong(__pyx_v_index); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 335; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":336 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":337 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":338 */
__pyx_v_c_next = ((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element)->_c_node->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":339 */
__pyx_2 = __pyx_f_5etree__removeText(__pyx_v_c_node->next); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 339; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":340 */
xmlReplaceNode(__pyx_v_c_node,((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element)->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":341 */
__pyx_f_5etree__moveTail(__pyx_v_c_next,((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element)->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":342 */
__pyx_f_5etree_changeDocumentBelow(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element),((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.__setitem__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_index);
Py_DECREF(__pyx_v_element);
return __pyx_r;
}

static int __pyx_f_5etree_8_Element___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index); /*proto*/
static int __pyx_f_5etree_8_Element___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index) {
xmlNode (*__pyx_v_c_node);
int __pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_index);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":346 */
__pyx_1 = PyInt_AsLong(__pyx_v_index); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":347 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":348 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":349 */
__pyx_2 = __pyx_f_5etree__removeText(__pyx_v_c_node->next); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":350 */
__pyx_f_5etree__removeNode(__pyx_v_c_node);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.__delitem__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_index);
return __pyx_r;
}

static int __pyx_f_5etree_8_Element___delslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop); /*proto*/
static int __pyx_f_5etree_8_Element___delslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop) {
PyObject *__pyx_v_start = 0;
PyObject *__pyx_v_stop = 0;
xmlNode (*__pyx_v_c_node);
int __pyx_r;
int __pyx_1;
int __pyx_2;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_start = PyInt_FromLong(__pyx_arg_start); if (!__pyx_v_start) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; goto __pyx_L1;}
__pyx_v_stop = PyInt_FromLong(__pyx_arg_stop); if (!__pyx_v_stop) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":354 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 354; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":355 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
__pyx_2 = PyInt_AsLong(__pyx_v_stop); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
__pyx_f_5etree__deleteSlice(__pyx_v_c_node,__pyx_1,__pyx_2);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Element.__delslice__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_start);
Py_DECREF(__pyx_v_stop);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_append;

static int __pyx_f_5etree_8_Element___setslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_8_Element___setslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop, PyObject *__pyx_v_value) {
PyObject *__pyx_v_start = 0;
PyObject *__pyx_v_stop = 0;
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_v_c_next);
struct __pyx_obj_5etree__Element *__pyx_v_mynode;
PyObject *__pyx_v_node;
int __pyx_r;
int __pyx_1;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
PyObject *__pyx_6 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_value);
__pyx_v_start = PyInt_FromLong(__pyx_arg_start); if (!__pyx_v_start) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
__pyx_v_stop = PyInt_FromLong(__pyx_arg_stop); if (!__pyx_v_stop) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
__pyx_v_mynode = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_mynode);
__pyx_v_node = Py_None; Py_INCREF(__pyx_v_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":362 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":364 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; goto __pyx_L1;}
__pyx_2 = PyInt_AsLong(__pyx_v_stop); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; goto __pyx_L1;}
__pyx_f_5etree__deleteSlice(__pyx_v_c_node,__pyx_1,__pyx_2);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":366 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":368 */
__pyx_2 = (__pyx_v_c_node == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":369 */
  __pyx_3 = PyObject_GetIter(__pyx_v_value); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
  for (;;) {
    __pyx_L3:;
    __pyx_4 = PyIter_Next(__pyx_3);
    if (!__pyx_4) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_node);
    __pyx_v_node = __pyx_4;
    __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":370 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_append); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
    Py_INCREF(__pyx_v_node);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_node);
    __pyx_6 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
  }
  __pyx_L4:;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":371 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":373 */
__pyx_4 = PyObject_GetIter(__pyx_v_value); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
for (;;) {
  __pyx_L5:;
  __pyx_5 = PyIter_Next(__pyx_4);
  if (!__pyx_5) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
    break;
  }
  Py_DECREF(__pyx_v_node);
  __pyx_v_node = __pyx_5;
  __pyx_5 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":374 */
  if (!__Pyx_TypeTest(__pyx_v_node, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; goto __pyx_L1;}
  Py_INCREF(__pyx_v_node);
  Py_DECREF((PyObject *)((PyObject *)__pyx_v_mynode));
  __pyx_v_mynode = __pyx_v_node;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":376 */
  __pyx_v_c_next = __pyx_v_mynode->__pyx_base._c_node->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":378 */
  xmlUnlinkNode(__pyx_v_mynode->__pyx_base._c_node);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":379 */
  xmlAddPrevSibling(__pyx_v_c_node,__pyx_v_mynode->__pyx_base._c_node);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":381 */
  __pyx_f_5etree__moveTail(__pyx_v_c_next,__pyx_v_mynode->__pyx_base._c_node);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":383 */
  __pyx_f_5etree_changeDocumentBelow(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_mynode),((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc);
}
__pyx_L6:;
Py_DECREF(__pyx_4); __pyx_4 = 0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree._Element.__setslice__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_start);
Py_DECREF(__pyx_v_stop);
Py_DECREF((PyObject *)__pyx_v_mynode);
Py_DECREF(__pyx_v_node);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_n___copy__;

static PyObject *__pyx_f_5etree_8_Element___deepcopy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___deepcopy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_memo = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"memo",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_memo)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_memo);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":386 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___copy__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 386; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 386; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 386; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.__deepcopy__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_memo);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element___copy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___copy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
xmlNode (*__pyx_v_c_node);
xmlDoc (*__pyx_v_c_doc);
PyObject *__pyx_v_doc;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_doc = Py_None; Py_INCREF(__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":391 */
__pyx_v_c_doc = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->newDoc(__pyx_v_5etree_theParser);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":392 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_v_c_doc)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
Py_DECREF(__pyx_v_doc);
__pyx_v_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":393 */
__pyx_v_c_node = xmlDocCopyNode(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_c_doc,1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":394 */
xmlDocSetRootElement(__pyx_v_c_doc,__pyx_v_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":395 */
if (!__Pyx_TypeTest(__pyx_v_doc, __pyx_ptype_5etree__Document)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; goto __pyx_L1;}
__pyx_1 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Document *)__pyx_v_doc),__pyx_v_c_node)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.__copy__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_attrib;

static PyObject *__pyx_f_5etree_8_Element_set(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_set(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
PyObject *__pyx_v_value = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {"key","value",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_key, &__pyx_v_value)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":398 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_attrib); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
if (PyObject_SetItem(__pyx_1, __pyx_v_key, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.set");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_append(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_append(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
xmlNode (*__pyx_v_c_next);
xmlNode (*__pyx_v_c_next2);
PyObject *__pyx_r;
static char *__pyx_argnames[] = {"element",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_element)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF((PyObject *)__pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 400; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":404 */
__pyx_v_c_next = __pyx_v_element->__pyx_base._c_node->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":406 */
xmlUnlinkNode(__pyx_v_element->__pyx_base._c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":408 */
xmlAddChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_element->__pyx_base._c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":409 */
__pyx_f_5etree__moveTail(__pyx_v_c_next,__pyx_v_element->__pyx_base._c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":412 */
__pyx_f_5etree_changeDocumentBelow(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element),((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc);

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Element.append");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF((PyObject *)__pyx_v_element);
return __pyx_r;
}

static PyObject *__pyx_n_text;
static PyObject *__pyx_n_tail;

static PyObject *__pyx_f_5etree_8_Element_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
xmlAttr (*__pyx_v_c_attr);
xmlAttr (*__pyx_v_c_attr_next);
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_v_c_node_next);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":419 */
if (PyObject_SetAttr(__pyx_v_self, __pyx_n_text, Py_None) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 419; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":420 */
if (PyObject_SetAttr(__pyx_v_self, __pyx_n_tail, Py_None) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":422 */
__pyx_v_c_attr = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->properties;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":423 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_attr != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":424 */
  __pyx_v_c_attr_next = __pyx_v_c_attr->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":425 */
  xmlRemoveProp(__pyx_v_c_attr);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":426 */
  __pyx_v_c_attr = __pyx_v_c_attr_next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":428 */
__pyx_v_c_node = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":429 */
while (1) {
  __pyx_L4:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":430 */
  __pyx_v_c_node_next = __pyx_v_c_node->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":431 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":432 */
    __pyx_2 = __pyx_f_5etree__removeText(__pyx_v_c_node_next); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 432; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":433 */
    __pyx_v_c_node_next = __pyx_v_c_node->next;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":434 */
    __pyx_f_5etree__removeNode(__pyx_v_c_node);
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":435 */
  __pyx_v_c_node = __pyx_v_c_node_next;
}
__pyx_L5:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.clear");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_insert(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_insert(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_index = 0;
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_v_c_next);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"index","element",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_index, &__pyx_v_element)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_index);
Py_INCREF((PyObject *)__pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":440 */
__pyx_1 = PyInt_AsLong(__pyx_v_index); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":441 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":442 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_append); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  Py_INCREF((PyObject *)((PyObject *)__pyx_v_element));
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_element));
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":443 */
  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":444 */
__pyx_v_c_next = __pyx_v_element->__pyx_base._c_node->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":445 */
xmlAddPrevSibling(__pyx_v_c_node,__pyx_v_element->__pyx_base._c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":446 */
__pyx_f_5etree__moveTail(__pyx_v_c_next,__pyx_v_element->__pyx_base._c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":447 */
__pyx_f_5etree_changeDocumentBelow(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element),((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc);

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.insert");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_index);
Py_DECREF((PyObject *)__pyx_v_element);
return __pyx_r;
}

static PyObject *__pyx_n_ValueError;

static PyObject *__pyx_k88p;

static char (__pyx_k88[]) = "Matching element could not be found";

static PyObject *__pyx_f_5etree_8_Element_remove(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_remove(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"element",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_element)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF((PyObject *)__pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 449; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":451 */
__pyx_v_c_node = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":452 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":453 */
  __pyx_1 = (__pyx_v_c_node == __pyx_v_element->__pyx_base._c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":454 */
    __pyx_2 = __pyx_f_5etree__removeText(__pyx_v_element->__pyx_base._c_node->next); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":455 */
    xmlUnlinkNode(__pyx_v_element->__pyx_base._c_node);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":456 */
    __pyx_r = Py_None; Py_INCREF(__pyx_r);
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":457 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":459 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 459; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k88p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 459; goto __pyx_L1;}
}
__pyx_L3:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.remove");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF((PyObject *)__pyx_v_element);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_3tag___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_3tag___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":464 */
__pyx_1 = __pyx_f_5etree__namespacedName(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.tag.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static int __pyx_f_5etree_8_Element_3tag___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_8_Element_3tag___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
xmlNs (*__pyx_v_c_ns);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_text;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
char (*__pyx_4);
int __pyx_5;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_value);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_text = Py_None; Py_INCREF(__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":468 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
Py_INCREF(__pyx_v_value);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_value);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
Py_DECREF(__pyx_v_text);
__pyx_v_text = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":469 */
__pyx_4 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; goto __pyx_L1;}
xmlNodeSetName(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_4);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":470 */
__pyx_5 = __pyx_v_ns == Py_None;
if (__pyx_5) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":471 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":472 */
__pyx_4 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
__pyx_v_c_ns = ((struct __pyx_vtabstruct_5etree__Element *)((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base._getNs(((struct __pyx_obj_5etree__NodeBase *)((struct __pyx_obj_5etree__Element *)__pyx_v_self)),__pyx_4);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":473 */
xmlSetNs(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_c_ns);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.tag.__set__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_text);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_6prefix___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_6prefix___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":478 */
__pyx_1 = (((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->ns != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":479 */
  __pyx_1 = (((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->ns->prefix != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":480 */
    __pyx_2 = __pyx_f_5etree_funicode(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->ns->prefix); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":481 */
Py_INCREF(Py_None);
__pyx_r = Py_None;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.prefix.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_6attrib___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_6attrib___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":485 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__attribFactory(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc,((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 485; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.attrib.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_4text___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_4text___get__(PyObject *__pyx_v_self) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":490 */
__pyx_1 = __pyx_f_5etree__collectText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.text.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_encode;

static PyObject *__pyx_k89p;

static char (__pyx_k89[]) = "UTF-8";

static int __pyx_f_5etree_8_Element_4text___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_8_Element_4text___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
xmlNode (*__pyx_v_c_text_node);
PyObject *__pyx_v_text;
int __pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_value);
__pyx_v_text = Py_None; Py_INCREF(__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":495 */
__pyx_1 = __pyx_f_5etree__removeText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":496 */
__pyx_2 = __pyx_v_value == Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":497 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":499 */
__pyx_1 = PyObject_GetAttr(__pyx_v_value, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
Py_INCREF(__pyx_k89p);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k89p);
__pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_v_text);
__pyx_v_text = __pyx_4;
__pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":500 */
__pyx_5 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
__pyx_v_c_text_node = xmlNewDocText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc->_c_doc,__pyx_5);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":502 */
__pyx_2 = (((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":503 */
  xmlAddChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_c_text_node);
  goto __pyx_L3;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":505 */
  xmlAddPrevSibling(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children,__pyx_v_c_text_node);
}
__pyx_L3:;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.text.__set__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_text);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_4tail___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_4tail___get__(PyObject *__pyx_v_self) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":511 */
__pyx_1 = __pyx_f_5etree__collectText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->next); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Element.tail.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_k90p;

static char (__pyx_k90[]) = "UTF-8";

static int __pyx_f_5etree_8_Element_4tail___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_8_Element_4tail___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
xmlNode (*__pyx_v_c_text_node);
PyObject *__pyx_v_text;
int __pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_value);
__pyx_v_text = Py_None; Py_INCREF(__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":516 */
__pyx_1 = __pyx_f_5etree__removeText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->next); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":517 */
__pyx_2 = __pyx_v_value == Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":518 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":519 */
__pyx_1 = PyObject_GetAttr(__pyx_v_value, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
Py_INCREF(__pyx_k90p);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k90p);
__pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_v_text);
__pyx_v_text = __pyx_4;
__pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":520 */
__pyx_5 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; goto __pyx_L1;}
__pyx_v_c_text_node = xmlNewDocText(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc->_c_doc,__pyx_5);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":522 */
xmlAddNextSibling(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_c_text_node);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.tail.__set__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_text);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_n_tag;
static PyObject *__pyx_n_id;

static PyObject *__pyx_k91p;

static char (__pyx_k91[]) = "<Element %s at %x>";

static PyObject *__pyx_f_5etree_8_Element___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___repr__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":526 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_tag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_id); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
__pyx_1 = 0;
__pyx_4 = 0;
__pyx_3 = PyNumber_Remainder(__pyx_k91p, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.__repr__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_k92p;

static char (__pyx_k92[]) = "list index out of range";

static PyObject *__pyx_f_5etree_8_Element___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_index);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":530 */
__pyx_1 = PyInt_AsLong(__pyx_v_index); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":531 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":532 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k92p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":533 */
__pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.__getitem__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_index);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element___getslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___getslice__(PyObject *__pyx_v_self, int __pyx_arg_start, int __pyx_arg_stop) {
PyObject *__pyx_v_start = 0;
PyObject *__pyx_v_stop = 0;
xmlNode (*__pyx_v_c_node);
int __pyx_v_c;
PyObject *__pyx_v_result;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_start = PyInt_FromLong(__pyx_arg_start); if (!__pyx_v_start) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; goto __pyx_L1;}
__pyx_v_stop = PyInt_FromLong(__pyx_arg_stop); if (!__pyx_v_stop) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; goto __pyx_L1;}
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":541 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 541; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__findChild(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":542 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":543 */
  __pyx_2 = PyList_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":544 */
__pyx_1 = PyInt_AsLong(__pyx_v_start); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 544; goto __pyx_L1;}
__pyx_v_c = __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":545 */
__pyx_2 = PyList_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 545; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":546 */
while (1) {
  __pyx_L3:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong(__pyx_v_c); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 546; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_2, __pyx_v_stop, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 546; goto __pyx_L1;}
    __pyx_1 = __pyx_1 < 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":547 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":548 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
    __pyx_3 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc,__pyx_v_c_node)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":549 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":550 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":551 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.__getslice__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_start);
Py_DECREF(__pyx_v_stop);
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static int __pyx_f_5etree_8_Element___len__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_f_5etree_8_Element___len__(PyObject *__pyx_v_self) {
int __pyx_v_c;
xmlNode (*__pyx_v_c_node);
int __pyx_r;
int __pyx_1;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":556 */
__pyx_v_c = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":557 */
__pyx_v_c_node = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":558 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":559 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":560 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":561 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":562 */
__pyx_r = __pyx_v_c;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Element.__len__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Element___iter__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":565 */
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_ElementChildIterator), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.__iter__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_len;

static PyObject *__pyx_k93p;
static PyObject *__pyx_k94p;

static char (__pyx_k93[]) = "list.index(x): x not in list";
static char (__pyx_k94[]) = "list index(x): x not in list";

static PyObject *__pyx_f_5etree_8_Element_index(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_index(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_x = 0;
PyObject *__pyx_v_start = 0;
PyObject *__pyx_v_stop = 0;
int __pyx_v_k;
xmlNode (*__pyx_v_c_child);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"x","start","stop",0};
__pyx_v_start = __pyx_k18;
__pyx_v_stop = __pyx_k19;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_x, &__pyx_v_start, &__pyx_v_stop)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF((PyObject *)__pyx_v_x);
Py_INCREF(__pyx_v_start);
Py_INCREF(__pyx_v_stop);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_x), __pyx_ptype_5etree__Element, 1, "x")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":570 */
__pyx_v_k = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":571 */
__pyx_v_c_child = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":574 */
__pyx_1 = __pyx_v_start != Py_None;
if (__pyx_1) {
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_start, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":575 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_INCREF((PyObject *)__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyNumber_Add(__pyx_4, __pyx_v_start); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_v_start);
  __pyx_v_start = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":576 */
__pyx_1 = __pyx_v_stop != Py_None;
if (__pyx_1) {
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_stop, __pyx_3, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":577 */
  __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; goto __pyx_L1;}
  Py_INCREF((PyObject *)__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyNumber_Add(__pyx_3, __pyx_v_stop); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_stop);
  __pyx_v_stop = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":579 */
while (1) {
  __pyx_L4:;
  __pyx_1 = (__pyx_v_c_child != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":580 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_child);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":581 */
    __pyx_1 = (__pyx_v_c_child == __pyx_v_x->__pyx_base._c_node);
    if (__pyx_1) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":582 */
      __pyx_1 = __pyx_v_start == Py_None;
      if (!__pyx_1) {
        __pyx_2 = PyInt_FromLong(__pyx_v_k); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 582; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_2, __pyx_v_start, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 582; goto __pyx_L1;}
        __pyx_1 = __pyx_1 >= 0;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
      }
      if (__pyx_1) {
        __pyx_1 = __pyx_v_stop == Py_None;
        if (!__pyx_1) {
          __pyx_3 = PyInt_FromLong(__pyx_v_k); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 583; goto __pyx_L1;}
          if (PyObject_Cmp(__pyx_3, __pyx_v_stop, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 583; goto __pyx_L1;}
          __pyx_1 = __pyx_1 < 0;
          Py_DECREF(__pyx_3); __pyx_3 = 0;
        }
      }
      if (__pyx_1) {

        /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":584 */
        __pyx_4 = PyInt_FromLong(__pyx_v_k); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 584; goto __pyx_L1;}
        __pyx_r = __pyx_4;
        __pyx_4 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      /*else*/ {

        /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":589 */
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; goto __pyx_L1;}
        __Pyx_Raise(__pyx_2, __pyx_k93p, 0);
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; goto __pyx_L1;}
      }
      __pyx_L8:;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":591 */
      __pyx_v_k = (__pyx_v_k + 1);
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":592 */
  __pyx_v_c_child = __pyx_v_c_child->next;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":594 */
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 594; goto __pyx_L1;}
__Pyx_Raise(__pyx_3, __pyx_k94p, 0);
Py_DECREF(__pyx_3); __pyx_3 = 0;
{__pyx_filename = __pyx_f[0]; __pyx_lineno = 594; goto __pyx_L1;}

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.index");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF((PyObject *)__pyx_v_x);
Py_DECREF(__pyx_v_start);
Py_DECREF(__pyx_v_stop);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
PyObject *__pyx_v_default = 0;
char (*__pyx_v_result);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
static char *__pyx_argnames[] = {"key","default",0};
__pyx_v_default = __pyx_k20;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_key, &__pyx_v_default)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_default);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":599 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":600 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":601 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 601; goto __pyx_L1;}
  __pyx_v_result = xmlGetNoNsProp(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":603 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
  __pyx_v_result = xmlGetNsProp(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":604 */
__pyx_4 = (__pyx_v_result == 0);
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":605 */
  Py_INCREF(__pyx_v_default);
  __pyx_r = __pyx_v_default;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":606 */
__pyx_1 = __pyx_f_5etree_funicode(__pyx_v_result); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.get");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_default);
return __pyx_r;
}

static PyObject *__pyx_n_keys;

static PyObject *__pyx_f_5etree_8_Element_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":610 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_attrib); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_keys); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.keys");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_items;

static PyObject *__pyx_f_5etree_8_Element_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":613 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_attrib); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 613; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_items); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 613; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 613; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 613; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.items");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_getchildren(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_getchildren(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_v_result;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":617 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":618 */
__pyx_v_c_node = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":619 */
while (1) {
  __pyx_L2:;
  __pyx_2 = (__pyx_v_c_node != 0);
  if (!__pyx_2) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":620 */
  __pyx_2 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":621 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; goto __pyx_L1;}
    __pyx_3 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc,__pyx_v_c_node)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":622 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":623 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Element.getchildren");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_getparent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_getparent(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":627 */
__pyx_v_c_node = ((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._c_node->parent;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":628 */
__pyx_1 = (__pyx_v_c_node != 0);
if (__pyx_1) {
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":629 */
  __pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(((struct __pyx_obj_5etree__Element *)__pyx_v_self)->__pyx_base._doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":630 */
Py_INCREF(Py_None);
__pyx_r = Py_None;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Element.getparent");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_extend;

static PyObject *__pyx_k95p;

static char (__pyx_k95[]) = "*";

static PyObject *__pyx_f_5etree_8_Element_getiterator(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_getiterator(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_result;
PyObject *__pyx_v_node;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
PyObject *__pyx_6 = 0;
static char *__pyx_argnames[] = {"tag",0};
__pyx_v_tag = __pyx_k21;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_tag)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_tag);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);
__pyx_v_node = Py_None; Py_INCREF(__pyx_v_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":633 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":634 */
if (PyObject_Cmp(__pyx_v_tag, __pyx_k95p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 634; goto __pyx_L1;}
__pyx_2 = __pyx_2 == 0;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":635 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_tag);
  __pyx_v_tag = Py_None;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":636 */
__pyx_2 = __pyx_v_tag == Py_None;
if (!__pyx_2) {
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_tag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_1, __pyx_v_tag, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  __pyx_2 = __pyx_2 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
}
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":637 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
  Py_INCREF((PyObject *)__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":638 */
__pyx_1 = PyObject_GetIter(__pyx_v_self); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 638; goto __pyx_L1;}
for (;;) {
  __pyx_L4:;
  __pyx_3 = PyIter_Next(__pyx_1);
  if (!__pyx_3) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 638; goto __pyx_L1;}
    break;
  }
  Py_DECREF(__pyx_v_node);
  __pyx_v_node = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":639 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_result, __pyx_n_extend); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_v_node, __pyx_n_getiterator); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  Py_INCREF(__pyx_v_tag);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_tag);
  __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
  __pyx_6 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 639; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
}
__pyx_L5:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":640 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree._Element.getiterator");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_node);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_tag);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_makeelement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_makeelement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_attrib = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"tag","attrib",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_tag, &__pyx_v_attrib)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_tag);
Py_INCREF(__pyx_v_attrib);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":646 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_Element); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
Py_INCREF(__pyx_v_tag);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_tag);
Py_INCREF(__pyx_v_attrib);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_attrib);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.makeelement");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_tag);
Py_DECREF(__pyx_v_attrib);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_find(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_find(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_path);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":649 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__elementpath); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_find); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_path);
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.find");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_findtext(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_findtext(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_default = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"path","default",0};
__pyx_v_default = __pyx_k22;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_path, &__pyx_v_default)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_path);
Py_INCREF(__pyx_v_default);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":652 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__elementpath); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_findtext); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_path);
Py_INCREF(__pyx_v_default);
PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_default);
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.findtext");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_path);
Py_DECREF(__pyx_v_default);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_findall(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_findall(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_path);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":655 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__elementpath); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 655; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_findall); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 655; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 655; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_path);
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 655; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.findall");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Element_xpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Element_xpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"path","namespaces",0};
__pyx_v_namespaces = __pyx_k23;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_path, &__pyx_v_namespaces)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_path);
Py_INCREF(__pyx_v_namespaces);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":658 */
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 658; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
Py_INCREF(__pyx_v_namespaces);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_namespaces);
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XPathElementEvaluator), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 658; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_evaluate); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 658; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 658; goto __pyx_L1;}
Py_INCREF(__pyx_v_path);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_path);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 658; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Element.xpath");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_path);
Py_DECREF(__pyx_v_namespaces);
return __pyx_r;
}

static PyObject *__pyx_n__init;

static PyObject *__pyx_k96p;

static char (__pyx_k96[]) = "Unknown node type: %s";

static struct __pyx_obj_5etree__Element *__pyx_f_5etree__elementFactory(struct __pyx_obj_5etree__Document *__pyx_v_doc,xmlNode (*__pyx_v_c_node)) {
struct __pyx_obj_5etree__Element *__pyx_v_result;
char (*__pyx_v_c_ns_href);
PyObject *__pyx_v_element_class;
struct __pyx_obj_5etree__Element *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF(__pyx_v_doc);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);
__pyx_v_element_class = Py_None; Py_INCREF(__pyx_v_element_class);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":663 */
__pyx_1 = ((PyObject *)__pyx_f_5etree_getProxy(__pyx_v_c_node,__pyx_v_5etree_PROXY_ELEMENT)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 663; goto __pyx_L1;}
if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 663; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":664 */
__pyx_2 = ((PyObject *)__pyx_v_result) != Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":665 */
  Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
  __pyx_r = (struct __pyx_obj_5etree__Element *)((PyObject *)__pyx_v_result);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":666 */
__pyx_2 = (__pyx_v_c_node == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":667 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 667; goto __pyx_L1;}
  Py_INCREF((PyObject *)Py_None);
  __pyx_r = (struct __pyx_obj_5etree__Element *)Py_None;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":668 */
__pyx_2 = (__pyx_v_c_node->type == XML_ELEMENT_NODE);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":669 */
  __pyx_2 = (__pyx_v_c_node->ns == 0);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":670 */
    __pyx_v_c_ns_href = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":672 */
    __pyx_v_c_ns_href = __pyx_v_c_node->ns->href;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":673 */
  __pyx_1 = __pyx_f_5etree__find_element_class(__pyx_v_c_ns_href,__pyx_v_c_node->name); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 673; goto __pyx_L1;}
  Py_DECREF(__pyx_v_element_class);
  __pyx_v_element_class = __pyx_1;
  __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":674 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_v_element_class, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; goto __pyx_L1;}
  Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
  __pyx_v_result = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L4;
}
__pyx_2 = (__pyx_v_c_node->type == XML_COMMENT_NODE);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":676 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 676; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree__Comment), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 676; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 676; goto __pyx_L1;}
  Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
  __pyx_v_result = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L4;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":678 */
  __pyx_1 = PyInt_FromLong(__pyx_v_c_node->type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 678; goto __pyx_L1;}
  __pyx_3 = PyNumber_Remainder(__pyx_k96p, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 678; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!0) {
    PyErr_SetObject(PyExc_AssertionError, __pyx_3);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 678; goto __pyx_L1;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":679 */
Py_INCREF(((PyObject *)__pyx_v_doc));
Py_DECREF(((PyObject *)__pyx_v_result->__pyx_base._doc));
__pyx_v_result->__pyx_base._doc = ((PyObject *)__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":680 */
__pyx_v_result->__pyx_base._c_node = __pyx_v_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":681 */
__pyx_v_result->__pyx_base._proxy_type = __pyx_v_5etree_PROXY_ELEMENT;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":682 */
__pyx_f_5etree_registerProxy(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_result),__pyx_v_5etree_PROXY_ELEMENT);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":683 */
__pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_result), __pyx_n__init); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; goto __pyx_L1;}
__pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":684 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_r = (struct __pyx_obj_5etree__Element *)((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._elementFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_result);
Py_DECREF(__pyx_v_element_class);
Py_DECREF(__pyx_v_doc);
return ((struct __pyx_obj_5etree__Element *)__pyx_r) ;
}

static PyObject *__pyx_f_5etree_8_Comment_set(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_set(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
PyObject *__pyx_v_value = 0;
PyObject *__pyx_r;
static char *__pyx_argnames[] = {"key","value",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_key, &__pyx_v_value)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":688 */

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.set");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_append(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_append(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
PyObject *__pyx_r;
static char *__pyx_argnames[] = {"element",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_element)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF((PyObject *)__pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 690; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":691 */

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.append");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF((PyObject *)__pyx_v_element);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_3tag___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_3tag___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":695 */
Py_INCREF(Py_None);
__pyx_r = Py_None;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.tag.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_6attrib___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_6attrib___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":699 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 699; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Comment.attrib.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_4text___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_4text___get__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":703 */
__pyx_1 = __pyx_f_5etree_funicode(((struct __pyx_obj_5etree__Comment *)__pyx_v_self)->__pyx_base.__pyx_base._c_node->content); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 703; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Comment.text.__get__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static int __pyx_f_5etree_8_Comment_4text___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_8_Comment_4text___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
int __pyx_r;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":706 */

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.text.__set__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_k97p;

static char (__pyx_k97[]) = "<Comment at %x>";

static PyObject *__pyx_f_5etree_8_Comment___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment___repr__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":710 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_id); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = PyNumber_Remainder(__pyx_k97p, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Comment.__repr__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_n); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_n) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_n);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":713 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; goto __pyx_L1;}
__Pyx_Raise(__pyx_1, 0, 0);
Py_DECREF(__pyx_1); __pyx_1 = 0;
{__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; goto __pyx_L1;}

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Comment.__getitem__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_n);
return __pyx_r;
}

static int __pyx_f_5etree_8_Comment___len__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_f_5etree_8_Comment___len__(PyObject *__pyx_v_self) {
int __pyx_r;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":716 */
__pyx_r = 0;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.__len__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
PyObject *__pyx_v_default = 0;
PyObject *__pyx_r;
static char *__pyx_argnames[] = {"key","default",0};
__pyx_v_default = __pyx_k24;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_key, &__pyx_v_default)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_default);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":719 */
Py_INCREF(Py_None);
__pyx_r = Py_None;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Comment.get");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_default);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":722 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 722; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Comment.keys");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_8_Comment_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_8_Comment_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":725 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 725; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._Comment.items");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static struct __pyx_obj_5etree__Comment *__pyx_f_5etree__commentFactory(struct __pyx_obj_5etree__Document *__pyx_v_doc,xmlNode (*__pyx_v_c_node)) {
struct __pyx_obj_5etree__Comment *__pyx_v_result;
struct __pyx_obj_5etree__Comment *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
Py_INCREF(__pyx_v_doc);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":729 */
__pyx_1 = ((PyObject *)__pyx_f_5etree_getProxy(__pyx_v_c_node,__pyx_v_5etree_PROXY_ELEMENT)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 729; goto __pyx_L1;}
if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_5etree__Comment)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 729; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":730 */
__pyx_2 = ((PyObject *)__pyx_v_result) != Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":731 */
  Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
  __pyx_r = (struct __pyx_obj_5etree__Comment *)((PyObject *)__pyx_v_result);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":732 */
__pyx_2 = (__pyx_v_c_node == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":733 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__Comment)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  Py_INCREF((PyObject *)Py_None);
  __pyx_r = (struct __pyx_obj_5etree__Comment *)Py_None;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":734 */
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree__Comment), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_5etree__Comment)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":735 */
Py_INCREF(((PyObject *)__pyx_v_doc));
Py_DECREF(((PyObject *)__pyx_v_result->__pyx_base.__pyx_base._doc));
__pyx_v_result->__pyx_base.__pyx_base._doc = ((PyObject *)__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":736 */
__pyx_v_result->__pyx_base.__pyx_base._c_node = __pyx_v_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":737 */
__pyx_v_result->__pyx_base.__pyx_base._proxy_type = __pyx_v_5etree_PROXY_ELEMENT;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":738 */
__pyx_f_5etree_registerProxy(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_result),__pyx_v_5etree_PROXY_ELEMENT);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":739 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_r = (struct __pyx_obj_5etree__Comment *)((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._commentFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_result);
Py_DECREF(__pyx_v_doc);
return ((struct __pyx_obj_5etree__Comment *)__pyx_r) ;
}

static PyObject *__pyx_k98p;

static char (__pyx_k98[]) = "UTF-8";

static int __pyx_f_5etree_7_Attrib___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value); /*proto*/
static int __pyx_f_5etree_7_Attrib___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value) {
xmlNs (*__pyx_v_c_ns);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_value);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":745 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":746 */
__pyx_1 = PyObject_GetAttr(__pyx_v_value, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
Py_INCREF(__pyx_k98p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k98p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_value);
__pyx_v_value = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":747 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":748 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; goto __pyx_L1;}
  xmlSetProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":750 */
  __pyx_5 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 750; goto __pyx_L1;}
  __pyx_v_c_ns = ((struct __pyx_vtabstruct_5etree__Attrib *)((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base._getNs(((struct __pyx_obj_5etree__NodeBase *)((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)),__pyx_5);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":751 */
  __pyx_6 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; goto __pyx_L1;}
  __pyx_5 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; goto __pyx_L1;}
  xmlSetNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_v_c_ns,__pyx_6,__pyx_5);
}
__pyx_L2:;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.__setitem__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_value);
return __pyx_r;
}

static PyObject *__pyx_n_KeyError;

static int __pyx_f_5etree_7_Attrib___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static int __pyx_f_5etree_7_Attrib___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
xmlNs (*__pyx_v_c_ns);
xmlAttr (*__pyx_v_c_attr);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":756 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 756; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":757 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":758 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; goto __pyx_L1;}
  __pyx_v_c_attr = xmlHasProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":760 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 760; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 760; goto __pyx_L1;}
  __pyx_v_c_attr = xmlHasNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":761 */
__pyx_4 = (__pyx_v_c_attr == 0);
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":763 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_v_key, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":764 */
xmlRemoveProp(__pyx_v_c_attr);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.__delitem__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
return __pyx_r;
}

static PyObject *__pyx_n_repr;

static PyObject *__pyx_f_5etree_7_Attrib___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib___repr__(PyObject *__pyx_v_self) {
PyObject *__pyx_v_result;
PyObject *__pyx_v_key;
PyObject *__pyx_v_value;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);
__pyx_v_key = Py_None; Py_INCREF(__pyx_v_key);
__pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":768 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 768; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":769 */
__pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = PyObject_GetIter(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
for (;;) {
  __pyx_L2:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
    break;
  }
  __pyx_3 = __Pyx_UnpackItem(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
  Py_DECREF(__pyx_v_key);
  __pyx_v_key = __pyx_3;
  __pyx_3 = 0;
  __pyx_4 = __Pyx_UnpackItem(__pyx_2, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
  Py_DECREF(__pyx_v_value);
  __pyx_v_value = __pyx_4;
  __pyx_4 = 0;
  if (__Pyx_EndUnpack(__pyx_2, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 769; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":770 */
  if (PyObject_SetItem(__pyx_v_result, __pyx_v_key, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 770; goto __pyx_L1;}
}
__pyx_L3:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":771 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; goto __pyx_L1;}
Py_INCREF(__pyx_v_result);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_result);
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_r = __pyx_4;
__pyx_4 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Attrib.__repr__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_value);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
xmlNs (*__pyx_v_c_ns);
char (*__pyx_v_result);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":776 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":777 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":778 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 778; goto __pyx_L1;}
  __pyx_v_result = xmlGetNoNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":780 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 780; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 780; goto __pyx_L1;}
  __pyx_v_result = xmlGetNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":781 */
__pyx_4 = (__pyx_v_result == 0);
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":783 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 783; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_v_key, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 783; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":784 */
__pyx_2 = __pyx_f_5etree_funicode(__pyx_v_result); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 784; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.__getitem__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
return __pyx_r;
}

static int __pyx_f_5etree_7_Attrib___len__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_f_5etree_7_Attrib___len__(PyObject *__pyx_v_self) {
int __pyx_v_c;
xmlNode (*__pyx_v_c_node);
int __pyx_r;
int __pyx_1;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":789 */
__pyx_v_c = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":790 */
__pyx_v_c_node = ((xmlNode (*))((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node->properties);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":791 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":792 */
  __pyx_1 = (__pyx_v_c_node->type == XML_ATTRIBUTE_NODE);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":793 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":794 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":795 */
__pyx_r = __pyx_v_c;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._Attrib.__len__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n___getitem__;

static PyObject *__pyx_f_5etree_7_Attrib_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib_get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
PyObject *__pyx_v_default = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"key","default",0};
__pyx_v_default = __pyx_k25;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_key, &__pyx_v_default)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
Py_INCREF(__pyx_v_default);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":798 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":799 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___getitem__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L2;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L2;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L2;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;
}
goto __pyx_L3;
__pyx_L2:;
Py_XDECREF(__pyx_1); __pyx_1 = 0;
Py_XDECREF(__pyx_2); __pyx_2 = 0;
Py_XDECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":800 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 800; goto __pyx_L1;}
__pyx_4 = PyErr_ExceptionMatches(__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {
  __Pyx_AddTraceback("etree.get");
  __pyx_2 = __Pyx_GetExcValue(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 800; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":801 */
  Py_INCREF(__pyx_v_default);
  __pyx_r = __pyx_v_default;
  goto __pyx_L0;
  goto __pyx_L3;
}
goto __pyx_L1;
__pyx_L3:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.get");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_default);
return __pyx_r;
}

static PyObject *__pyx_n_iter;

static PyObject *__pyx_f_5etree_7_Attrib___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib___iter__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF((PyObject *)__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":804 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_iter); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_keys); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 804; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Attrib.__iter__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib_keys(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_result;
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":807 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":809 */
__pyx_v_c_node = ((xmlNode (*))((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node->properties);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":810 */
while (1) {
  __pyx_L2:;
  __pyx_2 = (__pyx_v_c_node != 0);
  if (!__pyx_2) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":811 */
  __pyx_2 = (__pyx_v_c_node->type == XML_ATTRIBUTE_NODE);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":812 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
    __pyx_3 = __pyx_f_5etree__namespacedName(__pyx_v_c_node); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":813 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":814 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Attrib.keys");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib_values(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib_values(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_result;
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":817 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":819 */
__pyx_v_c_node = ((xmlNode (*))((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node->properties);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":820 */
while (1) {
  __pyx_L2:;
  __pyx_2 = (__pyx_v_c_node != 0);
  if (!__pyx_2) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":821 */
  __pyx_2 = (__pyx_v_c_node->type == XML_ATTRIBUTE_NODE);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":822 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 822; goto __pyx_L1;}
    __pyx_3 = ((struct __pyx_vtabstruct_5etree__Attrib *)((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base.__pyx_vtab)->_getValue(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self),__pyx_v_c_node); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 822; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 822; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 822; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":823 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":824 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._Attrib.values");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib__getValue(struct __pyx_obj_5etree__Attrib *__pyx_v_self,xmlNode (*__pyx_v_c_node)) {
PyObject *__pyx_v_value;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
char (*__pyx_3);
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":827 */
__pyx_1 = (__pyx_v_c_node->ns == 0);
if (!__pyx_1) {
  __pyx_1 = (__pyx_v_c_node->ns->href == 0);
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":828 */
  __pyx_2 = PyString_FromString(xmlGetNoNsProp(__pyx_v_self->__pyx_base._c_node,__pyx_v_c_node->name)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 828; goto __pyx_L1;}
  Py_DECREF(__pyx_v_value);
  __pyx_v_value = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":830 */
  __pyx_2 = PyString_FromString(xmlGetNsProp(__pyx_v_self->__pyx_base._c_node,__pyx_v_c_node->name,__pyx_v_c_node->ns->href)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 830; goto __pyx_L1;}
  Py_DECREF(__pyx_v_value);
  __pyx_v_value = __pyx_2;
  __pyx_2 = 0;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":832 */
__pyx_3 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 832; goto __pyx_L1;}
__pyx_2 = __pyx_f_5etree_funicode(__pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 832; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._Attrib._getValue");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_value);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib_items(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_result;
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":835 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 835; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":837 */
__pyx_v_c_node = ((xmlNode (*))((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node->properties);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":838 */
while (1) {
  __pyx_L2:;
  __pyx_2 = (__pyx_v_c_node != 0);
  if (!__pyx_2) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":839 */
  __pyx_2 = (__pyx_v_c_node->type == XML_ATTRIBUTE_NODE);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":840 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; goto __pyx_L1;}
    __pyx_3 = __pyx_f_5etree__namespacedName(__pyx_v_c_node); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; goto __pyx_L1;}
    __pyx_4 = ((struct __pyx_vtabstruct_5etree__Attrib *)((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base.__pyx_vtab)->_getValue(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self),__pyx_v_c_node); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":844 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":845 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._Attrib.items");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_7_Attrib_has_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_7_Attrib_has_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_key = 0;
xmlNs (*__pyx_v_c_ns);
char (*__pyx_v_result);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
static char *__pyx_argnames[] = {"key",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_key)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":850 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 850; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":851 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":852 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 852; goto __pyx_L1;}
  __pyx_v_result = xmlGetNoNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":854 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; goto __pyx_L1;}
  __pyx_v_result = xmlGetNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":855 */
__pyx_1 = PyInt_FromLong((__pyx_v_result != 0)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 855; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.has_key");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
return __pyx_r;
}

static int __pyx_f_5etree_7_Attrib___contains__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static int __pyx_f_5etree_7_Attrib___contains__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
xmlNs (*__pyx_v_c_ns);
char (*__pyx_v_result);
PyObject *__pyx_v_ns;
PyObject *__pyx_v_tag;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
char (*__pyx_6);
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_key);
__pyx_v_ns = Py_None; Py_INCREF(__pyx_v_ns);
__pyx_v_tag = Py_None; Py_INCREF(__pyx_v_tag);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":860 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__getNsTag); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
Py_INCREF(__pyx_v_key);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns);
__pyx_v_ns = __pyx_1;
__pyx_1 = 0;
__pyx_2 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_2;
__pyx_2 = 0;
if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":861 */
__pyx_4 = __pyx_v_ns == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":862 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; goto __pyx_L1;}
  __pyx_v_result = xmlGetNoNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":864 */
  __pyx_5 = PyString_AsString(__pyx_v_tag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_ns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; goto __pyx_L1;}
  __pyx_v_result = xmlGetNsProp(((struct __pyx_obj_5etree__Attrib *)__pyx_v_self)->__pyx_base._c_node,__pyx_5,__pyx_6);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":865 */
__pyx_r = (__pyx_v_result != 0);
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._Attrib.__contains__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_ns);
Py_DECREF(__pyx_v_tag);
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_key);
return __pyx_r;
}

static struct __pyx_obj_5etree__Attrib *__pyx_f_5etree__attribFactory(struct __pyx_obj_5etree__Document *__pyx_v_doc,xmlNode (*__pyx_v_c_node)) {
struct __pyx_obj_5etree__Attrib *__pyx_v_result;
struct __pyx_obj_5etree__Attrib *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
Py_INCREF(__pyx_v_doc);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":869 */
__pyx_1 = ((PyObject *)__pyx_f_5etree_getProxy(__pyx_v_c_node,__pyx_v_5etree_PROXY_ATTRIB)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; goto __pyx_L1;}
if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_5etree__Attrib)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":870 */
__pyx_2 = ((PyObject *)__pyx_v_result) != Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":871 */
  Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
  __pyx_r = (struct __pyx_obj_5etree__Attrib *)((PyObject *)__pyx_v_result);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":872 */
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree__Attrib), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_5etree__Attrib)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":873 */
Py_INCREF(((PyObject *)__pyx_v_doc));
Py_DECREF(((PyObject *)__pyx_v_result->__pyx_base._doc));
__pyx_v_result->__pyx_base._doc = ((PyObject *)__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":874 */
__pyx_v_result->__pyx_base._c_node = __pyx_v_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":875 */
__pyx_v_result->__pyx_base._proxy_type = __pyx_v_5etree_PROXY_ATTRIB;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":876 */
__pyx_f_5etree_registerProxy(((struct __pyx_obj_5etree__NodeBase *)__pyx_v_result),__pyx_v_5etree_PROXY_ATTRIB);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":877 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_r = (struct __pyx_obj_5etree__Attrib *)((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._attribFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_result);
Py_DECREF(__pyx_v_doc);
return ((struct __pyx_obj_5etree__Attrib *)__pyx_r) ;
}

static int __pyx_f_5etree_20ElementChildIterator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_20ElementChildIterator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_node = 0;
xmlNode (*__pyx_v_c_node);
struct __pyx_obj_5etree__NodeBase *__pyx_v_base_node;
int __pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"node",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_node)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_node);
__pyx_v_base_node = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_base_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":885 */
Py_INCREF(((PyObject *)__pyx_v_node));
Py_DECREF(((PyObject *)__pyx_v_base_node));
__pyx_v_base_node = ((PyObject *)__pyx_v_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":886 */
__pyx_v_c_node = __pyx_f_5etree__findChildForwards(__pyx_v_base_node->_c_node,0);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":887 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":888 */
  Py_INCREF(Py_None);
  Py_DECREF(((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node);
  ((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node = Py_None;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":890 */
  __pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(__pyx_v_base_node->_doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 890; goto __pyx_L1;}
  Py_DECREF(((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node);
  ((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node = __pyx_2;
  __pyx_2 = 0;
}
__pyx_L2:;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.ElementChildIterator.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_base_node);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_node);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_20ElementChildIterator___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_20ElementChildIterator___iter__(PyObject *__pyx_v_self) {
PyObject *__pyx_r;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":892 */
Py_INCREF(__pyx_v_self);
__pyx_r = __pyx_v_self;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.ElementChildIterator.__iter__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_StopIteration;

static PyObject *__pyx_f_5etree_20ElementChildIterator___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_20ElementChildIterator___next__(PyObject *__pyx_v_self) {
xmlNode (*__pyx_v_c_node);
struct __pyx_obj_5etree__NodeBase *__pyx_v_base_node;
PyObject *__pyx_v_current_node;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF(__pyx_v_self);
__pyx_v_base_node = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_base_node);
__pyx_v_current_node = Py_None; Py_INCREF(__pyx_v_current_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":896 */
Py_INCREF(((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node);
Py_DECREF(__pyx_v_current_node);
__pyx_v_current_node = ((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":897 */
__pyx_1 = __pyx_v_current_node == Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":898 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 898; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 898; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":899 */
Py_INCREF(((PyObject *)__pyx_v_current_node));
Py_DECREF(((PyObject *)__pyx_v_base_node));
__pyx_v_base_node = ((PyObject *)__pyx_v_current_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":900 */
__pyx_v_c_node = __pyx_f_5etree__nextElement(__pyx_v_base_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":901 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":902 */
  Py_INCREF(Py_None);
  Py_DECREF(((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node);
  ((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node = Py_None;
  goto __pyx_L3;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":904 */
  __pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(__pyx_v_base_node->_doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; goto __pyx_L1;}
  Py_DECREF(((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node);
  ((struct __pyx_obj_5etree_ElementChildIterator *)__pyx_v_self)->_node = __pyx_2;
  __pyx_2 = 0;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":905 */
Py_INCREF(__pyx_v_current_node);
__pyx_r = __pyx_v_current_node;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.ElementChildIterator.__next__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_base_node);
Py_DECREF(__pyx_v_current_node);
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_n_update;

static PyObject *__pyx_k99p;
static PyObject *__pyx_k100p;
static PyObject *__pyx_k101p;

static char (__pyx_k99[]) = "UTF-8";
static char (__pyx_k100[]) = "UTF-8";
static char (__pyx_k101[]) = "UTF-8";

static xmlNode (*__pyx_f_5etree__createElement(xmlDoc (*__pyx_v_c_doc),PyObject *__pyx_v_tag,PyObject *__pyx_v_attrib,PyObject *__pyx_v_extra)) {
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_v_tag_utf;
PyObject *__pyx_v_name;
PyObject *__pyx_v_value;
PyObject *__pyx_v_name_utf;
PyObject *__pyx_v_value_utf;
xmlNode (*__pyx_r);
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
PyObject *__pyx_6 = 0;
char (*__pyx_7);
Py_INCREF(__pyx_v_tag);
Py_INCREF(__pyx_v_attrib);
Py_INCREF(__pyx_v_extra);
__pyx_v_tag_utf = Py_None; Py_INCREF(__pyx_v_tag_utf);
__pyx_v_name = Py_None; Py_INCREF(__pyx_v_name);
__pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);
__pyx_v_name_utf = Py_None; Py_INCREF(__pyx_v_name_utf);
__pyx_v_value_utf = Py_None; Py_INCREF(__pyx_v_value_utf);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":910 */
__pyx_1 = PyObject_GetAttr(__pyx_v_tag, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
Py_INCREF(__pyx_k99p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k99p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_tag_utf);
__pyx_v_tag_utf = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":911 */
__pyx_4 = __pyx_v_attrib == Py_None;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":912 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
  Py_DECREF(__pyx_v_attrib);
  __pyx_v_attrib = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":913 */
__pyx_2 = PyObject_GetAttr(__pyx_v_attrib, __pyx_n_update); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
Py_INCREF(__pyx_v_extra);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_extra);
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":914 */
__pyx_5 = PyString_AsString(__pyx_v_tag_utf); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
__pyx_v_c_node = xmlNewDocNode(__pyx_v_c_doc,0,__pyx_5,0);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":915 */
__pyx_2 = PyObject_GetAttr(__pyx_v_attrib, __pyx_n_items); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyObject_GetIter(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
for (;;) {
  __pyx_L3:;
  __pyx_3 = PyIter_Next(__pyx_2);
  if (!__pyx_3) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
    break;
  }
  __pyx_1 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
  Py_DECREF(__pyx_v_name);
  __pyx_v_name = __pyx_1;
  __pyx_1 = 0;
  __pyx_6 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
  Py_DECREF(__pyx_v_value);
  __pyx_v_value = __pyx_6;
  __pyx_6 = 0;
  if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":916 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_name, __pyx_n_encode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; goto __pyx_L1;}
  Py_INCREF(__pyx_k100p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k100p);
  __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_name_utf);
  __pyx_v_name_utf = __pyx_6;
  __pyx_6 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":917 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_value, __pyx_n_encode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 917; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 917; goto __pyx_L1;}
  Py_INCREF(__pyx_k101p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k101p);
  __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 917; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_value_utf);
  __pyx_v_value_utf = __pyx_6;
  __pyx_6 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":918 */
  __pyx_5 = PyString_AsString(__pyx_v_name_utf); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 918; goto __pyx_L1;}
  __pyx_7 = PyString_AsString(__pyx_v_value_utf); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 918; goto __pyx_L1;}
  xmlNewProp(__pyx_v_c_node,__pyx_5,__pyx_7);
}
__pyx_L4:;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":919 */
__pyx_r = __pyx_v_c_node;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree._createElement");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_tag_utf);
Py_DECREF(__pyx_v_name);
Py_DECREF(__pyx_v_value);
Py_DECREF(__pyx_v_name_utf);
Py_DECREF(__pyx_v_value_utf);
Py_DECREF(__pyx_v_tag);
Py_DECREF(__pyx_v_attrib);
Py_DECREF(__pyx_v_extra);
return __pyx_r;
}

static xmlNode (*__pyx_f_5etree__createComment(xmlDoc (*__pyx_v_c_doc),char (*__pyx_v_text))) {
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_r);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":923 */
__pyx_v_c_node = xmlNewDocComment(__pyx_v_c_doc,__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":924 */
__pyx_r = __pyx_v_c_node;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._createComment");
__pyx_L0:;
return __pyx_r;
}

static PyObject *__pyx_f_5etree_Element(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_Element(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_attrib = 0;
PyObject *__pyx_v_nsmap = 0;
PyObject *__pyx_v_extra = 0;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
struct __pyx_obj_5etree__Element *__pyx_v_result;
xmlNode (*__pyx_v_c_node);
xmlDoc (*__pyx_v_c_doc);
PyObject *__pyx_r;
xmlNode (*__pyx_1);
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"tag","attrib","nsmap",0};
__pyx_v_attrib = __pyx_k26;
__pyx_v_nsmap = __pyx_k27;
if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 3, 0, &__pyx_v_extra) < 0) return 0;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_tag, &__pyx_v_attrib, &__pyx_v_nsmap)) {
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  Py_XDECREF(__pyx_v_extra);
  return 0;
}
Py_INCREF(__pyx_v_tag);
Py_INCREF(__pyx_v_attrib);
Py_INCREF(__pyx_v_nsmap);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":934 */
__pyx_v_c_doc = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->newDoc(__pyx_v_5etree_theParser);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":935 */
__pyx_1 = __pyx_f_5etree__createElement(__pyx_v_c_doc,__pyx_v_tag,__pyx_v_attrib,__pyx_v_extra); if (__pyx_1 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; goto __pyx_L1;}
__pyx_v_c_node = __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":936 */
xmlDocSetRootElement(__pyx_v_c_doc,__pyx_v_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":938 */
__pyx_2 = __pyx_f_5etree__addNamespaces(__pyx_v_c_doc,__pyx_v_c_node,__pyx_v_nsmap); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":940 */
__pyx_2 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_v_c_doc)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 940; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":941 */
__pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(__pyx_v_doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":942 */
if (PyObject_SetAttr(((PyObject *)__pyx_v_result), __pyx_n_tag, __pyx_v_tag) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":943 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_r = ((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.Element");
__pyx_r = 0;
__pyx_L0:;
Py_XDECREF(__pyx_v_extra);
Py_DECREF(__pyx_v_doc);
Py_DECREF((PyObject *)__pyx_v_result);
Py_DECREF(__pyx_v_tag);
Py_DECREF(__pyx_v_attrib);
Py_DECREF(__pyx_v_nsmap);
Py_XDECREF(__pyx_args);
Py_XDECREF(__pyx_kwds);
return __pyx_r;
}

static PyObject *__pyx_k102p;
static PyObject *__pyx_k104p;
static PyObject *__pyx_k103p;

static char (__pyx_k102[]) = "";
static char (__pyx_k103[]) = " %s ";
static char (__pyx_k104[]) = "UTF-8";

static PyObject *__pyx_f_5etree_Comment(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_Comment(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_text = 0;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
static char *__pyx_argnames[] = {"text",0};
__pyx_v_text = __pyx_k28;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_text)) return 0;
Py_INCREF(__pyx_v_text);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":948 */
__pyx_1 = __pyx_v_text == Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":949 */
  Py_INCREF(__pyx_k102p);
  Py_DECREF(__pyx_v_text);
  __pyx_v_text = __pyx_k102p;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":950 */
__pyx_2 = PyObject_GetAttr(__pyx_v_text, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
Py_INCREF(__pyx_k104p);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k104p);
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyNumber_Remainder(__pyx_k103p, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
Py_DECREF(__pyx_v_text);
__pyx_v_text = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":951 */
__pyx_3 = ((PyObject *)__pyx_f_5etree__documentFactory(((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->newDoc(__pyx_v_5etree_theParser))); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 951; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":952 */
__pyx_5 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 952; goto __pyx_L1;}
__pyx_v_c_node = __pyx_f_5etree__createComment(__pyx_v_doc->_c_doc,__pyx_5);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":953 */
xmlAddChild(((xmlNode (*))__pyx_v_doc->_c_doc),__pyx_v_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":954 */
__pyx_4 = ((PyObject *)__pyx_f_5etree__commentFactory(__pyx_v_doc,__pyx_v_c_node)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
__pyx_r = __pyx_4;
__pyx_4 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.Comment");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_text);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_SubElement(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_SubElement(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_parent = 0;
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_attrib = 0;
PyObject *__pyx_v_nsmap = 0;
PyObject *__pyx_v_extra = 0;
xmlNode (*__pyx_v_c_node);
struct __pyx_obj_5etree__Element *__pyx_v_element;
PyObject *__pyx_r;
xmlNode (*__pyx_1);
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"parent","tag","attrib","nsmap",0};
__pyx_v_attrib = __pyx_k29;
__pyx_v_nsmap = __pyx_k30;
if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 4, 0, &__pyx_v_extra) < 0) return 0;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OO", __pyx_argnames, &__pyx_v_parent, &__pyx_v_tag, &__pyx_v_attrib, &__pyx_v_nsmap)) {
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  Py_XDECREF(__pyx_v_extra);
  return 0;
}
Py_INCREF((PyObject *)__pyx_v_parent);
Py_INCREF(__pyx_v_tag);
Py_INCREF(__pyx_v_attrib);
Py_INCREF(__pyx_v_nsmap);
__pyx_v_element = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_element);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_parent), __pyx_ptype_5etree__Element, 1, "parent")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":959 */
__pyx_1 = __pyx_f_5etree__createElement(__pyx_v_parent->__pyx_base._doc->_c_doc,__pyx_v_tag,__pyx_v_attrib,__pyx_v_extra); if (__pyx_1 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 959; goto __pyx_L1;}
__pyx_v_c_node = __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":960 */
__pyx_2 = ((PyObject *)__pyx_f_5etree__elementFactory(__pyx_v_parent->__pyx_base._doc,__pyx_v_c_node)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
Py_DECREF((PyObject *)((PyObject *)__pyx_v_element));
__pyx_v_element = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":961 */
__pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_parent), __pyx_n_append); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
Py_INCREF((PyObject *)((PyObject *)__pyx_v_element));
PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_element));
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":963 */
__pyx_2 = __pyx_f_5etree__addNamespaces(__pyx_v_parent->__pyx_base._doc->_c_doc,__pyx_v_c_node,__pyx_v_nsmap); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":965 */
if (PyObject_SetAttr(((PyObject *)__pyx_v_element), __pyx_n_tag, __pyx_v_tag) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":966 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_element));
__pyx_r = ((PyObject *)__pyx_v_element);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.SubElement");
__pyx_r = 0;
__pyx_L0:;
Py_XDECREF(__pyx_v_extra);
Py_DECREF((PyObject *)__pyx_v_element);
Py_DECREF((PyObject *)__pyx_v_parent);
Py_DECREF(__pyx_v_tag);
Py_DECREF(__pyx_v_attrib);
Py_DECREF(__pyx_v_nsmap);
Py_XDECREF(__pyx_args);
Py_XDECREF(__pyx_kwds);
return __pyx_r;
}

static PyObject *__pyx_n_isinstance;
static PyObject *__pyx_n_str;
static PyObject *__pyx_n_unicode;
static PyObject *__pyx_n_r;
static PyObject *__pyx_n_close;


static PyObject *__pyx_f_5etree_ElementTree(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_ElementTree(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
PyObject *__pyx_v_file = 0;
xmlNode (*__pyx_v_c_next);
xmlNode (*__pyx_v_c_node);
xmlNode (*__pyx_v_c_node_copy);
struct __pyx_obj_5etree__ElementTree *__pyx_v_etree;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
PyObject *__pyx_v_f;
PyObject *__pyx_v_data;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
xmlDoc (*__pyx_6);
static char *__pyx_argnames[] = {"element","file",0};
__pyx_v_element = __pyx_k31;
__pyx_v_file = __pyx_k32;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OO", __pyx_argnames, &__pyx_v_element, &__pyx_v_file)) return 0;
Py_INCREF((PyObject *)__pyx_v_element);
Py_INCREF(__pyx_v_file);
__pyx_v_etree = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_etree);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);
__pyx_v_f = Py_None; Py_INCREF(__pyx_v_f);
__pyx_v_data = Py_None; Py_INCREF(__pyx_v_data);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 968; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":975 */
__pyx_1 = ((PyObject *)__pyx_v_element) != Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":976 */
  Py_INCREF(((PyObject *)__pyx_v_element->__pyx_base._doc));
  Py_DECREF(((PyObject *)__pyx_v_doc));
  __pyx_v_doc = ((PyObject *)__pyx_v_element->__pyx_base._doc);
  goto __pyx_L2;
}
__pyx_1 = __pyx_v_file != Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":978 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  Py_INCREF(__pyx_v_file);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_file);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
  __pyx_4 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = PyObject_IsTrue(__pyx_2); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  if (!__pyx_1) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
    Py_INCREF(__pyx_v_file);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_file);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
    __pyx_3 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  __pyx_1 = PyObject_IsTrue(__pyx_2); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":979 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_open); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 979; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 979; goto __pyx_L1;}
    Py_INCREF(__pyx_v_file);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_file);
    Py_INCREF(__pyx_n_r);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_n_r);
    __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 979; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_f);
    __pyx_v_f = __pyx_5;
    __pyx_5 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":980 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_f, __pyx_n_read); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_4;
    __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":981 */
    __pyx_5 = PyObject_GetAttr(__pyx_v_f, __pyx_n_close); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 981; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 981; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 981; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":984 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_file, __pyx_n_read); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_2;
    __pyx_2 = 0;
  }
  __pyx_L3:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":985 */
  __pyx_6 = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->parseDoc(__pyx_v_5etree_theParser,__pyx_v_data); if (__pyx_6 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; goto __pyx_L1;}
  __pyx_3 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_6)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_doc));
  __pyx_v_doc = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":987 */
  __pyx_4 = ((PyObject *)__pyx_f_5etree__documentFactory(((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->newDoc(__pyx_v_5etree_theParser))); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_doc));
  __pyx_v_doc = __pyx_4;
  __pyx_4 = 0;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":989 */
__pyx_5 = ((PyObject *)__pyx_f_5etree__elementTreeFactory(__pyx_v_doc,((struct __pyx_obj_5etree__NodeBase *)__pyx_v_element))); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 989; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_etree));
__pyx_v_etree = __pyx_5;
__pyx_5 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":998 */
Py_INCREF(((PyObject *)__pyx_v_etree));
__pyx_r = ((PyObject *)__pyx_v_etree);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree.ElementTree");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_etree);
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_f);
Py_DECREF(__pyx_v_data);
Py_DECREF((PyObject *)__pyx_v_element);
Py_DECREF(__pyx_v_file);
return __pyx_r;
}

static PyObject *__pyx_k106p;

static char (__pyx_k106[]) = "UTF-8";

static PyObject *__pyx_f_5etree_XML(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_XML(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_text = 0;
xmlDoc (*__pyx_v_c_doc);
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
xmlDoc (*__pyx_5);
static char *__pyx_argnames[] = {"text",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_text)) return 0;
Py_INCREF(__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1002 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
Py_INCREF(__pyx_v_text);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_text);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
__pyx_2 = 0;
__pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1003 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_text, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1003; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1003; goto __pyx_L1;}
  Py_INCREF(__pyx_k106p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k106p);
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1003; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __pyx_f_5etree__stripDeclaration(__pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1003; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_text);
  __pyx_v_text = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1004 */
__pyx_5 = ((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_5etree_theParser->__pyx_vtab)->parseDoc(__pyx_v_5etree_theParser,__pyx_v_text); if (__pyx_5 == 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1004; goto __pyx_L1;}
__pyx_v_c_doc = __pyx_5;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1005 */
__pyx_3 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_v_c_doc)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_getroot); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XML");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_text);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_iselement(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_iselement(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_element = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"element",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_element)) return 0;
Py_INCREF(__pyx_v_element);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1010 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1010; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1010; goto __pyx_L1;}
Py_INCREF(__pyx_v_element);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_element);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__Element));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__Element));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1010; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.iselement");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_element);
return __pyx_r;
}

static PyObject *__pyx_n_stdout;

static PyObject *__pyx_k107p;

static char (__pyx_k107[]) = "Must supply element.";

static PyObject *__pyx_f_5etree_dump(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_dump(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__NodeBase *__pyx_v_elem = 0;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"elem",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_elem)) return 0;
Py_INCREF(__pyx_v_elem);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_elem), __pyx_ptype_5etree__NodeBase, 1, "elem")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1012; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1013 */
__pyx_1 = ((PyObject *)__pyx_v_elem) != Py_None;
if (!__pyx_1) {
  PyErr_SetObject(PyExc_AssertionError, __pyx_k107p);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; goto __pyx_L1;}
}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1014 */
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_sys); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; goto __pyx_L1;}
__pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_stdout); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_2 = __pyx_f_5etree__dumpToFile(__pyx_3,__pyx_v_elem->_doc->_c_doc,__pyx_v_elem->_c_node); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.dump");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_elem);
return __pyx_r;
}

static PyObject *__pyx_n_utf8;
static PyObject *__pyx_n_UTF8;

static PyObject *__pyx_k110p;
static PyObject *__pyx_k111p;

static char (__pyx_k110[]) = "utf-8";
static char (__pyx_k111[]) = "UTF-8";

static PyObject *__pyx_f_5etree_tostring(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_tostring(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__NodeBase *__pyx_v_element = 0;
PyObject *__pyx_v_encoding = 0;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
xmlOutputBuffer (*__pyx_v_c_buffer);
xmlCharEncodingHandler (*__pyx_v_enchandler);
char (*__pyx_v_enc);
PyObject *__pyx_v_result;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
char (*__pyx_3);
static char *__pyx_argnames[] = {"element","encoding",0};
__pyx_v_encoding = __pyx_k34;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_element, &__pyx_v_encoding)) return 0;
Py_INCREF(__pyx_v_element);
Py_INCREF(__pyx_v_encoding);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__NodeBase, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1022 */
__pyx_1 = ((PyObject *)__pyx_v_element) != Py_None;
if (!__pyx_1) {
  PyErr_SetNone(PyExc_AssertionError);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1022; goto __pyx_L1;}
}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1026 */
__pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1026; goto __pyx_L1;}
Py_INCREF(__pyx_n_utf8);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_n_utf8);
Py_INCREF(__pyx_n_UTF8);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_UTF8);
Py_INCREF(__pyx_k110p);
PyTuple_SET_ITEM(__pyx_2, 2, __pyx_k110p);
__pyx_1 = PySequence_Contains(__pyx_2, __pyx_v_encoding); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1026; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1027 */
  Py_INCREF(__pyx_k111p);
  Py_DECREF(__pyx_v_encoding);
  __pyx_v_encoding = __pyx_k111p;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1028 */
Py_INCREF(((PyObject *)__pyx_v_element->_doc));
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = ((PyObject *)__pyx_v_element->_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1029 */
__pyx_3 = PyString_AsString(__pyx_v_encoding); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1029; goto __pyx_L1;}
__pyx_v_enc = __pyx_3;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1032 */
__pyx_v_enchandler = xmlFindCharEncodingHandler(__pyx_v_enc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1033 */
__pyx_v_c_buffer = xmlAllocOutputBuffer(__pyx_v_enchandler);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1034 */
xmlNodeDumpOutput(__pyx_v_c_buffer,__pyx_v_doc->_c_doc,__pyx_v_element->_c_node,0,0,__pyx_v_enc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1036 */
__pyx_2 = __pyx_f_5etree__dumpNextNode(__pyx_v_c_buffer,__pyx_v_doc->_c_doc,__pyx_v_element->_c_node,__pyx_v_enc); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1036; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1037 */
xmlOutputBufferFlush(__pyx_v_c_buffer);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1038 */
__pyx_1 = (__pyx_v_c_buffer->conv != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1039 */
  __pyx_2 = PyString_FromString(xmlBufferContent(__pyx_v_c_buffer->conv)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1039; goto __pyx_L1;}
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L3;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1041 */
  __pyx_2 = PyString_FromString(xmlBufferContent(__pyx_v_c_buffer->buffer)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1041; goto __pyx_L1;}
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_2;
  __pyx_2 = 0;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1042 */
xmlOutputBufferClose(__pyx_v_c_buffer);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1043 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.tostring");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_element);
Py_DECREF(__pyx_v_encoding);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_parse(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_parse[] = "Return an ElementTree object loaded with source elements\n    ";
static PyObject *__pyx_f_5etree_parse(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_source = 0;
PyObject *__pyx_v_parser = 0;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"source","parser",0};
__pyx_v_parser = __pyx_k35;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_source, &__pyx_v_parser)) return 0;
Py_INCREF(__pyx_v_source);
Py_INCREF(__pyx_v_parser);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1049 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__parseDocument(__pyx_v_source,__pyx_v_parser)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1049; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1050 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_ElementTree); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_doc), __pyx_n_getroot); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.parse");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_source);
Py_DECREF(__pyx_v_parser);
return __pyx_r;
}

static PyObject *__pyx_f_5etree__addNamespaces(xmlDoc (*__pyx_v_c_doc),xmlNode (*__pyx_v_c_node),PyObject *__pyx_v_nsmap) {
xmlNs (*__pyx_v_c_ns);
PyObject *__pyx_v_prefix;
PyObject *__pyx_v_href;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
char (*__pyx_6);
char (*__pyx_7);
Py_INCREF(__pyx_v_nsmap);
__pyx_v_prefix = Py_None; Py_INCREF(__pyx_v_prefix);
__pyx_v_href = Py_None; Py_INCREF(__pyx_v_href);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1054 */
__pyx_1 = __pyx_v_nsmap == Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1055 */
  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1056 */
__pyx_2 = PyObject_GetAttr(__pyx_v_nsmap, __pyx_n_items); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
__pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
__pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = PyObject_GetIter(__pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
for (;;) {
  __pyx_L3:;
  __pyx_3 = PyIter_Next(__pyx_2);
  if (!__pyx_3) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
    break;
  }
  __pyx_4 = __Pyx_UnpackItem(__pyx_3, 0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  Py_DECREF(__pyx_v_prefix);
  __pyx_v_prefix = __pyx_4;
  __pyx_4 = 0;
  __pyx_5 = __Pyx_UnpackItem(__pyx_3, 1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  Py_DECREF(__pyx_v_href);
  __pyx_v_href = __pyx_5;
  __pyx_5 = 0;
  if (__Pyx_EndUnpack(__pyx_3, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1058 */
  __pyx_6 = PyString_AsString(__pyx_v_href); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1058; goto __pyx_L1;}
  __pyx_v_c_ns = xmlSearchNsByHref(__pyx_v_c_doc,__pyx_v_c_node,__pyx_6);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1059 */
  __pyx_1 = (__pyx_v_c_ns == 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1060 */
    __pyx_1 = __pyx_v_prefix != Py_None;
    if (__pyx_1) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1061 */
      __pyx_6 = PyString_AsString(__pyx_v_href); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1061; goto __pyx_L1;}
      __pyx_7 = PyString_AsString(__pyx_v_prefix); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1061; goto __pyx_L1;}
      xmlNewNs(__pyx_v_c_node,__pyx_6,__pyx_7);
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1063 */
      __pyx_6 = PyString_AsString(__pyx_v_href); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1063; goto __pyx_L1;}
      xmlNewNs(__pyx_v_c_node,__pyx_6,0);
    }
    __pyx_L6:;
    goto __pyx_L5;
  }
  __pyx_L5:;
}
__pyx_L4:;
Py_DECREF(__pyx_2); __pyx_2 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._addNamespaces");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_prefix);
Py_DECREF(__pyx_v_href);
Py_DECREF(__pyx_v_nsmap);
return __pyx_r;
}

static PyObject *__pyx_k112p;

static char (__pyx_k112[]) = "UTF-8";

static PyObject *__pyx_f_5etree_Namespace(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_Namespace(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_ns_uri = 0;
PyObject *__pyx_v_ns_utf;
PyObject *__pyx_v_registry;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"ns_uri",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_ns_uri)) return 0;
Py_INCREF(__pyx_v_ns_uri);
__pyx_v_ns_utf = Py_None; Py_INCREF(__pyx_v_ns_utf);
__pyx_v_registry = Py_None; Py_INCREF(__pyx_v_registry);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":22 */
__pyx_1 = PyObject_IsTrue(__pyx_v_ns_uri); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 22; goto __pyx_L1;}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":23 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_ns_uri, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 23; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_INCREF(__pyx_k112p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k112p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ns_utf);
  __pyx_v_ns_utf = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":25 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_ns_utf);
  __pyx_v_ns_utf = Py_None;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":26 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":27 */
  __pyx_2 = PyObject_GetItem(__pyx_v_5etree___NAMESPACE_CLASSES, __pyx_v_ns_utf); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 27; goto __pyx_L3;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
}
goto __pyx_L4;
__pyx_L3:;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_4); __pyx_4 = 0;
Py_XDECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":28 */
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 28; goto __pyx_L1;}
__pyx_1 = PyErr_ExceptionMatches(__pyx_3);
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_1) {
  __Pyx_AddTraceback("etree.Namespace");
  __pyx_4 = __Pyx_GetExcValue(); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 28; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":29 */
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 29; goto __pyx_L1;}
  Py_INCREF(__pyx_v_ns_uri);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_ns_uri);
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree__NamespaceRegistry), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 29; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_INCREF(__pyx_3);
  Py_DECREF(__pyx_v_registry);
  __pyx_v_registry = __pyx_3;
  if (PyObject_SetItem(__pyx_v_5etree___NAMESPACE_CLASSES, __pyx_v_ns_utf, __pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 29; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":30 */
  Py_INCREF(__pyx_v_registry);
  __pyx_r = __pyx_v_registry;
  goto __pyx_L0;
  goto __pyx_L4;
}
goto __pyx_L1;
__pyx_L4:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.Namespace");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns_utf);
Py_DECREF(__pyx_v_registry);
Py_DECREF(__pyx_v_ns_uri);
return __pyx_r;
}

static int __pyx_f_5etree_18_NamespaceRegistry___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_18_NamespaceRegistry___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_ns_uri = 0;
int __pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {"ns_uri",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_ns_uri)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_ns_uri);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":39 */
Py_INCREF(__pyx_v_ns_uri);
Py_DECREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_ns_uri);
((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_ns_uri = __pyx_v_ns_uri;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":40 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 40; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes);
((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":41 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 41; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions);
((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":42 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 42; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_xslt_elements);
((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_xslt_elements = __pyx_1;
__pyx_1 = 0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._NamespaceRegistry.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_ns_uri);
return __pyx_r;
}

static PyObject *__pyx_n_iteritems;
static PyObject *__pyx_n__;
static PyObject *__pyx_n_callable;


static PyObject *__pyx_f_5etree_18_NamespaceRegistry_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_18_NamespaceRegistry_update[] = "Forgivingly update the registry. If registered values are\n        neither subclasses of ElementBase nor callable extension\n        functions, or if their name starts with \'_\', they will be\n        silently discarded. This allows registrations at the module or\n        class level using vars(), globals() etc.";
static PyObject *__pyx_f_5etree_18_NamespaceRegistry_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_class_dict_iterable = 0;
PyObject *__pyx_v_name;
PyObject *__pyx_v_item;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
PyObject *__pyx_5 = 0;
static char *__pyx_argnames[] = {"class_dict_iterable",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_class_dict_iterable)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_class_dict_iterable);
__pyx_v_name = Py_None; Py_INCREF(__pyx_v_name);
__pyx_v_item = Py_None; Py_INCREF(__pyx_v_item);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":50 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; goto __pyx_L1;}
Py_INCREF(__pyx_v_class_dict_iterable);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_class_dict_iterable);
Py_INCREF(__pyx_n_iteritems);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_iteritems);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":51 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_class_dict_iterable, __pyx_n_iteritems); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 51; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 51; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 51; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_class_dict_iterable);
  __pyx_v_class_dict_iterable = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L2;
}
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 52; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 52; goto __pyx_L1;}
Py_INCREF(__pyx_v_class_dict_iterable);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_class_dict_iterable);
Py_INCREF(__pyx_n_items);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_items);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 52; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 52; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":53 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_class_dict_iterable, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_class_dict_iterable);
  __pyx_v_class_dict_iterable = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":54 */
__pyx_1 = PyObject_GetIter(__pyx_v_class_dict_iterable); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 54; goto __pyx_L1;}
for (;;) {
  __pyx_L3:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 54; goto __pyx_L1;}
    break;
  }
  __pyx_3 = __Pyx_UnpackItem(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 54; goto __pyx_L1;}
  Py_DECREF(__pyx_v_name);
  __pyx_v_name = __pyx_3;
  __pyx_3 = 0;
  __pyx_5 = __Pyx_UnpackItem(__pyx_2, 1); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 54; goto __pyx_L1;}
  Py_DECREF(__pyx_v_item);
  __pyx_v_item = __pyx_5;
  __pyx_5 = 0;
  if (__Pyx_EndUnpack(__pyx_2, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 54; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":55 */
  __pyx_4 = __pyx_v_name == Py_None;
  if (!__pyx_4) {
    __pyx_3 = PySequence_GetSlice(__pyx_v_name, 0, 1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_3, __pyx_n__, &__pyx_4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_2 = PyInt_FromLong(__pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
  __pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
  if (__pyx_4) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_callable); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
    Py_INCREF(__pyx_v_item);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_item);
    __pyx_2 = PyObject_CallObject(__pyx_5, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 55; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":56 */
    if (PyObject_SetItem(__pyx_v_self, __pyx_v_name, __pyx_v_item) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 56; goto __pyx_L1;}
    goto __pyx_L5;
  }
  __pyx_L5:;
}
__pyx_L4:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._NamespaceRegistry.update");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_name);
Py_DECREF(__pyx_v_item);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_class_dict_iterable);
return __pyx_r;
}

static PyObject *__pyx_n_type;
static PyObject *__pyx_n_ClassType;
static PyObject *__pyx_n_issubclass;

static PyObject *__pyx_k116p;
static PyObject *__pyx_k117p;
static PyObject *__pyx_k118p;

static char (__pyx_k116[]) = "Registered name can only be None for elements.";
static char (__pyx_k117[]) = "Registered item must be callable.";
static char (__pyx_k118[]) = "UTF-8";

static int __pyx_f_5etree_18_NamespaceRegistry___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_item); /*proto*/
static int __pyx_f_5etree_18_NamespaceRegistry___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_item) {
PyObject *__pyx_v_d;
PyObject *__pyx_v_name_utf;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
int __pyx_6;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_name);
Py_INCREF(__pyx_v_item);
__pyx_v_d = Py_None; Py_INCREF(__pyx_v_d);
__pyx_v_name_utf = Py_None; Py_INCREF(__pyx_v_name_utf);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":59 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
__pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_ClassType); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
__pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
PyTuple_SET_ITEM(__pyx_4, 1, __pyx_5);
__pyx_3 = 0;
__pyx_5 = 0;
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
Py_INCREF(__pyx_v_item);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_item);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
__pyx_4 = 0;
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_6 = PyObject_IsTrue(__pyx_1); if (__pyx_6 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
if (__pyx_6) {
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_issubclass); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_ElementBase); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
  Py_INCREF(__pyx_v_item);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_item);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  __pyx_4 = 0;
  __pyx_1 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
}
__pyx_6 = PyObject_IsTrue(__pyx_1); if (__pyx_6 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 59; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":60 */
  Py_INCREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes);
  Py_DECREF(__pyx_v_d);
  __pyx_v_d = ((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes;
  goto __pyx_L2;
}
__pyx_6 = __pyx_v_name == Py_None;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":62 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_NamespaceRegistryError); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 62; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, __pyx_k116p, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[1]; __pyx_lineno = 62; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
__pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_ClassType); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
__pyx_2 = 0;
__pyx_3 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
Py_INCREF(__pyx_v_item);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_item);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
__pyx_1 = 0;
__pyx_4 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
Py_DECREF(__pyx_5); __pyx_5 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_6 = PyObject_IsTrue(__pyx_4); if (__pyx_6 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
if (__pyx_6) {
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_issubclass); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTElement); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
  Py_INCREF(__pyx_v_item);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_item);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
}
__pyx_6 = PyObject_IsTrue(__pyx_4); if (__pyx_6 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 63; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":64 */
  Py_INCREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_xslt_elements);
  Py_DECREF(__pyx_v_d);
  __pyx_v_d = ((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_xslt_elements;
  goto __pyx_L2;
}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_callable); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 65; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 65; goto __pyx_L1;}
Py_INCREF(__pyx_v_item);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_item);
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 65; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_6 = PyObject_IsTrue(__pyx_3); if (__pyx_6 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 65; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":66 */
  Py_INCREF(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions);
  Py_DECREF(__pyx_v_d);
  __pyx_v_d = ((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":68 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_NamespaceRegistryError); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 68; goto __pyx_L1;}
  __Pyx_Raise(__pyx_5, __pyx_k117p, 0);
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  {__pyx_filename = __pyx_f[1]; __pyx_lineno = 68; goto __pyx_L1;}
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":70 */
__pyx_6 = __pyx_v_name == Py_None;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":71 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_name_utf);
  __pyx_v_name_utf = Py_None;
  goto __pyx_L3;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":73 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_name, __pyx_n_encode); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 73; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 73; goto __pyx_L1;}
  Py_INCREF(__pyx_k118p);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k118p);
  __pyx_1 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 73; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_name_utf);
  __pyx_v_name_utf = __pyx_1;
  __pyx_1 = 0;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":74 */
if (PyObject_SetItem(__pyx_v_d, __pyx_v_name_utf, __pyx_v_item) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 74; goto __pyx_L1;}

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._NamespaceRegistry.__setitem__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_d);
Py_DECREF(__pyx_v_name_utf);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_name);
Py_DECREF(__pyx_v_item);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_18_NamespaceRegistry___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_f_5etree_18_NamespaceRegistry___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_name);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":77 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":78 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes, __pyx_v_name); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 78; goto __pyx_L2;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;
}
goto __pyx_L3;
__pyx_L2:;
Py_XDECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":79 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 79; goto __pyx_L1;}
__pyx_2 = PyErr_ExceptionMatches(__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_2) {
  __Pyx_AddTraceback("etree.__getitem__");
  __pyx_1 = __Pyx_GetExcValue(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 79; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":80 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions, __pyx_v_name); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 80; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;
  goto __pyx_L3;
}
goto __pyx_L1;
__pyx_L3:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._NamespaceRegistry.__getitem__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_name);
return __pyx_r;
}

static PyObject *__pyx_n_clear;

static PyObject *__pyx_f_5etree_18_NamespaceRegistry_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_18_NamespaceRegistry_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":83 */
__pyx_1 = PyObject_GetAttr(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_classes, __pyx_n_clear); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 83; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 83; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 83; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":84 */
__pyx_1 = PyObject_GetAttr(((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_v_self)->_extensions, __pyx_n_clear); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 84; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 84; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 84; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._NamespaceRegistry.clear");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_k120p;

static char (__pyx_k119[]) = "Hack to register all extension functions in XSLT";
static char (__pyx_k120[]) = "UTF-8";

static PyObject *__pyx_f_5etree__find_all_namespaces(void) {
PyObject *__pyx_v_ns_uris;
PyObject *__pyx_v_s;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
__pyx_v_ns_uris = Py_None; Py_INCREF(__pyx_v_ns_uris);
__pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":87 */
__pyx_k119;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":88 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns_uris);
__pyx_v_ns_uris = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":89 */
__pyx_1 = PyObject_GetAttr(__pyx_v_5etree___NAMESPACE_CLASSES, __pyx_n_keys); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = PyObject_GetIter(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
for (;;) {
  __pyx_L2:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; goto __pyx_L1;}
    break;
  }
  Py_DECREF(__pyx_v_s);
  __pyx_v_s = __pyx_2;
  __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":90 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_ns_uris, __pyx_n_append); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_INCREF(__pyx_v_s);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_s);
  Py_INCREF(__pyx_k120p);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_k120p);
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_5);
  __pyx_5 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
}
__pyx_L3:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":91 */
Py_INCREF(__pyx_v_ns_uris);
__pyx_r = __pyx_v_ns_uris;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._find_all_namespaces");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns_uris);
Py_DECREF(__pyx_v_s);
return __pyx_r;
}

static PyObject *__pyx_k121p;

static char (__pyx_k121[]) = "UTF-8";

static struct __pyx_obj_5etree__NamespaceRegistry *__pyx_f_5etree__find_namespace_registry(PyObject *__pyx_v_ns_uri) {
PyObject *__pyx_v_ns_utf;
struct __pyx_obj_5etree__NamespaceRegistry *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF(__pyx_v_ns_uri);
__pyx_v_ns_utf = Py_None; Py_INCREF(__pyx_v_ns_utf);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":94 */
__pyx_1 = PyObject_IsTrue(__pyx_v_ns_uri); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 94; goto __pyx_L1;}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":95 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_ns_uri, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 95; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 95; goto __pyx_L1;}
  Py_INCREF(__pyx_k121p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k121p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 95; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ns_utf);
  __pyx_v_ns_utf = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":97 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_ns_utf);
  __pyx_v_ns_utf = Py_None;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":98 */
__pyx_2 = PyObject_GetItem(__pyx_v_5etree___NAMESPACE_CLASSES, __pyx_v_ns_utf); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 98; goto __pyx_L1;}
if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_5etree__NamespaceRegistry)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 98; goto __pyx_L1;}
Py_INCREF(__pyx_2);
__pyx_r = (struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._find_namespace_registry");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_ns_utf);
Py_DECREF(__pyx_v_ns_uri);
return ((struct __pyx_obj_5etree__NamespaceRegistry *)__pyx_r) ;
}

static PyObject *__pyx_f_5etree__find_extensions(PyObject *__pyx_v_namespaces) {
PyObject *__pyx_v_extension_dict;
PyObject *__pyx_v_ns_uri;
PyObject *__pyx_v_extensions;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
int __pyx_3;
Py_INCREF(__pyx_v_namespaces);
__pyx_v_extension_dict = Py_None; Py_INCREF(__pyx_v_extension_dict);
__pyx_v_ns_uri = Py_None; Py_INCREF(__pyx_v_ns_uri);
__pyx_v_extensions = Py_None; Py_INCREF(__pyx_v_extensions);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":101 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 101; goto __pyx_L1;}
Py_DECREF(__pyx_v_extension_dict);
__pyx_v_extension_dict = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":102 */
__pyx_1 = PyObject_GetIter(__pyx_v_namespaces); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 102; goto __pyx_L1;}
for (;;) {
  __pyx_L2:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 102; goto __pyx_L1;}
    break;
  }
  Py_DECREF(__pyx_v_ns_uri);
  __pyx_v_ns_uri = __pyx_2;
  __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":103 */
  /*try:*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":104 */
    __pyx_2 = ((PyObject *)__pyx_f_5etree__find_namespace_registry(__pyx_v_ns_uri)); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 104; goto __pyx_L4;}
    Py_INCREF(__pyx_f_5etree__find_namespace_registry(__pyx_v_ns_uri)->_extensions);
    Py_DECREF(__pyx_v_extensions);
    __pyx_v_extensions = __pyx_f_5etree__find_namespace_registry(__pyx_v_ns_uri)->_extensions;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  goto __pyx_L5;
  __pyx_L4:;
  Py_XDECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":105 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 105; goto __pyx_L1;}
  __pyx_3 = PyErr_ExceptionMatches(__pyx_2);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {
    __Pyx_AddTraceback("etree._find_extensions");
    __pyx_2 = __Pyx_GetExcValue(); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 105; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":106 */
    goto __pyx_L2;
    goto __pyx_L5;
  }
  goto __pyx_L1;
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":107 */
  __pyx_3 = PyObject_IsTrue(__pyx_v_extensions); if (__pyx_3 < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 107; goto __pyx_L1;}
  if (__pyx_3) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":108 */
    if (PyObject_SetItem(__pyx_v_extension_dict, __pyx_v_ns_uri, __pyx_v_extensions) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 108; goto __pyx_L1;}
    goto __pyx_L6;
  }
  __pyx_L6:;
}
__pyx_L3:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":109 */
Py_INCREF(__pyx_v_extension_dict);
__pyx_r = __pyx_v_extension_dict;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._find_extensions");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_extension_dict);
Py_DECREF(__pyx_v_ns_uri);
Py_DECREF(__pyx_v_extensions);
Py_DECREF(__pyx_v_namespaces);
return __pyx_r;
}

static PyObject *__pyx_n_split;

static PyObject *__pyx_k122p;
static PyObject *__pyx_k123p;

static char (__pyx_k122[]) = "{";
static char (__pyx_k123[]) = "}";

static PyObject *__pyx_f_5etree__find_element_class(char (*__pyx_v_c_namespace_utf),char (*__pyx_v_c_element_name_utf)) {
struct __pyx_obj_5etree__NamespaceRegistry *__pyx_v_registry;
PyObject *__pyx_v_element_name_utf;
PyObject *__pyx_v_namespace_utf;
PyObject *__pyx_v_classes;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
__pyx_v_registry = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_registry);
__pyx_v_element_name_utf = Py_None; Py_INCREF(__pyx_v_element_name_utf);
__pyx_v_namespace_utf = Py_None; Py_INCREF(__pyx_v_namespace_utf);
__pyx_v_classes = Py_None; Py_INCREF(__pyx_v_classes);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":114 */
__pyx_1 = PyString_FromString(__pyx_v_c_element_name_utf); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 114; goto __pyx_L1;}
Py_DECREF(__pyx_v_element_name_utf);
__pyx_v_element_name_utf = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":115 */
__pyx_2 = (__pyx_v_c_namespace_utf == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":116 */
  __pyx_1 = PySequence_GetSlice(__pyx_v_element_name_utf, 0, 1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 116; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_1, __pyx_k122p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 116; goto __pyx_L1;}
  __pyx_2 = __pyx_2 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":117 */
    __pyx_1 = PySequence_GetSlice(__pyx_v_element_name_utf, 1, 0x7fffffff); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_split); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_INCREF(__pyx_k123p);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_k123p);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_DECREF(__pyx_v_namespace_utf);
    __pyx_v_namespace_utf = __pyx_3;
    __pyx_3 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_1, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_DECREF(__pyx_v_element_name_utf);
    __pyx_v_element_name_utf = __pyx_4;
    __pyx_4 = 0;
    if (__Pyx_EndUnpack(__pyx_1, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 117; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":119 */
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_namespace_utf);
    __pyx_v_namespace_utf = Py_None;
  }
  __pyx_L3:;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":121 */
  __pyx_3 = PyString_FromString(__pyx_v_c_namespace_utf); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 121; goto __pyx_L1;}
  Py_DECREF(__pyx_v_namespace_utf);
  __pyx_v_namespace_utf = __pyx_3;
  __pyx_3 = 0;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":123 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":124 */
  __pyx_4 = PyObject_GetItem(__pyx_v_5etree___NAMESPACE_CLASSES, __pyx_v_namespace_utf); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 124; goto __pyx_L4;}
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_5etree__NamespaceRegistry)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 124; goto __pyx_L4;}
  Py_DECREF(((PyObject *)__pyx_v_registry));
  __pyx_v_registry = __pyx_4;
  __pyx_4 = 0;
}
goto __pyx_L5;
__pyx_L4:;
Py_XDECREF(__pyx_1); __pyx_1 = 0;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":125 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 125; goto __pyx_L1;}
__pyx_2 = PyErr_ExceptionMatches(__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_2) {
  __Pyx_AddTraceback("etree._find_element_class");
  __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 125; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":126 */
  Py_INCREF(((PyObject*)__pyx_ptype_5etree__Element));
  __pyx_r = ((PyObject*)__pyx_ptype_5etree__Element);
  goto __pyx_L0;
  goto __pyx_L5;
}
goto __pyx_L1;
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":127 */
Py_INCREF(__pyx_v_registry->_classes);
Py_DECREF(__pyx_v_classes);
__pyx_v_classes = __pyx_v_registry->_classes;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":128 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":129 */
  __pyx_4 = PyObject_GetItem(__pyx_v_classes, __pyx_v_element_name_utf); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 129; goto __pyx_L6;}
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;
}
goto __pyx_L7;
__pyx_L6:;
Py_XDECREF(__pyx_1); __pyx_1 = 0;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":130 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 130; goto __pyx_L1;}
__pyx_2 = PyErr_ExceptionMatches(__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_2) {
  __Pyx_AddTraceback("etree._find_element_class");
  __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":131 */
  goto __pyx_L7;
}
goto __pyx_L1;
__pyx_L7:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":132 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":133 */
  __pyx_4 = PyObject_GetItem(__pyx_v_classes, Py_None); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; goto __pyx_L8;}
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;
}
goto __pyx_L9;
__pyx_L8:;
Py_XDECREF(__pyx_1); __pyx_1 = 0;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":134 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; goto __pyx_L1;}
__pyx_2 = PyErr_ExceptionMatches(__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_2) {
  __Pyx_AddTraceback("etree._find_element_class");
  __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":135 */
  Py_INCREF(((PyObject*)__pyx_ptype_5etree__Element));
  __pyx_r = ((PyObject*)__pyx_ptype_5etree__Element);
  goto __pyx_L0;
  goto __pyx_L9;
}
goto __pyx_L1;
__pyx_L9:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._find_element_class");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_registry);
Py_DECREF(__pyx_v_element_name_utf);
Py_DECREF(__pyx_v_namespace_utf);
Py_DECREF(__pyx_v_classes);
return __pyx_r;
}

static PyObject *__pyx_k124p;

static char (__pyx_k124[]) = "Cannot parse style sheet";

static int __pyx_f_5etree_4XSLT___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_4XSLT___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_xslt_input = 0;
xsltStylesheet (*__pyx_v_c_style);
xmlDoc (*__pyx_v_c_doc);
struct __pyx_obj_5etree__Document *__pyx_v_doc;
int __pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
static char *__pyx_argnames[] = {"xslt_input",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_xslt_input)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_xslt_input);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":49 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__documentOrRaise(__pyx_v_xslt_input)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 49; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":50 */
__pyx_v_c_doc = xmlCopyDoc(__pyx_v_doc->_c_doc,1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":53 */
__pyx_2 = (__pyx_v_doc->_c_doc->URL != 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":54 */
  __pyx_v_c_doc->URL = xmlStrdup(__pyx_v_doc->_c_doc->URL);
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":56 */
__pyx_v_c_style = xsltParseStylesheetDoc(__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":57 */
__pyx_2 = (__pyx_v_c_style == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":58 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTParseError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 58; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k124p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 58; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":59 */
((struct __pyx_obj_5etree_XSLT *)__pyx_v_self)->_c_style = __pyx_v_c_style;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree.XSLT.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_xslt_input);
return __pyx_r;
}

static void __pyx_f_5etree_4XSLT___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_4XSLT___dealloc__(PyObject *__pyx_v_self) {
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":64 */
xsltFreeStylesheet(((struct __pyx_obj_5etree_XSLT *)__pyx_v_self)->_c_style);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.XSLT.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k125p;
static PyObject *__pyx_k126p;
static PyObject *__pyx_k127p;

static char (__pyx_k125[]) = "UTF-8";
static char (__pyx_k126[]) = "UTF-8";
static char (__pyx_k127[]) = "Error applying stylesheet";

static PyObject *__pyx_f_5etree_4XSLT___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_4XSLT___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v__input = 0;
PyObject *__pyx_v__kw = 0;
struct __pyx_obj_5etree__Document *__pyx_v_input_doc;
struct __pyx_obj_5etree__NodeBase *__pyx_v_root_node;
struct __pyx_obj_5etree__Document *__pyx_v_result_doc;
xmlDoc (*__pyx_v_c_result);
xmlDoc (*__pyx_v_c_doc);
char (*(*__pyx_v_params));
int __pyx_v_i;
int __pyx_v_j;
PyObject *__pyx_v_keep_ref;
PyObject *__pyx_v_key;
PyObject *__pyx_v_value;
PyObject *__pyx_v_k;
PyObject *__pyx_v_v;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
char (*__pyx_6);
static char *__pyx_argnames[] = {"_input",0};
if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, 0, &__pyx_v__kw) < 0) return 0;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v__input)) {
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  Py_XDECREF(__pyx_v__kw);
  return 0;
}
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v__input);
__pyx_v_input_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_input_doc);
__pyx_v_root_node = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_root_node);
__pyx_v_result_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result_doc);
__pyx_v_keep_ref = Py_None; Py_INCREF(__pyx_v_keep_ref);
__pyx_v_key = Py_None; Py_INCREF(__pyx_v_key);
__pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);
__pyx_v_k = Py_None; Py_INCREF(__pyx_v_k);
__pyx_v_v = Py_None; Py_INCREF(__pyx_v_v);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":76 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__documentOrRaise(__pyx_v__input)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 76; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_input_doc));
__pyx_v_input_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":77 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__rootNodeOf(__pyx_v__input)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 77; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_root_node));
__pyx_v_root_node = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":79 */
__pyx_2 = PyObject_IsTrue(__pyx_v__kw); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 79; goto __pyx_L1;}
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":83 */
  __pyx_1 = PyInt_FromLong((sizeof(char (*)))); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_INCREF(__pyx_v__kw);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v__kw);
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_5, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyInt_FromLong(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  __pyx_3 = PyNumber_Add(__pyx_4, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_4 = PyNumber_Multiply(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_params = ((char (*(*)))malloc(__pyx_2));

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":84 */
  __pyx_v_i = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":85 */
  __pyx_5 = PyList_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 85; goto __pyx_L1;}
  Py_DECREF(__pyx_v_keep_ref);
  __pyx_v_keep_ref = __pyx_5;
  __pyx_5 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":86 */
  __pyx_1 = PyObject_GetAttr(__pyx_v__kw, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyObject_GetIter(__pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  for (;;) {
    __pyx_L3:;
    __pyx_1 = PyIter_Next(__pyx_5);
    if (!__pyx_1) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
      break;
    }
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
    Py_DECREF(__pyx_v_key);
    __pyx_v_key = __pyx_3;
    __pyx_3 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_1, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
    Py_DECREF(__pyx_v_value);
    __pyx_v_value = __pyx_4;
    __pyx_4 = 0;
    if (__Pyx_EndUnpack(__pyx_1, 2) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 86; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":87 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_key, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 87; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 87; goto __pyx_L1;}
    Py_INCREF(__pyx_k125p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k125p);
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 87; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_k);
    __pyx_v_k = __pyx_4;
    __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":88 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_keep_ref, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 88; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 88; goto __pyx_L1;}
    Py_INCREF(__pyx_v_k);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_k);
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 88; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":89 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_value, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 89; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 89; goto __pyx_L1;}
    Py_INCREF(__pyx_k126p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k126p);
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 89; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_4;
    __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":90 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_keep_ref, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 90; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 90; goto __pyx_L1;}
    Py_INCREF(__pyx_v_v);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_v);
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 90; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":91 */
    __pyx_6 = PyString_AsString(__pyx_v_k); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 91; goto __pyx_L1;}
    (__pyx_v_params[__pyx_v_i]) = __pyx_6;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":92 */
    __pyx_v_i = (__pyx_v_i + 1);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":93 */
    __pyx_6 = PyString_AsString(__pyx_v_v); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 93; goto __pyx_L1;}
    (__pyx_v_params[__pyx_v_i]) = __pyx_6;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":94 */
    __pyx_v_i = (__pyx_v_i + 1);
  }
  __pyx_L4:;
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":95 */
  (__pyx_v_params[__pyx_v_i]) = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":97 */
  __pyx_v_params = 0;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":99 */
__pyx_v_c_doc = __pyx_f_5etree__fakeRootDoc(__pyx_v_input_doc->_c_doc,__pyx_v_root_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":100 */
__pyx_v_c_result = xsltApplyStylesheet(((struct __pyx_obj_5etree_XSLT *)__pyx_v_self)->_c_style,__pyx_v_c_doc,__pyx_v_params);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":101 */
__pyx_f_5etree__destroyFakeDoc(__pyx_v_input_doc->_c_doc,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":103 */
__pyx_2 = (__pyx_v_params != 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":105 */
  free(__pyx_v_params);
  goto __pyx_L5;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":107 */
__pyx_2 = (__pyx_v_c_result == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":108 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTApplyError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 108; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k127p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 108; goto __pyx_L1;}
  goto __pyx_L6;
}
__pyx_L6:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":110 */
__pyx_3 = ((PyObject *)__pyx_f_5etree__documentFactory(__pyx_v_c_result)); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 110; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_result_doc));
__pyx_v_result_doc = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":111 */
__pyx_4 = __pyx_f_5etree__xsltResultTreeFactory(__pyx_v_result_doc,((struct __pyx_obj_5etree_XSLT *)__pyx_v_self)); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 111; goto __pyx_L1;}
__pyx_r = __pyx_4;
__pyx_4 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree.XSLT.__call__");
__pyx_r = 0;
__pyx_L0:;
Py_XDECREF(__pyx_v__kw);
Py_DECREF(__pyx_v_input_doc);
Py_DECREF(__pyx_v_root_node);
Py_DECREF(__pyx_v_result_doc);
Py_DECREF(__pyx_v_keep_ref);
Py_DECREF(__pyx_v_key);
Py_DECREF(__pyx_v_value);
Py_DECREF(__pyx_v_k);
Py_DECREF(__pyx_v_v);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v__input);
Py_XDECREF(__pyx_args);
Py_XDECREF(__pyx_kwds);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_4XSLT_apply(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_4XSLT_apply(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v__input = 0;
PyObject *__pyx_v__kw = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"_input",0};
if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, 0, &__pyx_v__kw) < 0) return 0;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v__input)) {
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  Py_XDECREF(__pyx_v__kw);
  return 0;
}
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v__input);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":114 */
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 114; goto __pyx_L1;}
Py_INCREF(__pyx_v__input);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v__input);
__pyx_2 = PyEval_CallObjectWithKeywords(__pyx_v_self, __pyx_1, __pyx_v__kw); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 114; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.XSLT.apply");
__pyx_r = 0;
__pyx_L0:;
Py_XDECREF(__pyx_v__kw);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v__input);
Py_XDECREF(__pyx_args);
Py_XDECREF(__pyx_kwds);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_4XSLT_tostring(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_4XSLT_tostring[] = "Save result doc to string using stylesheet as guidance.\n        ";
static PyObject *__pyx_f_5etree_4XSLT_tostring(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_result_tree = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"result_tree",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_result_tree)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_result_tree);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_result_tree), __pyx_ptype_5etree__ElementTree, 1, "result_tree")) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 116; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":119 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 119; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 119; goto __pyx_L1;}
Py_INCREF(((PyObject *)__pyx_v_result_tree));
PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_result_tree));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 119; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_r = __pyx_3;
__pyx_3 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XSLT.tostring");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_result_tree);
return __pyx_r;
}

static PyObject *__pyx_k128p;
static PyObject *__pyx_k129p;

static char (__pyx_k128[]) = "Error saving XSLT result to string";
static char (__pyx_k129[]) = "";

static PyObject *__pyx_f_5etree_15_XSLTResultTree___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_5etree_15_XSLTResultTree___str__(PyObject *__pyx_v_self) {
char (*__pyx_v_s);
int __pyx_v_l;
int __pyx_v_r;
PyObject *__pyx_v_result;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF((PyObject *)__pyx_v_self);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":127 */
__pyx_v_r = xsltSaveResultToString((&__pyx_v_s),(&__pyx_v_l),((struct __pyx_obj_5etree__XSLTResultTree *)__pyx_v_self)->__pyx_base._doc->_c_doc,((struct __pyx_obj_5etree__XSLTResultTree *)__pyx_v_self)->_xslt->_c_style);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":129 */
__pyx_1 = (__pyx_v_r == (-1));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":130 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTSaveError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 130; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k128p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 130; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":131 */
__pyx_1 = (__pyx_v_s == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":132 */
  Py_INCREF(__pyx_k129p);
  __pyx_r = __pyx_k129p;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":133 */
__pyx_2 = __pyx_f_5etree_funicode(__pyx_v_s); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 133; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":134 */
xmlFree(__pyx_v_s);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":135 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._XSLTResultTree.__str__");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF((PyObject *)__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree__xsltResultTreeFactory(struct __pyx_obj_5etree__Document *__pyx_v_doc,struct __pyx_obj_5etree_XSLT *__pyx_v_xslt) {
struct __pyx_obj_5etree__XSLTResultTree *__pyx_v_result;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
Py_INCREF(__pyx_v_doc);
Py_INCREF(__pyx_v_xslt);
__pyx_v_result = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":139 */
if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 139; goto __pyx_L1;}
__pyx_1 = ((PyObject *)__pyx_f_5etree__newElementTree(__pyx_v_doc,((struct __pyx_obj_5etree__NodeBase *)Py_None),((PyObject*)__pyx_ptype_5etree__XSLTResultTree))); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 139; goto __pyx_L1;}
Py_INCREF(((PyObject *)__pyx_1));
Py_DECREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_v_result = ((PyObject *)__pyx_1);
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":140 */
Py_INCREF(((PyObject *)__pyx_v_xslt));
Py_DECREF(((PyObject *)__pyx_v_result->_xslt));
__pyx_v_result->_xslt = ((PyObject *)__pyx_v_xslt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":141 */
Py_INCREF((PyObject *)((PyObject *)__pyx_v_result));
__pyx_r = ((PyObject *)__pyx_v_result);
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree._xsltResultTreeFactory");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_result);
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_xslt);
return __pyx_r;
}

static PyObject *__pyx_n_registerNamespaces;

static PyObject *__pyx_k130p;

static char (__pyx_k130[]) = "Unable to create new XPath context";

static int __pyx_f_5etree_22XPathDocumentEvaluator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_22XPathDocumentEvaluator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_input = 0;
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_v_extensions = 0;
xmlXPathContext (*__pyx_v_xpathCtxt);
int __pyx_v_ns_register_status;
struct __pyx_obj_5etree__Document *__pyx_v_input_doc;
struct __pyx_obj_5etree__NodeBase *__pyx_v_root_node;
PyObject *__pyx_v_extension;
PyObject *__pyx_v_ns_uri;
PyObject *__pyx_v_name;
PyObject *__pyx_v_function;
int __pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
PyObject *__pyx_6 = 0;
PyObject *__pyx_7 = 0;
PyObject *__pyx_8 = 0;
char (*__pyx_9);
char (*__pyx_10);
static char *__pyx_argnames[] = {"input","namespaces","extensions",0};
__pyx_v_namespaces = __pyx_k52;
__pyx_v_extensions = __pyx_k53;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_input, &__pyx_v_namespaces, &__pyx_v_extensions)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_input);
Py_INCREF(__pyx_v_namespaces);
Py_INCREF(__pyx_v_extensions);
__pyx_v_input_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_input_doc);
__pyx_v_root_node = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_root_node);
__pyx_v_extension = Py_None; Py_INCREF(__pyx_v_extension);
__pyx_v_ns_uri = Py_None; Py_INCREF(__pyx_v_ns_uri);
__pyx_v_name = Py_None; Py_INCREF(__pyx_v_name);
__pyx_v_function = Py_None; Py_INCREF(__pyx_v_function);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":166 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__documentOrRaise(__pyx_v_input)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 166; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_input_doc));
__pyx_v_input_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":167 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__rootNodeOf(__pyx_v_input)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 167; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_root_node));
__pyx_v_root_node = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":169 */
__pyx_v_xpathCtxt = xmlXPathNewContext(__pyx_v_input_doc->_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":170 */
__pyx_2 = (__pyx_v_xpathCtxt == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":172 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XPathContextError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 172; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k130p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 172; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":174 */
Py_INCREF(((PyObject *)__pyx_v_input_doc));
Py_DECREF(((PyObject *)((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_doc));
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_doc = ((PyObject *)__pyx_v_input_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":175 */
Py_INCREF(((PyObject *)__pyx_v_root_node));
Py_DECREF(((PyObject *)((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_root_node));
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_root_node = ((PyObject *)__pyx_v_root_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":176 */
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_c_ctxt = __pyx_v_xpathCtxt;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":177 */
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_c_ctxt->userData = ((void (*))__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":178 */
Py_INCREF(__pyx_v_namespaces);
Py_DECREF(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_namespaces);
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_namespaces = __pyx_v_namespaces;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":179 */
Py_INCREF(__pyx_v_extensions);
Py_DECREF(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_extensions);
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_extensions = __pyx_v_extensions;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":181 */
__pyx_2 = __pyx_v_namespaces != Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":182 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_registerNamespaces); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 182; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 182; goto __pyx_L1;}
  Py_INCREF(__pyx_v_namespaces);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_namespaces);
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 182; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":183 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 183; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_extension_functions);
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_extension_functions = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":184 */
__pyx_2 = __pyx_v_extensions != Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":185 */
  __pyx_3 = PyObject_GetIter(__pyx_v_extensions); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 185; goto __pyx_L1;}
  for (;;) {
    __pyx_L5:;
    __pyx_4 = PyIter_Next(__pyx_3);
    if (!__pyx_4) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 185; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_extension);
    __pyx_v_extension = __pyx_4;
    __pyx_4 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":186 */
    __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_extension_functions, __pyx_n_update); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 186; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 186; goto __pyx_L1;}
    Py_INCREF(__pyx_v_extension);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_extension);
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 186; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":187 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_extension, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = PyObject_GetIter(__pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    for (;;) {
      __pyx_L7:;
      __pyx_4 = PyIter_Next(__pyx_1);
      if (!__pyx_4) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
        break;
      }
      __pyx_7 = __Pyx_UnpackItem(__pyx_4, 0); if (!__pyx_7) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      __pyx_5 = __Pyx_UnpackItem(__pyx_7, 0); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ns_uri);
      __pyx_v_ns_uri = __pyx_5;
      __pyx_5 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_7, 1); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_6;
      __pyx_6 = 0;
      if (__Pyx_EndUnpack(__pyx_7, 2) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_8 = __Pyx_UnpackItem(__pyx_4, 1); if (!__pyx_8) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      Py_DECREF(__pyx_v_function);
      __pyx_v_function = __pyx_8;
      __pyx_8 = 0;
      if (__Pyx_EndUnpack(__pyx_4, 2) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 187; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":188 */
      __pyx_2 = __pyx_v_ns_uri != Py_None;
      if (__pyx_2) {

        /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":189 */
        __pyx_9 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 190; goto __pyx_L1;}
        __pyx_10 = PyString_AsString(__pyx_v_ns_uri); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 190; goto __pyx_L1;}
        xmlXPathRegisterFuncNS(__pyx_v_xpathCtxt,__pyx_9,__pyx_10,__pyx_f_5etree__xpathCallback);
        goto __pyx_L9;
      }
      /*else*/ {

        /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":192 */
        __pyx_9 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 193; goto __pyx_L1;}
        xmlXPathRegisterFunc(__pyx_v_xpathCtxt,__pyx_9,__pyx_f_5etree__xpathCallback);
      }
      __pyx_L9:;
    }
    __pyx_L8:;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
  }
  __pyx_L6:;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  goto __pyx_L4;
}
__pyx_L4:;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
Py_XDECREF(__pyx_6);
Py_XDECREF(__pyx_7);
Py_XDECREF(__pyx_8);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_input_doc);
Py_DECREF(__pyx_v_root_node);
Py_DECREF(__pyx_v_extension);
Py_DECREF(__pyx_v_ns_uri);
Py_DECREF(__pyx_v_name);
Py_DECREF(__pyx_v_function);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_input);
Py_DECREF(__pyx_v_namespaces);
Py_DECREF(__pyx_v_extensions);
return __pyx_r;
}

static void __pyx_f_5etree_22XPathDocumentEvaluator___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_22XPathDocumentEvaluator___dealloc__(PyObject *__pyx_v_self) {
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":196 */
xmlXPathFreeContext(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_c_ctxt);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.XPathDocumentEvaluator.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k133p;

static char (__pyx_k133[]) = "Unable to register namespaces with prefix %s and uri %s";

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_22XPathDocumentEvaluator_registerNamespace[] = "Register a namespace with the XPath context.\n        ";
static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_prefix = 0;
PyObject *__pyx_v_uri = 0;
PyObject *__pyx_v_s_prefix;
PyObject *__pyx_v_s_uri;
PyObject *__pyx_v_ns_register_status;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
char (*__pyx_4);
char (*__pyx_5);
int __pyx_6;
static char *__pyx_argnames[] = {"prefix","uri",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_prefix, &__pyx_v_uri)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_prefix);
Py_INCREF(__pyx_v_uri);
__pyx_v_s_prefix = Py_None; Py_INCREF(__pyx_v_s_prefix);
__pyx_v_s_uri = Py_None; Py_INCREF(__pyx_v_s_uri);
__pyx_v_ns_register_status = Py_None; Py_INCREF(__pyx_v_ns_register_status);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":201 */
__pyx_1 = PyObject_GetAttr(__pyx_v_prefix, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 201; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 201; goto __pyx_L1;}
Py_INCREF(__pyx_n_UTF8);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_n_UTF8);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 201; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_s_prefix);
__pyx_v_s_prefix = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":202 */
__pyx_1 = PyObject_GetAttr(__pyx_v_uri, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 202; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 202; goto __pyx_L1;}
Py_INCREF(__pyx_n_UTF8);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_n_UTF8);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 202; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_s_uri);
__pyx_v_s_uri = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":204 */
__pyx_4 = PyString_AsString(__pyx_v_s_prefix); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 205; goto __pyx_L1;}
__pyx_5 = PyString_AsString(__pyx_v_s_uri); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 205; goto __pyx_L1;}
__pyx_1 = PyInt_FromLong(xmlXPathRegisterNs(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_c_ctxt,__pyx_4,__pyx_5)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 204; goto __pyx_L1;}
Py_DECREF(__pyx_v_ns_register_status);
__pyx_v_ns_register_status = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":206 */
__pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 206; goto __pyx_L1;}
if (PyObject_Cmp(__pyx_v_ns_register_status, __pyx_2, &__pyx_6) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 206; goto __pyx_L1;}
__pyx_6 = __pyx_6 != 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":209 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_XPathNamespaceError); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 209; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 211; goto __pyx_L1;}
  Py_INCREF(__pyx_v_prefix);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_prefix);
  Py_INCREF(__pyx_v_uri);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_uri);
  __pyx_2 = PyNumber_Remainder(__pyx_k133p, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 211; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __Pyx_Raise(__pyx_3, __pyx_2, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 209; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator.registerNamespace");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_s_prefix);
Py_DECREF(__pyx_v_s_uri);
Py_DECREF(__pyx_v_ns_register_status);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_prefix);
Py_DECREF(__pyx_v_uri);
return __pyx_r;
}

static PyObject *__pyx_n_registerNamespace;

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespaces(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_22XPathDocumentEvaluator_registerNamespaces[] = "Register a prefix -> uri dict.\n        ";
static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespaces(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_v_prefix;
PyObject *__pyx_v_uri;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"namespaces",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_namespaces)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_namespaces);
__pyx_v_prefix = Py_None; Py_INCREF(__pyx_v_prefix);
__pyx_v_uri = Py_None; Py_INCREF(__pyx_v_uri);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":216 */
__pyx_1 = PyObject_GetAttr(__pyx_v_namespaces, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = PyObject_GetIter(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
for (;;) {
  __pyx_L2:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
    break;
  }
  __pyx_3 = __Pyx_UnpackItem(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
  Py_DECREF(__pyx_v_prefix);
  __pyx_v_prefix = __pyx_3;
  __pyx_3 = 0;
  __pyx_4 = __Pyx_UnpackItem(__pyx_2, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
  Py_DECREF(__pyx_v_uri);
  __pyx_v_uri = __pyx_4;
  __pyx_4 = 0;
  if (__Pyx_EndUnpack(__pyx_2, 2) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 216; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":217 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_registerNamespace); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 217; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 217; goto __pyx_L1;}
  Py_INCREF(__pyx_v_prefix);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_prefix);
  Py_INCREF(__pyx_v_uri);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_uri);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 217; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
}
__pyx_L3:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator.registerNamespaces");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_prefix);
Py_DECREF(__pyx_v_uri);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_namespaces);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_evaluate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator_evaluate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":220 */
__pyx_1 = ((struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator *)((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->__pyx_vtab)->_evaluate(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self),__pyx_v_path,((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_root_node->_c_node); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 220; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator.evaluate");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_n__release;

static PyObject *__pyx_k134p;
static PyObject *__pyx_k135p;

static char (__pyx_k134[]) = "UTF-8";
static char (__pyx_k135[]) = "Error in xpath expression.";

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator__evaluate(struct __pyx_obj_5etree_XPathDocumentEvaluator *__pyx_v_self,PyObject *__pyx_v_path,xmlNode (*__pyx_v_c_ctxt_node)) {
xmlXPathObject (*__pyx_v_xpathObj);
xmlNode (*__pyx_v_c_node);
PyObject *__pyx_v_type;
PyObject *__pyx_v_value;
PyObject *__pyx_v_traceback;
PyObject *__pyx_v_result;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
char (*__pyx_4);
int __pyx_5;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_path);
__pyx_v_type = Py_None; Py_INCREF(__pyx_v_type);
__pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);
__pyx_v_traceback = Py_None; Py_INCREF(__pyx_v_traceback);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":227 */
__pyx_v_self->_c_ctxt->node = __pyx_v_c_ctxt_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":229 */
__pyx_1 = PyObject_GetAttr(__pyx_v_path, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 229; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 229; goto __pyx_L1;}
Py_INCREF(__pyx_k134p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k134p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 229; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_path);
__pyx_v_path = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":230 */
Py_INCREF(Py_None);
Py_DECREF(__pyx_v_self->_exc_info);
__pyx_v_self->_exc_info = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":231 */
__pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_self), __pyx_n__release); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 231; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 231; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 231; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":232 */
__pyx_4 = PyString_AsString(__pyx_v_path); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 232; goto __pyx_L1;}
__pyx_v_xpathObj = xmlXPathEvalExpression(__pyx_4,__pyx_v_self->_c_ctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":233 */
__pyx_5 = __pyx_v_self->_exc_info != Py_None;
if (__pyx_5) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":234 */
  __pyx_1 = __Pyx_UnpackItem(__pyx_v_self->_exc_info, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 234; goto __pyx_L1;}
  Py_DECREF(__pyx_v_type);
  __pyx_v_type = __pyx_1;
  __pyx_1 = 0;
  __pyx_2 = __Pyx_UnpackItem(__pyx_v_self->_exc_info, 1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 234; goto __pyx_L1;}
  Py_DECREF(__pyx_v_value);
  __pyx_v_value = __pyx_2;
  __pyx_2 = 0;
  __pyx_3 = __Pyx_UnpackItem(__pyx_v_self->_exc_info, 2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 234; goto __pyx_L1;}
  Py_DECREF(__pyx_v_traceback);
  __pyx_v_traceback = __pyx_3;
  __pyx_3 = 0;
  if (__Pyx_EndUnpack(__pyx_v_self->_exc_info, 3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 234; goto __pyx_L1;}

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":235 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_self->_exc_info);
  __pyx_v_self->_exc_info = Py_None;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":236 */
  __Pyx_Raise(__pyx_v_type, __pyx_v_value, __pyx_v_traceback);
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 236; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":237 */
__pyx_5 = (__pyx_v_xpathObj == 0);
if (__pyx_5) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":238 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XPathSyntaxError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 238; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k135p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 238; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":239 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":240 */
  __pyx_2 = __pyx_f_5etree__unwrapXPathObject(__pyx_v_xpathObj,__pyx_v_self->_doc); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 240; goto __pyx_L4;}
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_2;
  __pyx_2 = 0;
}
goto __pyx_L5;
__pyx_L4:;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_1); __pyx_1 = 0;
Py_XDECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":241 */
__pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_XPathResultError); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 241; goto __pyx_L1;}
__pyx_5 = PyErr_ExceptionMatches(__pyx_3);
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_5) {
  __Pyx_AddTraceback("etree._evaluate");
  __pyx_1 = __Pyx_GetExcValue(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 241; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":243 */
  xmlXPathFreeObject(__pyx_v_xpathObj);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":244 */
  __Pyx_ReRaise();
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 244; goto __pyx_L1;}
  goto __pyx_L5;
}
goto __pyx_L1;
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":245 */
xmlXPathFreeObject(__pyx_v_xpathObj);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":248 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator._evaluate");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_type);
Py_DECREF(__pyx_v_value);
Py_DECREF(__pyx_v_traceback);
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator__release(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator__release(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":256 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 256; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_elements);
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_elements = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":257 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 257; goto __pyx_L1;}
Py_DECREF(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_docs);
((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_docs = __pyx_1;
__pyx_1 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator._release");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator__hold(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_22XPathDocumentEvaluator__hold[] = "A way to temporarily hold references to nodes in the evaluator.\n\n        This is needed because otherwise nodes created in XPath extension\n        functions would be reference counted too soon, during the\n        XPath evaluation.\n        ";
static PyObject *__pyx_f_5etree_22XPathDocumentEvaluator__hold(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_obj = 0;
struct __pyx_obj_5etree__NodeBase *__pyx_v_element;
PyObject *__pyx_v_o;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
PyObject *__pyx_5 = 0;
PyObject *__pyx_6 = 0;
int __pyx_7;
static char *__pyx_argnames[] = {"obj",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_obj)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_obj);
__pyx_v_element = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_element);
__pyx_v_o = Py_None; Py_INCREF(__pyx_v_o);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":267 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 267; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 267; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_obj);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 267; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 267; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":268 */
  __pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 268; goto __pyx_L1;}
  Py_INCREF(__pyx_v_obj);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_v_obj);
  Py_DECREF(__pyx_v_obj);
  __pyx_v_obj = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":269 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_obj);
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
__pyx_3 = PyList_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
__pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
__pyx_3 = 0;
__pyx_3 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_5); __pyx_5 = 0;
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
__pyx_5 = PyTuple_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
__pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
__pyx_5 = 0;
__pyx_5 = PyObject_CallObject(__pyx_2, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_6); __pyx_6 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
__pyx_3 = 0;
__pyx_5 = 0;
__pyx_4 = PySequence_Contains(__pyx_2, __pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 269; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_7 = (!__pyx_4);
if (__pyx_7) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":270 */
  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":271 */
__pyx_6 = PyObject_GetIter(__pyx_v_obj); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 271; goto __pyx_L1;}
for (;;) {
  __pyx_L4:;
  __pyx_3 = PyIter_Next(__pyx_6);
  if (!__pyx_3) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 271; goto __pyx_L1;}
    break;
  }
  Py_DECREF(__pyx_v_o);
  __pyx_v_o = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":272 */
  __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 272; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 272; goto __pyx_L1;}
  Py_INCREF(__pyx_v_o);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_o);
  Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
  PyTuple_SET_ITEM(__pyx_1, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
  __pyx_2 = PyObject_CallObject(__pyx_5, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 272; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 272; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":273 */
    Py_INCREF(((PyObject *)__pyx_v_o));
    Py_DECREF(((PyObject *)__pyx_v_element));
    __pyx_v_element = ((PyObject *)__pyx_v_o);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":275 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_id); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 275; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_element));
    PyTuple_SET_ITEM(__pyx_5, 0, ((PyObject *)__pyx_v_element));
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (PyObject_SetItem(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_elements, __pyx_1, ((PyObject *)__pyx_v_element)) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":277 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_id); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 277; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 277; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_element->_doc));
    PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_element->_doc));
    __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 277; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (PyObject_SetItem(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)__pyx_v_self)->_temp_docs, __pyx_5, ((PyObject *)__pyx_v_element->_doc)) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 277; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
}
__pyx_L5:;
Py_DECREF(__pyx_6); __pyx_6 = 0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_5);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree.XPathDocumentEvaluator._hold");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_element);
Py_DECREF(__pyx_v_o);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_obj);
return __pyx_r;
}

static PyObject *__pyx_n___init__;

static int __pyx_f_5etree_21XPathElementEvaluator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_21XPathElementEvaluator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__Element *__pyx_v_element = 0;
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_v_extensions = 0;
int __pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
static char *__pyx_argnames[] = {"element","namespaces","extensions",0};
__pyx_v_namespaces = __pyx_k54;
__pyx_v_extensions = __pyx_k55;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_element, &__pyx_v_namespaces, &__pyx_v_extensions)) return -1;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF((PyObject *)__pyx_v_element);
Py_INCREF(__pyx_v_namespaces);
Py_INCREF(__pyx_v_extensions);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5etree__Element, 1, "element")) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 284; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":285 */
__pyx_1 = PyObject_GetAttr(((PyObject*)__pyx_ptype_5etree_XPathDocumentEvaluator), __pyx_n___init__); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 285; goto __pyx_L1;}
__pyx_2 = PyTuple_New(4); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 285; goto __pyx_L1;}
Py_INCREF((PyObject *)__pyx_v_self);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
Py_INCREF(((PyObject *)__pyx_v_element->__pyx_base._doc));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_element->__pyx_base._doc));
Py_INCREF(__pyx_v_namespaces);
PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_namespaces);
Py_INCREF(__pyx_v_extensions);
PyTuple_SET_ITEM(__pyx_2, 3, __pyx_v_extensions);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 285; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":287 */
Py_INCREF(((PyObject *)__pyx_v_element));
Py_DECREF((PyObject *)((PyObject *)((struct __pyx_obj_5etree_XPathElementEvaluator *)__pyx_v_self)->_element));
((struct __pyx_obj_5etree_XPathElementEvaluator *)__pyx_v_self)->_element = ((PyObject *)__pyx_v_element);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XPathElementEvaluator.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF((PyObject *)__pyx_v_element);
Py_DECREF(__pyx_v_namespaces);
Py_DECREF(__pyx_v_extensions);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_21XPathElementEvaluator_evaluate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_21XPathElementEvaluator_evaluate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_path = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
static char *__pyx_argnames[] = {"path",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_path)) return 0;
Py_INCREF((PyObject *)__pyx_v_self);
Py_INCREF(__pyx_v_path);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":290 */
__pyx_1 = ((struct __pyx_vtabstruct_5etree_XPathElementEvaluator *)((struct __pyx_obj_5etree_XPathElementEvaluator *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base._evaluate(((struct __pyx_obj_5etree_XPathDocumentEvaluator *)((struct __pyx_obj_5etree_XPathElementEvaluator *)__pyx_v_self)),__pyx_v_path,((struct __pyx_obj_5etree_XPathElementEvaluator *)__pyx_v_self)->_element->__pyx_base._c_node); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 290; goto __pyx_L1;}
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
__Pyx_AddTraceback("etree.XPathElementEvaluator.evaluate");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF((PyObject *)__pyx_v_self);
Py_DECREF(__pyx_v_path);
return __pyx_r;
}

static PyObject *__pyx_f_5etree_XPathEvaluator(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_XPathEvaluator(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_doc_or_element = 0;
PyObject *__pyx_v_namespaces = 0;
PyObject *__pyx_v_extensions = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"doc_or_element","namespaces","extensions",0};
__pyx_v_namespaces = __pyx_k56;
__pyx_v_extensions = __pyx_k57;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_doc_or_element, &__pyx_v_namespaces, &__pyx_v_extensions)) return 0;
Py_INCREF(__pyx_v_doc_or_element);
Py_INCREF(__pyx_v_namespaces);
Py_INCREF(__pyx_v_extensions);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":293 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
Py_INCREF(__pyx_v_doc_or_element);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_doc_or_element);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__ElementTree));
PyTuple_SET_ITEM(__pyx_3, 1, ((PyObject*)__pyx_ptype_5etree__ElementTree));
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
if (!__pyx_4) {
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_INCREF(__pyx_v_doc_or_element);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_doc_or_element);
  Py_INCREF(((PyObject*)__pyx_ptype_5etree__Document));
  PyTuple_SET_ITEM(__pyx_3, 1, ((PyObject*)__pyx_ptype_5etree__Document));
  __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
}
__pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 293; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":294 */
  __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 294; goto __pyx_L1;}
  Py_INCREF(__pyx_v_doc_or_element);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_doc_or_element);
  Py_INCREF(__pyx_v_namespaces);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_namespaces);
  Py_INCREF(__pyx_v_extensions);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_extensions);
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XPathDocumentEvaluator), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 294; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":296 */
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 296; goto __pyx_L1;}
  Py_INCREF(__pyx_v_doc_or_element);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_doc_or_element);
  Py_INCREF(__pyx_v_namespaces);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_namespaces);
  Py_INCREF(__pyx_v_extensions);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_extensions);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_XPathElementEvaluator), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 296; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
}
__pyx_L2:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.XPathEvaluator");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc_or_element);
Py_DECREF(__pyx_v_namespaces);
Py_DECREF(__pyx_v_extensions);
return __pyx_r;
}

static PyObject *__pyx_n_getattr;

static PyObject *__pyx_f_5etree_Extension(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_5etree_Extension(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_module = 0;
PyObject *__pyx_v_function_mapping = 0;
PyObject *__pyx_v_ns_uri = 0;
PyObject *__pyx_v_result;
PyObject *__pyx_v_function_name;
PyObject *__pyx_v_xpath_name;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
static char *__pyx_argnames[] = {"module","function_mapping","ns_uri",0};
__pyx_v_ns_uri = __pyx_k58;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_module, &__pyx_v_function_mapping, &__pyx_v_ns_uri)) return 0;
Py_INCREF(__pyx_v_module);
Py_INCREF(__pyx_v_function_mapping);
Py_INCREF(__pyx_v_ns_uri);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);
__pyx_v_function_name = Py_None; Py_INCREF(__pyx_v_function_name);
__pyx_v_xpath_name = Py_None; Py_INCREF(__pyx_v_xpath_name);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":299 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 299; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":300 */
__pyx_1 = PyObject_GetAttr(__pyx_v_function_mapping, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_1 = PyObject_GetIter(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
for (;;) {
  __pyx_L2:;
  __pyx_2 = PyIter_Next(__pyx_1);
  if (!__pyx_2) {
    if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
    break;
  }
  __pyx_3 = __Pyx_UnpackItem(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
  Py_DECREF(__pyx_v_function_name);
  __pyx_v_function_name = __pyx_3;
  __pyx_3 = 0;
  __pyx_4 = __Pyx_UnpackItem(__pyx_2, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xpath_name);
  __pyx_v_xpath_name = __pyx_4;
  __pyx_4 = 0;
  if (__Pyx_EndUnpack(__pyx_2, 2) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 300; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":301 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_getattr); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 301; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 301; goto __pyx_L1;}
  Py_INCREF(__pyx_v_module);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_module);
  Py_INCREF(__pyx_v_function_name);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_function_name);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 301; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 301; goto __pyx_L1;}
  Py_INCREF(__pyx_v_ns_uri);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_ns_uri);
  Py_INCREF(__pyx_v_xpath_name);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_xpath_name);
  if (PyObject_SetItem(__pyx_v_result, __pyx_2, __pyx_4) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 301; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
}
__pyx_L3:;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":302 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.Extension");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_function_name);
Py_DECREF(__pyx_v_xpath_name);
Py_DECREF(__pyx_v_module);
Py_DECREF(__pyx_v_function_mapping);
Py_DECREF(__pyx_v_ns_uri);
return __pyx_r;
}

static PyObject *__pyx_n_BooleanType;
static PyObject *__pyx_n_int;
static PyObject *__pyx_n_float;
static PyObject *__pyx_n_ListType;
static PyObject *__pyx_n_TupleType;

static PyObject *__pyx_k136p;
static PyObject *__pyx_k137p;
static PyObject *__pyx_k138p;

static char (__pyx_k136[]) = "utf-8";
static char (__pyx_k137[]) = "This is not a node: %s";
static char (__pyx_k138[]) = "Unknown return type: %s";

static xmlXPathObject (*__pyx_f_5etree__wrapXPathObject(PyObject *__pyx_v_obj)) {
xmlNodeSet (*__pyx_v_resultSet);
struct __pyx_obj_5etree__NodeBase *__pyx_v_node;
PyObject *__pyx_v_element;
xmlXPathObject (*__pyx_r);
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
char (*__pyx_5);
PyObject *__pyx_6 = 0;
double __pyx_7;
Py_INCREF(__pyx_v_obj);
__pyx_v_node = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_node);
__pyx_v_element = Py_None; Py_INCREF(__pyx_v_element);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":311 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 311; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 311; goto __pyx_L1;}
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 311; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_obj);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
__pyx_2 = 0;
__pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 311; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 311; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":313 */
  __pyx_5 = PyString_AsString(__pyx_v_obj); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 313; goto __pyx_L1;}
  __pyx_r = xmlXPathNewCString(__pyx_5);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":314 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 314; goto __pyx_L1;}
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 314; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 314; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
__pyx_3 = 0;
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 314; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 314; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":315 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_obj, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 315; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_INCREF(__pyx_k136p);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k136p);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_obj);
  __pyx_v_obj = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":316 */
  __pyx_5 = PyString_AsString(__pyx_v_obj); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 316; goto __pyx_L1;}
  __pyx_r = xmlXPathNewCString(__pyx_5);
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":317 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
__pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_BooleanType); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
__pyx_3 = 0;
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 317; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":318 */
  __pyx_4 = PyInt_AsLong(__pyx_v_obj); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 318; goto __pyx_L1;}
  __pyx_r = xmlXPathNewBoolean(__pyx_4);
  goto __pyx_L0;
  goto __pyx_L4;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":319 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
__pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
__pyx_2 = 0;
__pyx_3 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_6);
__pyx_6 = 0;
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 319; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":320 */
  __pyx_7 = PyFloat_AsDouble(__pyx_v_obj); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 320; goto __pyx_L1;}
  __pyx_r = xmlXPathNewFloat(__pyx_7);
  goto __pyx_L0;
  goto __pyx_L5;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":321 */
__pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 321; goto __pyx_L1;}
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 321; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_obj);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
PyTuple_SET_ITEM(__pyx_1, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
__pyx_2 = PyObject_CallObject(__pyx_6, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 321; goto __pyx_L1;}
Py_DECREF(__pyx_6); __pyx_6 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_2); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 321; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":322 */
  __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_INCREF(__pyx_v_obj);
  PyList_SET_ITEM(__pyx_3, 0, __pyx_v_obj);
  Py_DECREF(__pyx_v_obj);
  __pyx_v_obj = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L6;
}
__pyx_L6:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":323 */
__pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
__pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_ListType); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
__pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_TupleType); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
__pyx_2 = 0;
__pyx_1 = 0;
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
Py_INCREF(__pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_obj);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
__pyx_3 = 0;
__pyx_1 = PyObject_CallObject(__pyx_6, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
Py_DECREF(__pyx_6); __pyx_6 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 323; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":324 */
  __pyx_v_resultSet = xmlXPathNodeSetCreate(0);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":325 */
  __pyx_3 = PyObject_GetIter(__pyx_v_obj); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 325; goto __pyx_L1;}
  for (;;) {
    __pyx_L8:;
    __pyx_6 = PyIter_Next(__pyx_3);
    if (!__pyx_6) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 325; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_element);
    __pyx_v_element = __pyx_6;
    __pyx_6 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":326 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 326; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 326; goto __pyx_L1;}
    Py_INCREF(__pyx_v_element);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_element);
    Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
    PyTuple_SET_ITEM(__pyx_1, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
    __pyx_6 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 326; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = PyObject_IsTrue(__pyx_6); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 326; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__pyx_4) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":327 */
      Py_INCREF(((PyObject *)__pyx_v_element));
      Py_DECREF(((PyObject *)__pyx_v_node));
      __pyx_v_node = ((PyObject *)__pyx_v_element);

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":328 */
      xmlXPathNodeSetAdd(__pyx_v_resultSet,__pyx_v_node->_c_node);
      goto __pyx_L10;
    }
    /*else*/ {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":330 */
      __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XPathResultError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 330; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k137p, __pyx_v_element); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 330; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_1, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[2]; __pyx_lineno = 330; goto __pyx_L1;}
    }
    __pyx_L10:;
  }
  __pyx_L9:;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":331 */
  __pyx_r = xmlXPathWrapNodeSet(__pyx_v_resultSet);
  goto __pyx_L0;
  goto __pyx_L7;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":333 */
  __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_n_XPathResultError); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 333; goto __pyx_L1;}
  __pyx_2 = PyNumber_Remainder(__pyx_k138p, __pyx_v_obj); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 333; goto __pyx_L1;}
  __Pyx_Raise(__pyx_6, __pyx_2, 0);
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 333; goto __pyx_L1;}
}
__pyx_L7:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":334 */
__pyx_r = 0;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree._wrapXPathObject");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_node);
Py_DECREF(__pyx_v_element);
Py_DECREF(__pyx_v_obj);
return __pyx_r;
}

static PyObject *__pyx_n_bool;
static PyObject *__pyx_n_NotImplementedError;

static PyObject *__pyx_k139p;
static PyObject *__pyx_k140p;

static char (__pyx_k139[]) = "Undefined xpath result";
static char (__pyx_k140[]) = "Unknown xpath result %s";

static PyObject *__pyx_f_5etree__unwrapXPathObject(xmlXPathObject (*__pyx_v_xpathObj),struct __pyx_obj_5etree__Document *__pyx_v_doc) {
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
Py_INCREF(__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":338 */
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_UNDEFINED);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":339 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XPathResultError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 339; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k139p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 339; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_NODESET);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":341 */
  __pyx_2 = __pyx_f_5etree__createNodeSetResult(__pyx_v_doc,__pyx_v_xpathObj); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 341; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_BOOLEAN);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":343 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_bool); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 343; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(__pyx_v_xpathObj->boolval); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 343; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 343; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 343; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_NUMBER);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":345 */
  __pyx_2 = PyFloat_FromDouble(__pyx_v_xpathObj->floatval); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 345; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_STRING);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":347 */
  __pyx_4 = __pyx_f_5etree_funicode(__pyx_v_xpathObj->stringval); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 347; goto __pyx_L1;}
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_POINT);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":349 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 349; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, 0, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 349; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_RANGE);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":351 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 351; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 351; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_LOCATIONSET);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":353 */
  __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 353; goto __pyx_L1;}
  __Pyx_Raise(__pyx_4, 0, 0);
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 353; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_USERS);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":355 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 355; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, 0, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 355; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_1 = (__pyx_v_xpathObj->type == XPATH_XSLT_TREE);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":357 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 357; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 357; goto __pyx_L1;}
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":359 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_XPathResultError); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(__pyx_v_xpathObj->type); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_3 = PyNumber_Remainder(__pyx_k140p, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __Pyx_Raise(__pyx_4, __pyx_3, 0);
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[2]; __pyx_lineno = 359; goto __pyx_L1;}
}
__pyx_L2:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._unwrapXPathObject");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
return __pyx_r;
}

static PyObject *__pyx_k141p;
static PyObject *__pyx_k142p;

static char (__pyx_k141[]) = "<!--%s-->";
static char (__pyx_k142[]) = "Not yet implemented result node type:";

static PyObject *__pyx_f_5etree__createNodeSetResult(struct __pyx_obj_5etree__Document *__pyx_v_doc,xmlXPathObject (*__pyx_v_xpathObj)) {
xmlNode (*__pyx_v_c_node);
char (*__pyx_v_s);
struct __pyx_obj_5etree__NodeBase *__pyx_v_element;
PyObject *__pyx_v_result;
PyObject *__pyx_v_i;
PyObject *__pyx_v_attr_value;
PyObject *__pyx_v_s2;
PyObject *__pyx_v_comment_value;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
long __pyx_3;
int __pyx_4;
PyObject *__pyx_5 = 0;
PyObject *__pyx_6 = 0;
char (*__pyx_7);
Py_INCREF(__pyx_v_doc);
__pyx_v_element = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_element);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);
__pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
__pyx_v_attr_value = Py_None; Py_INCREF(__pyx_v_attr_value);
__pyx_v_s2 = Py_None; Py_INCREF(__pyx_v_s2);
__pyx_v_comment_value = Py_None; Py_INCREF(__pyx_v_comment_value);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":366 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 366; goto __pyx_L1;}
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":367 */
__pyx_2 = (__pyx_v_xpathObj->nodesetval == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":368 */
  Py_INCREF(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":369 */
__pyx_2 = __pyx_v_xpathObj->nodesetval->nodeNr;
for (__pyx_3 = 0; __pyx_3 < __pyx_2; ++__pyx_3) {
  __pyx_1 = PyInt_FromLong(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 369; goto __pyx_L1;}
  Py_DECREF(__pyx_v_i);
  __pyx_v_i = __pyx_1;
  __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":370 */
  __pyx_4 = PyInt_AsLong(__pyx_v_i); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 370; goto __pyx_L1;}
  __pyx_v_c_node = (__pyx_v_xpathObj->nodesetval->nodeTab[__pyx_4]);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":371 */
  __pyx_4 = (__pyx_v_c_node->type == XML_ELEMENT_NODE);
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":372 */
    __pyx_1 = ((PyObject *)__pyx_f_5etree__elementFactory(__pyx_v_doc,__pyx_v_c_node)); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 372; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_element));
    __pyx_v_element = __pyx_1;
    __pyx_1 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":373 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 373; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 373; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_element));
    PyTuple_SET_ITEM(__pyx_5, 0, ((PyObject *)__pyx_v_element));
    __pyx_6 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 373; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    goto __pyx_L5;
  }
  __pyx_4 = (__pyx_v_c_node->type == XML_TEXT_NODE);
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":375 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 375; goto __pyx_L1;}
    __pyx_5 = __pyx_f_5etree_funicode(__pyx_v_c_node->content); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 375; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 375; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 375; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    goto __pyx_L5;
  }
  __pyx_4 = (__pyx_v_c_node->type == XML_ATTRIBUTE_NODE);
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":377 */
    __pyx_v_s = xmlNodeGetContent(__pyx_v_c_node);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":378 */
    __pyx_1 = __pyx_f_5etree_funicode(__pyx_v_s); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 378; goto __pyx_L1;}
    Py_DECREF(__pyx_v_attr_value);
    __pyx_v_attr_value = __pyx_1;
    __pyx_1 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":379 */
    xmlFree(__pyx_v_s);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":380 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 380; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 380; goto __pyx_L1;}
    Py_INCREF(__pyx_v_attr_value);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_attr_value);
    __pyx_1 = PyObject_CallObject(__pyx_6, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 380; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L5;
  }
  __pyx_4 = (__pyx_v_c_node->type == XML_COMMENT_NODE);
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":382 */
    __pyx_v_s = xmlNodeGetContent(__pyx_v_c_node);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":383 */
    __pyx_6 = PyString_FromString(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 383; goto __pyx_L1;}
    __pyx_5 = PyNumber_Remainder(__pyx_k141p, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 383; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_v_s2);
    __pyx_v_s2 = __pyx_5;
    __pyx_5 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":384 */
    __pyx_7 = PyString_AsString(__pyx_v_s2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 384; goto __pyx_L1;}
    __pyx_1 = __pyx_f_5etree_funicode(__pyx_7); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 384; goto __pyx_L1;}
    Py_DECREF(__pyx_v_comment_value);
    __pyx_v_comment_value = __pyx_1;
    __pyx_1 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":385 */
    xmlFree(__pyx_v_s);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":386 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_result, __pyx_n_append); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 386; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 386; goto __pyx_L1;}
    Py_INCREF(__pyx_v_comment_value);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_comment_value);
    __pyx_1 = PyObject_CallObject(__pyx_6, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 386; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":388 */
    if (__Pyx_PrintItem(__pyx_k142p) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 388; goto __pyx_L1;}
    __pyx_6 = PyInt_FromLong(__pyx_v_c_node->type); if (!__pyx_6) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 388; goto __pyx_L1;}
    if (__Pyx_PrintItem(__pyx_6) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 388; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 388; goto __pyx_L1;}

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":389 */
    __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_NotImplementedError); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 389; goto __pyx_L1;}
    __Pyx_Raise(__pyx_5, 0, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[2]; __pyx_lineno = 389; goto __pyx_L1;}
  }
  __pyx_L5:;
  __pyx_L3:;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":390 */
Py_INCREF(__pyx_v_result);
__pyx_r = __pyx_v_result;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_5);
Py_XDECREF(__pyx_6);
__Pyx_AddTraceback("etree._createNodeSetResult");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_element);
Py_DECREF(__pyx_v_result);
Py_DECREF(__pyx_v_i);
Py_DECREF(__pyx_v_attr_value);
Py_DECREF(__pyx_v_s2);
Py_DECREF(__pyx_v_comment_value);
Py_DECREF(__pyx_v_doc);
return __pyx_r;
}

static PyObject *__pyx_n_reverse;
static PyObject *__pyx_n__hold;
static PyObject *__pyx_n_exc_info;

static void __pyx_f_5etree__xpathCallback(xmlXPathParserContext (*__pyx_v_ctxt),int __pyx_v_nargs) {
xmlXPathContext (*__pyx_v_rctxt);
struct __pyx_obj_5etree__Document *__pyx_v_doc;
xmlXPathObject (*__pyx_v_obj);
struct __pyx_obj_5etree_XPathDocumentEvaluator *__pyx_v_evaluator;
PyObject *__pyx_v_name;
PyObject *__pyx_v_uri;
PyObject *__pyx_v_f;
PyObject *__pyx_v_args;
PyObject *__pyx_v_i;
PyObject *__pyx_v_res;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
long __pyx_4;
PyObject *__pyx_5 = 0;
xmlXPathObject (*__pyx_6);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);
__pyx_v_evaluator = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_evaluator);
__pyx_v_name = Py_None; Py_INCREF(__pyx_v_name);
__pyx_v_uri = Py_None; Py_INCREF(__pyx_v_uri);
__pyx_v_f = Py_None; Py_INCREF(__pyx_v_f);
__pyx_v_args = Py_None; Py_INCREF(__pyx_v_args);
__pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
__pyx_v_res = Py_None; Py_INCREF(__pyx_v_res);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":398 */
__pyx_v_rctxt = __pyx_v_ctxt->context;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":401 */
__pyx_1 = PyString_FromString(__pyx_v_rctxt->function); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 401; goto __pyx_L1;}
Py_DECREF(__pyx_v_name);
__pyx_v_name = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":402 */
__pyx_2 = (__pyx_v_rctxt->functionURI != 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":403 */
  __pyx_1 = PyString_FromString(__pyx_v_rctxt->functionURI); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 403; goto __pyx_L1;}
  Py_DECREF(__pyx_v_uri);
  __pyx_v_uri = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":405 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_uri);
  __pyx_v_uri = Py_None;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":408 */
__pyx_1 = (PyObject *)__pyx_v_rctxt->userData;
Py_INCREF(__pyx_1);
Py_DECREF(((PyObject *)__pyx_v_evaluator));
__pyx_v_evaluator = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":411 */
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 411; goto __pyx_L1;}
Py_INCREF(__pyx_v_uri);
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_uri);
Py_INCREF(__pyx_v_name);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_name);
__pyx_3 = PyObject_GetItem(__pyx_v_evaluator->_extension_functions, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 411; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_v_f);
__pyx_v_f = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":413 */
__pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 413; goto __pyx_L1;}
Py_DECREF(__pyx_v_args);
__pyx_v_args = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":414 */
Py_INCREF(((PyObject *)__pyx_v_evaluator->_doc));
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = ((PyObject *)__pyx_v_evaluator->_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":415 */
for (__pyx_4 = 0; __pyx_4 < __pyx_v_nargs; ++__pyx_4) {
  __pyx_3 = PyInt_FromLong(__pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 415; goto __pyx_L1;}
  Py_DECREF(__pyx_v_i);
  __pyx_v_i = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":416 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_args, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 416; goto __pyx_L1;}
  __pyx_3 = __pyx_f_5etree__unwrapXPathObject(valuePop(__pyx_v_ctxt),__pyx_v_doc); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 416; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 416; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 416; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_L3:;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":417 */
__pyx_1 = PyObject_GetAttr(__pyx_v_args, __pyx_n_reverse); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 417; goto __pyx_L1;}
__pyx_5 = PyTuple_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 417; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 417; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_5); __pyx_5 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":419 */
/*try:*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":421 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 421; goto __pyx_L5;}
  Py_INCREF(((PyObject *)__pyx_v_evaluator));
  PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_v_evaluator));
  __pyx_5 = PySequence_Tuple(__pyx_v_args); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 421; goto __pyx_L5;}
  __pyx_3 = PyNumber_Add(__pyx_1, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 421; goto __pyx_L5;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = PyObject_CallObject(__pyx_v_f, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 421; goto __pyx_L5;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_res);
  __pyx_v_res = __pyx_1;
  __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":424 */
  __pyx_5 = PyObject_GetAttr(((PyObject *)__pyx_v_evaluator), __pyx_n__hold); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 424; goto __pyx_L5;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 424; goto __pyx_L5;}
  Py_INCREF(__pyx_v_res);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_res);
  __pyx_1 = PyObject_CallObject(__pyx_5, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 424; goto __pyx_L5;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":426 */
  __pyx_6 = __pyx_f_5etree__wrapXPathObject(__pyx_v_res); if (__pyx_6 == 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 426; goto __pyx_L5;}
  __pyx_v_obj = __pyx_6;
}
goto __pyx_L6;
__pyx_L5:;
Py_XDECREF(__pyx_5); __pyx_5 = 0;
Py_XDECREF(__pyx_3); __pyx_3 = 0;
Py_XDECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":427 */
/*except:*/ {
  __Pyx_AddTraceback("etree._xpathCallback");
  __pyx_5 = __Pyx_GetExcValue(); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 427; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":428 */
  xmlXPathErr(__pyx_v_ctxt,(XML_XPATH_EXPR_ERROR - XML_XPATH_EXPRESSION_OK));

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":431 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_sys); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 431; goto __pyx_L1;}
  __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_exc_info); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 431; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyTuple_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 431; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 431; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_v_evaluator->_exc_info);
  __pyx_v_evaluator->_exc_info = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":432 */
  goto __pyx_L0;
  goto __pyx_L6;
}
__pyx_L6:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":433 */
valuePush(__pyx_v_ctxt,__pyx_v_obj);

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_5);
__Pyx_WriteUnraisable("etree._xpathCallback");
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_evaluator);
Py_DECREF(__pyx_v_name);
Py_DECREF(__pyx_v_uri);
Py_DECREF(__pyx_v_f);
Py_DECREF(__pyx_v_args);
Py_DECREF(__pyx_v_i);
Py_DECREF(__pyx_v_res);
}

static PyObject *__pyx_k143p;
static PyObject *__pyx_k144p;
static PyObject *__pyx_k145p;

static char (__pyx_k143[]) = "No tree or file given";
static char (__pyx_k144[]) = "Document is not parsable as Relax NG";
static char (__pyx_k145[]) = "Document is not valid Relax NG";

static int __pyx_f_5etree_7RelaxNG___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_7RelaxNG___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_etree = 0;
PyObject *__pyx_v_file = 0;
xmlRelaxNGParserCtxt (*__pyx_v_parser_ctxt);
PyObject *__pyx_v_filename;
int __pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
static char *__pyx_argnames[] = {"etree","file",0};
__pyx_v_etree = __pyx_k62;
__pyx_v_file = __pyx_k63;
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OO", __pyx_argnames, &__pyx_v_etree, &__pyx_v_file)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_etree);
Py_INCREF(__pyx_v_file);
__pyx_v_filename = Py_None; Py_INCREF(__pyx_v_filename);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_etree), __pyx_ptype_5etree__ElementTree, 1, "etree")) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 22; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":25 */
__pyx_1 = ((PyObject *)__pyx_v_etree) != Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":26 */
  __pyx_v_parser_ctxt = xmlRelaxNGNewDocParserCtxt(__pyx_v_etree->_doc->_c_doc);
  goto __pyx_L2;
}
__pyx_1 = __pyx_v_file != Py_None;
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":28 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__getFilenameForFile); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 28; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 28; goto __pyx_L1;}
  Py_INCREF(__pyx_v_file);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_file);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 28; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_filename);
  __pyx_v_filename = __pyx_4;
  __pyx_4 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":29 */
  __pyx_1 = __pyx_v_filename == Py_None;
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":31 */
    Py_INCREF(__pyx_v_file);
    Py_DECREF(__pyx_v_filename);
    __pyx_v_filename = __pyx_v_file;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":32 */
  __pyx_5 = PyString_AsString(__pyx_v_filename); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 32; goto __pyx_L1;}
  __pyx_v_parser_ctxt = xmlRelaxNGNewParserCtxt(__pyx_5);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":34 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGParseError); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 34; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k143p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[3]; __pyx_lineno = 34; goto __pyx_L1;}
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":35 */
__pyx_1 = (__pyx_v_parser_ctxt == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":36 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGParseError); if (!__pyx_3) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 36; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, __pyx_k144p, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[3]; __pyx_lineno = 36; goto __pyx_L1;}
  goto __pyx_L4;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":37 */
((struct __pyx_obj_5etree_RelaxNG *)__pyx_v_self)->_c_schema = xmlRelaxNGParse(__pyx_v_parser_ctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":38 */
__pyx_1 = (((struct __pyx_obj_5etree_RelaxNG *)__pyx_v_self)->_c_schema == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":39 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGParseError); if (!__pyx_4) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 39; goto __pyx_L1;}
  __Pyx_Raise(__pyx_4, __pyx_k145p, 0);
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  {__pyx_filename = __pyx_f[3]; __pyx_lineno = 39; goto __pyx_L1;}
  goto __pyx_L5;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":40 */
xmlRelaxNGFreeParserCtxt(__pyx_v_parser_ctxt);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.RelaxNG.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_filename);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_etree);
Py_DECREF(__pyx_v_file);
return __pyx_r;
}

static void __pyx_f_5etree_7RelaxNG___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_7RelaxNG___dealloc__(PyObject *__pyx_v_self) {
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":43 */
xmlRelaxNGFree(((struct __pyx_obj_5etree_RelaxNG *)__pyx_v_self)->_c_schema);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.RelaxNG.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k146p;

static char (__pyx_k146[]) = "Internal error in Relax NG validation";

static PyObject *__pyx_f_5etree_7RelaxNG_validate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_7RelaxNG_validate[] = "Validate doc using Relax NG.\n\n        Returns true if document is valid, false if not.";
static PyObject *__pyx_f_5etree_7RelaxNG_validate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_etree = 0;
xmlDoc (*__pyx_v_c_doc);
xmlRelaxNGValidCtxt (*__pyx_v_valid_ctxt);
int __pyx_v_ret;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"etree",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_etree)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_etree);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_etree), __pyx_ptype_5etree__ElementTree, 1, "etree")) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 45; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":52 */
__pyx_v_valid_ctxt = xmlRelaxNGNewValidCtxt(((struct __pyx_obj_5etree_RelaxNG *)__pyx_v_self)->_c_schema);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":54 */
__pyx_v_c_doc = __pyx_f_5etree__fakeRootDoc(__pyx_v_etree->_doc->_c_doc,__pyx_v_etree->_context_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":55 */
__pyx_v_ret = xmlRelaxNGValidateDoc(__pyx_v_valid_ctxt,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":56 */
__pyx_f_5etree__destroyFakeDoc(__pyx_v_etree->_doc->_c_doc,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":58 */
xmlRelaxNGFreeValidCtxt(__pyx_v_valid_ctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":59 */
__pyx_1 = (__pyx_v_ret == (-1));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":60 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGValidateError); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 60; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k146p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[3]; __pyx_lineno = 60; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":61 */
__pyx_2 = PyInt_FromLong((__pyx_v_ret == 0)); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 61; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.RelaxNG.validate");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_etree);
return __pyx_r;
}

static PyObject *__pyx_k147p;
static PyObject *__pyx_k148p;

static char (__pyx_k147[]) = "Document is not parsable as XML Schema";
static char (__pyx_k148[]) = "Document is not valid XML Schema";

static int __pyx_f_5etree_9XMLSchema___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_9XMLSchema___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_etree = 0;
struct __pyx_obj_5etree__Document *__pyx_v_doc;
xmlSchemaParserCtxt (*__pyx_v_parser_ctxt);
int __pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"etree",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_etree)) return -1;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_etree);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_etree), __pyx_ptype_5etree__ElementTree, 1, "etree")) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 21; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":24 */
Py_INCREF(((PyObject *)__pyx_v_etree->_doc));
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = ((PyObject *)__pyx_v_etree->_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":25 */
__pyx_v_parser_ctxt = xmlSchemaNewDocParserCtxt(__pyx_v_doc->_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":26 */
__pyx_1 = (__pyx_v_parser_ctxt == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":27 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSchemaParseError); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 27; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k147p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[4]; __pyx_lineno = 27; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":28 */
((struct __pyx_obj_5etree_XMLSchema *)__pyx_v_self)->_c_schema = xmlSchemaParse(__pyx_v_parser_ctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":29 */
__pyx_1 = (((struct __pyx_obj_5etree_XMLSchema *)__pyx_v_self)->_c_schema == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":30 */
  xmlSchemaFreeParserCtxt(__pyx_v_parser_ctxt);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":31 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSchemaParseError); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 31; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k148p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[4]; __pyx_lineno = 31; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":32 */
xmlSchemaFreeParserCtxt(__pyx_v_parser_ctxt);

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.XMLSchema.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_etree);
return __pyx_r;
}

static void __pyx_f_5etree_9XMLSchema___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_9XMLSchema___dealloc__(PyObject *__pyx_v_self) {
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":35 */
xmlSchemaFree(((struct __pyx_obj_5etree_XMLSchema *)__pyx_v_self)->_c_schema);

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.XMLSchema.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k149p;

static char (__pyx_k149[]) = "Internal error in XML Schema validation.";

static PyObject *__pyx_f_5etree_9XMLSchema_validate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree_9XMLSchema_validate[] = "Validate doc using XML Schema.\n\n        Returns true if document is valid, false if not.\n        ";
static PyObject *__pyx_f_5etree_9XMLSchema_validate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
struct __pyx_obj_5etree__ElementTree *__pyx_v_etree = 0;
xmlSchemaValidCtxt (*__pyx_v_valid_ctxt);
xmlDoc (*__pyx_v_c_doc);
int __pyx_v_ret;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
static char *__pyx_argnames[] = {"etree",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_etree)) return 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_etree);
if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_etree), __pyx_ptype_5etree__ElementTree, 1, "etree")) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 37; goto __pyx_L1;}

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":45 */
__pyx_v_valid_ctxt = xmlSchemaNewValidCtxt(((struct __pyx_obj_5etree_XMLSchema *)__pyx_v_self)->_c_schema);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":47 */
__pyx_v_c_doc = __pyx_f_5etree__fakeRootDoc(__pyx_v_etree->_doc->_c_doc,__pyx_v_etree->_context_node->_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":48 */
__pyx_v_ret = xmlSchemaValidateDoc(__pyx_v_valid_ctxt,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":49 */
__pyx_f_5etree__destroyFakeDoc(__pyx_v_etree->_doc->_c_doc,__pyx_v_c_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":51 */
xmlSchemaFreeValidCtxt(__pyx_v_valid_ctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":52 */
__pyx_1 = (__pyx_v_ret == (-1));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":53 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSchemaValidateError); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 53; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k149p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[4]; __pyx_lineno = 53; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":54 */
__pyx_2 = PyInt_FromLong((__pyx_v_ret == 0)); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 54; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.XMLSchema.validate");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_etree);
return __pyx_r;
}

static int __pyx_f_5etree__getParseOptions(void) {
int __pyx_r;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":10 */
__pyx_r = (((XML_PARSE_NOENT | XML_PARSE_NOCDATA) | XML_PARSE_NOWARNING) | XML_PARSE_NOERROR);
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._getParseOptions");
__pyx_L0:;
return __pyx_r;
}

static int __pyx_f_5etree_6Parser___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5etree_6Parser___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
int __pyx_r;
static char *__pyx_argnames[] = {0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":19 */
((struct __pyx_obj_5etree_Parser *)__pyx_v_self)->_c_dict = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":20 */
((struct __pyx_obj_5etree_Parser *)__pyx_v_self)->_parser_initialized = 0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.Parser.__init__");
__pyx_r = -1;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static void __pyx_f_5etree_6Parser___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5etree_6Parser___dealloc__(PyObject *__pyx_v_self) {
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":24 */
__pyx_1 = (((struct __pyx_obj_5etree_Parser *)__pyx_v_self)->_c_dict != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":26 */
  xmlDictFree(((struct __pyx_obj_5etree_Parser *)__pyx_v_self)->_c_dict);
  goto __pyx_L2;
}
__pyx_L2:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree.Parser.__dealloc__");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static char (__pyx_k150[]) = "Parse document, share dictionary if possible.\n        ";

static xmlDoc (*__pyx_f_5etree_6Parser_parseDoc(struct __pyx_obj_5etree_Parser *__pyx_v_self,PyObject *__pyx_v_text)) {
xmlDoc (*__pyx_v_result);
xmlParserCtxt (*__pyx_v_pctxt);
int __pyx_v_parse_error;
xmlDoc (*__pyx_r);
char (*__pyx_1);
int __pyx_2;
PyObject *__pyx_3 = 0;
Py_INCREF(__pyx_v_self);
Py_INCREF(__pyx_v_text);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":29 */
__pyx_k150;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":34 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_initParse(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":35 */
__pyx_1 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 35; goto __pyx_L1;}
__pyx_v_pctxt = xmlCreateDocParserCtxt(__pyx_1);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":36 */
__pyx_2 = (__pyx_v_pctxt == 0);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":37 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSyntaxError); if (!__pyx_3) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 37; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, 0, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[5]; __pyx_lineno = 37; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":39 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_prepareParse(__pyx_v_self,__pyx_v_pctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":40 */
xmlCtxtUseOptions(__pyx_v_pctxt,__pyx_f_5etree__getParseOptions());

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":43 */
__pyx_v_parse_error = xmlParseDocument(__pyx_v_pctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":45 */
__pyx_2 = (__pyx_v_parse_error != 0);
if (!__pyx_2) {
  __pyx_2 = (!__pyx_v_pctxt->wellFormed);
}
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":46 */
  __pyx_2 = (__pyx_v_pctxt->myDoc != 0);
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":47 */
    xmlFreeDoc(__pyx_v_pctxt->myDoc);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":48 */
    __pyx_v_pctxt->myDoc = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":49 */
  xmlFreeParserCtxt(__pyx_v_pctxt);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":50 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSyntaxError); if (!__pyx_3) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 50; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, 0, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[5]; __pyx_lineno = 50; goto __pyx_L1;}
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":51 */
__pyx_v_result = __pyx_v_pctxt->myDoc;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":52 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_finalizeParse(__pyx_v_self,__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":53 */
xmlFreeParserCtxt(__pyx_v_pctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":54 */
__pyx_r = __pyx_v_result;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree.Parser.parseDoc");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
Py_DECREF(__pyx_v_text);
return __pyx_r;
}

static PyObject *__pyx_n_IOError;

static PyObject *__pyx_k151p;

static char (__pyx_k151[]) = "Could not open file %s";

static xmlDoc (*__pyx_f_5etree_6Parser_parseDocFromFile(struct __pyx_obj_5etree_Parser *__pyx_v_self,char (*__pyx_v_filename))) {
xmlDoc (*__pyx_v_result);
xmlParserCtxt (*__pyx_v_pctxt);
xmlDoc (*__pyx_r);
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":60 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_initParse(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":61 */
__pyx_v_pctxt = xmlNewParserCtxt();

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":62 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_prepareParse(__pyx_v_self,__pyx_v_pctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":64 */
xmlCtxtUseOptions(__pyx_v_pctxt,__pyx_f_5etree__getParseOptions());

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":65 */
__pyx_v_result = xmlCtxtReadFile(__pyx_v_pctxt,__pyx_v_filename,0,__pyx_f_5etree__getParseOptions());

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":67 */
__pyx_1 = (__pyx_v_result == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":68 */
  __pyx_1 = (__pyx_v_pctxt->lastError.domain == XML_FROM_IO);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":69 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IOError); if (!__pyx_2) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 69; goto __pyx_L1;}
    __pyx_3 = PyString_FromString(__pyx_v_filename); if (!__pyx_3) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 69; goto __pyx_L1;}
    __pyx_4 = PyNumber_Remainder(__pyx_k151p, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 69; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[5]; __pyx_lineno = 69; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":72 */
__pyx_1 = (!__pyx_v_pctxt->wellFormed);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":73 */
  __pyx_1 = (__pyx_v_pctxt->myDoc != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":74 */
    xmlFreeDoc(__pyx_v_pctxt->myDoc);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":75 */
    __pyx_v_pctxt->myDoc = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":76 */
  xmlFreeParserCtxt(__pyx_v_pctxt);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":77 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSyntaxError); if (!__pyx_3) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 77; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, 0, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[5]; __pyx_lineno = 77; goto __pyx_L1;}
  goto __pyx_L4;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":78 */
((struct __pyx_vtabstruct_5etree_Parser *)__pyx_v_self->__pyx_vtab)->_finalizeParse(__pyx_v_self,__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":79 */
xmlFreeParserCtxt(__pyx_v_pctxt);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":80 */
__pyx_r = __pyx_v_result;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree.Parser.parseDocFromFile");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static void __pyx_f_5etree_6Parser__initParse(struct __pyx_obj_5etree_Parser *__pyx_v_self) {
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":83 */
__pyx_1 = (!__pyx_v_self->_parser_initialized);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":84 */
  xmlInitParser();

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":85 */
  __pyx_v_self->_parser_initialized = 1;
  goto __pyx_L2;
}
__pyx_L2:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.Parser._initParse");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static void __pyx_f_5etree_6Parser__prepareParse(struct __pyx_obj_5etree_Parser *__pyx_v_self,xmlParserCtxt (*__pyx_v_pctxt)) {
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":88 */
__pyx_1 = (__pyx_v_self->_c_dict != 0);
if (__pyx_1) {
  __pyx_1 = (__pyx_v_pctxt->dict != 0);
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":90 */
  xmlDictFree(__pyx_v_pctxt->dict);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":91 */
  __pyx_v_pctxt->dict = __pyx_v_self->_c_dict;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":92 */
  xmlDictReference(__pyx_v_pctxt->dict);
  goto __pyx_L2;
}
__pyx_L2:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.Parser._prepareParse");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static void __pyx_f_5etree_6Parser__finalizeParse(struct __pyx_obj_5etree_Parser *__pyx_v_self,xmlDoc (*__pyx_v_result)) {
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":96 */
__pyx_1 = (__pyx_v_self->_c_dict == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":98 */
  __pyx_v_self->_c_dict = __pyx_v_result->dict;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":99 */
xmlDictReference(__pyx_v_self->_c_dict);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.Parser._finalizeParse");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
}

static char (__pyx_k152[]) = "1.0";

static xmlDoc (*__pyx_f_5etree_6Parser_newDoc(struct __pyx_obj_5etree_Parser *__pyx_v_self)) {
xmlDoc (*__pyx_v_result);
xmlDict (*__pyx_v_d);
xmlDoc (*__pyx_r);
int __pyx_1;
Py_INCREF(__pyx_v_self);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":105 */
__pyx_v_result = xmlNewDoc(__pyx_k152);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":107 */
__pyx_1 = (__pyx_v_self->_c_dict == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":110 */
  __pyx_1 = (__pyx_v_result->dict != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":111 */
    __pyx_v_d = __pyx_v_result->dict;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":113 */
    __pyx_v_d = xmlDictCreate();

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":114 */
    __pyx_v_result->dict = __pyx_v_d;
  }
  __pyx_L3:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":115 */
  __pyx_v_self->_c_dict = __pyx_v_d;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":116 */
  xmlDictReference(__pyx_v_self->_c_dict);
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":119 */
  __pyx_1 = (__pyx_v_result->dict != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":120 */
    xmlDictFree(__pyx_v_result->dict);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":121 */
  __pyx_v_result->dict = __pyx_v_self->_c_dict;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":122 */
  xmlDictReference(__pyx_v_result->dict);
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":123 */
__pyx_r = __pyx_v_result;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.Parser.newDoc");
__pyx_L0:;
Py_DECREF(__pyx_v_self);
return __pyx_r;
}

static char (__pyx_k153[]) = "Get a proxy for a given node and node type.\n    ";

static struct __pyx_obj_5etree__NodeBase *__pyx_f_5etree_getProxy(xmlNode (*__pyx_v_c_node),int __pyx_v_proxy_type) {
struct __pyx_t_5etree__ProxyRef (*__pyx_v_ref);
struct __pyx_obj_5etree__NodeBase *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":17 */
__pyx_k153;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":21 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":22 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[6]; __pyx_lineno = 22; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_r = (struct __pyx_obj_5etree__NodeBase *)Py_None;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":23 */
__pyx_v_ref = ((struct __pyx_t_5etree__ProxyRef (*))__pyx_v_c_node->_private);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":24 */
while (1) {
  __pyx_L3:;
  __pyx_1 = (__pyx_v_ref != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":25 */
  __pyx_1 = (__pyx_v_ref->type == __pyx_v_proxy_type);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":26 */
    __pyx_2 = (PyObject *)__pyx_v_ref->proxy;
    Py_INCREF(__pyx_2);
    __pyx_r = (struct __pyx_obj_5etree__NodeBase *)__pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":27 */
  __pyx_v_ref = __pyx_v_ref->next;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":28 */
if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[6]; __pyx_lineno = 28; goto __pyx_L1;}
Py_INCREF(Py_None);
__pyx_r = (struct __pyx_obj_5etree__NodeBase *)Py_None;
goto __pyx_L0;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.getProxy");
__pyx_r = 0;
__pyx_L0:;
return ((struct __pyx_obj_5etree__NodeBase *)__pyx_r) ;
}

static int __pyx_f_5etree_hasProxy(xmlNode (*__pyx_v_c_node)) {
int __pyx_r;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":31 */
__pyx_r = (__pyx_v_c_node->_private != 0);
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.hasProxy");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k154[]) = "Create a backpointer proxy reference for a proxy and type.\n    ";

static struct __pyx_t_5etree__ProxyRef (*__pyx_f_5etree_createProxyRef(struct __pyx_obj_5etree__NodeBase *__pyx_v_proxy,int __pyx_v_proxy_type)) {
struct __pyx_t_5etree__ProxyRef (*__pyx_v_result);
struct __pyx_t_5etree__ProxyRef (*__pyx_r);
Py_INCREF(__pyx_v_proxy);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":34 */
__pyx_k154;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":37 */
__pyx_v_result = ((struct __pyx_t_5etree__ProxyRef (*))malloc((sizeof(struct __pyx_t_5etree__ProxyRef ))));

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":38 */
__pyx_v_result->proxy = ((PyObject (*))((PyObject *)__pyx_v_proxy));

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":39 */
__pyx_v_result->type = __pyx_v_proxy_type;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":40 */
__pyx_v_result->next = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":41 */
__pyx_r = __pyx_v_result;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.createProxyRef");
__pyx_L0:;
Py_DECREF(__pyx_v_proxy);
return __pyx_r;
}

static char (__pyx_k155[]) = "Register a proxy and type for the node it\'s proxying for.\n    ";

static void __pyx_f_5etree_registerProxy(struct __pyx_obj_5etree__NodeBase *__pyx_v_proxy,int __pyx_v_proxy_type) {
struct __pyx_t_5etree__ProxyRef (*__pyx_v_ref);
struct __pyx_t_5etree__ProxyRef (*__pyx_v_prev_ref);
int __pyx_1;
Py_INCREF(__pyx_v_proxy);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":44 */
__pyx_k155;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":49 */
__pyx_1 = (__pyx_v_proxy->_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":50 */
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":53 */
__pyx_v_ref = ((struct __pyx_t_5etree__ProxyRef (*))__pyx_v_proxy->_c_node->_private);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":54 */
__pyx_1 = (__pyx_v_ref == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":55 */
  __pyx_v_proxy->_c_node->_private = ((void (*))__pyx_f_5etree_createProxyRef(__pyx_v_proxy,__pyx_v_proxy_type));

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":56 */
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":57 */
while (1) {
  __pyx_L4:;
  __pyx_1 = (__pyx_v_ref != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":58 */
  __pyx_v_prev_ref = __pyx_v_ref;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":59 */
  __pyx_v_ref = __pyx_v_ref->next;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":60 */
__pyx_v_prev_ref->next = __pyx_f_5etree_createProxyRef(__pyx_v_proxy,__pyx_v_proxy_type);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.registerProxy");
__pyx_L0:;
Py_DECREF(__pyx_v_proxy);
}

static PyObject *__pyx_k157p;

static char (__pyx_k156[]) = "Unregister a proxy for the node it\'s proxying for.\n    ";
static char (__pyx_k157[]) = "Tried to unregister unknown proxy";

static void __pyx_f_5etree_unregisterProxy(struct __pyx_obj_5etree__NodeBase *__pyx_v_proxy) {
PyObject (*__pyx_v_proxy_ref);
struct __pyx_t_5etree__ProxyRef (*__pyx_v_ref);
struct __pyx_t_5etree__ProxyRef (*__pyx_v_prev_ref);
xmlNode (*__pyx_v_c_node);
int __pyx_1;
Py_INCREF(__pyx_v_proxy);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":63 */
__pyx_k156;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":69 */
__pyx_v_proxy_ref = ((PyObject (*))((PyObject *)__pyx_v_proxy));

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":70 */
__pyx_v_c_node = __pyx_v_proxy->_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":71 */
__pyx_v_ref = ((struct __pyx_t_5etree__ProxyRef (*))__pyx_v_c_node->_private);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":72 */
__pyx_1 = (__pyx_v_ref->proxy == __pyx_v_proxy_ref);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":73 */
  __pyx_v_c_node->_private = ((void (*))__pyx_v_ref->next);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":74 */
  free(__pyx_v_ref);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":75 */
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":76 */
__pyx_v_prev_ref = __pyx_v_ref;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":78 */
__pyx_v_ref = __pyx_v_ref->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":79 */
while (1) {
  __pyx_L3:;
  __pyx_1 = (__pyx_v_ref != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":81 */
  __pyx_1 = (__pyx_v_ref->proxy == __pyx_v_proxy_ref);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":82 */
    __pyx_v_prev_ref->next = __pyx_v_ref->next;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":83 */
    free(__pyx_v_ref);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":84 */
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":85 */
  __pyx_v_prev_ref = __pyx_v_ref;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":86 */
  __pyx_v_ref = __pyx_v_ref->next;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":88 */
if (!0) {
  PyErr_SetObject(PyExc_AssertionError, __pyx_k157p);
  {__pyx_filename = __pyx_f[6]; __pyx_lineno = 88; goto __pyx_L1;}
}

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.unregisterProxy");
__pyx_L0:;
Py_DECREF(__pyx_v_proxy);
}

static char (__pyx_k158[]) = "Attempt deallocation of c_node (or higher up in tree).\n    ";

static void __pyx_f_5etree_attemptDeallocation(xmlNode (*__pyx_v_c_node)) {
xmlNode (*__pyx_v_c_top);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":95 */
__pyx_k158;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":99 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":101 */
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":102 */
__pyx_v_c_top = __pyx_f_5etree_getDeallocationTop(__pyx_v_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":103 */
__pyx_1 = (__pyx_v_c_top != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":105 */
  xmlFreeNode(__pyx_v_c_top);
  goto __pyx_L3;
}
__pyx_L3:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.attemptDeallocation");
__pyx_L0:;
}

static char (__pyx_k159[]) = "Return the top of the tree that can be deallocated, or NULL.\n    ";

static xmlNode (*__pyx_f_5etree_getDeallocationTop(xmlNode (*__pyx_v_c_node))) {
xmlNode (*__pyx_v_c_current);
xmlNode (*__pyx_v_c_top);
xmlNode (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":108 */
__pyx_k159;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":113 */
__pyx_v_c_current = __pyx_v_c_node->parent;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":114 */
__pyx_v_c_top = __pyx_v_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":115 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_current != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":118 */
  __pyx_1 = (__pyx_v_c_current->type == XML_DOCUMENT_NODE);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":120 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":121 */
  __pyx_v_c_top = __pyx_v_c_current;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":122 */
  __pyx_v_c_current = __pyx_v_c_current->parent;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":124 */
__pyx_1 = (__pyx_v_c_top->_private != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":126 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L5;
}
__pyx_L5:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":128 */
__pyx_1 = __pyx_f_5etree_canDeallocateChildren(__pyx_v_c_top);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":129 */
  __pyx_r = __pyx_v_c_top;
  goto __pyx_L0;
  goto __pyx_L6;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":131 */
  __pyx_r = 0;
  goto __pyx_L0;
}
__pyx_L6:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.getDeallocationTop");
__pyx_L0:;
return __pyx_r;
}

static int __pyx_f_5etree_canDeallocateChildNodes(xmlNode (*__pyx_v_c_node)) {
xmlNode (*__pyx_v_c_current);
int __pyx_r;
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":135 */
__pyx_v_c_current = __pyx_v_c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":136 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_current != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":137 */
  __pyx_1 = (__pyx_v_c_current->_private != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":138 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":139 */
  __pyx_1 = (!__pyx_f_5etree_canDeallocateChildren(__pyx_v_c_current));
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":140 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":141 */
  __pyx_v_c_current = __pyx_v_c_current->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":142 */
__pyx_r = 1;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.canDeallocateChildNodes");
__pyx_L0:;
return __pyx_r;
}

static int __pyx_f_5etree_canDeallocateAttributes(xmlNode (*__pyx_v_c_node)) {
xmlAttr (*__pyx_v_c_current);
int __pyx_r;
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":146 */
__pyx_v_c_current = __pyx_v_c_node->properties;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":147 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_current != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":148 */
  __pyx_1 = (__pyx_v_c_current->_private != 0);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":149 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":152 */
  __pyx_1 = (!__pyx_f_5etree_canDeallocateChildNodes(((xmlNode (*))__pyx_v_c_current)));
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":153 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":154 */
  __pyx_v_c_current = __pyx_v_c_current->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":156 */
__pyx_r = 1;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.canDeallocateAttributes");
__pyx_L0:;
return __pyx_r;
}

static int __pyx_f_5etree_canDeallocateChildren(xmlNode (*__pyx_v_c_node)) {
int __pyx_r;
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":163 */
__pyx_1 = (!__pyx_f_5etree_canDeallocateChildNodes(__pyx_v_c_node));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":164 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":166 */
__pyx_1 = (__pyx_v_c_node->type == XML_ELEMENT_NODE);
if (__pyx_1) {
  __pyx_1 = (!__pyx_f_5etree_canDeallocateAttributes(__pyx_v_c_node));
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":168 */
  __pyx_r = 0;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/proxy.pxi":170 */
__pyx_r = 1;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.canDeallocateChildren");
__pyx_L0:;
return __pyx_r;
}

static PyObject *__pyx_n_TypeError;

static PyObject *__pyx_k160p;

static char (__pyx_k160[]) = "Invalid input object: %s";

static struct __pyx_obj_5etree__Document *__pyx_f_5etree__documentOrRaise(PyObject *__pyx_v_input) {
struct __pyx_obj_5etree__Document *__pyx_v_doc;
struct __pyx_obj_5etree__Document *__pyx_r;
PyObject *__pyx_1 = 0;
int __pyx_2;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
PyObject *__pyx_5 = 0;
Py_INCREF(__pyx_v_input);
__pyx_v_doc = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1083 */
__pyx_1 = ((PyObject *)__pyx_f_5etree__documentOf(__pyx_v_input)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1083; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_doc));
__pyx_v_doc = __pyx_1;
__pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1084 */
__pyx_2 = ((PyObject *)__pyx_v_doc) == Py_None;
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1085 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  Py_INCREF(__pyx_v_input);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_input);
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyNumber_Remainder(__pyx_k160p, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __Pyx_Raise(__pyx_1, __pyx_3, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1085; goto __pyx_L1;}
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1087 */
  Py_INCREF(((PyObject *)__pyx_v_doc));
  __pyx_r = (struct __pyx_obj_5etree__Document *)((PyObject *)__pyx_v_doc);
  goto __pyx_L0;
}
__pyx_L2:;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
Py_XDECREF(__pyx_5);
__Pyx_AddTraceback("etree._documentOrRaise");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_doc);
Py_DECREF(__pyx_v_input);
return ((struct __pyx_obj_5etree__Document *)__pyx_r) ;
}

static struct __pyx_obj_5etree__Document *__pyx_f_5etree__documentOf(PyObject *__pyx_v_input) {
struct __pyx_obj_5etree__Document *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
Py_INCREF(__pyx_v_input);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1092 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1092; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1092; goto __pyx_L1;}
Py_INCREF(__pyx_v_input);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_input);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__ElementTree));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__ElementTree));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1092; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1092; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1093 */
  Py_INCREF(((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_input)->_doc));
  __pyx_r = (struct __pyx_obj_5etree__Document *)((PyObject *)((struct __pyx_obj_5etree__ElementTree *)__pyx_v_input)->_doc);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; goto __pyx_L1;}
Py_INCREF(__pyx_v_input);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_input);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1095 */
  Py_INCREF(((PyObject *)((struct __pyx_obj_5etree__NodeBase *)__pyx_v_input)->_doc));
  __pyx_r = (struct __pyx_obj_5etree__Document *)((PyObject *)((struct __pyx_obj_5etree__NodeBase *)__pyx_v_input)->_doc);
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1096; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1096; goto __pyx_L1;}
Py_INCREF(__pyx_v_input);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_input);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__Document));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__Document));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1096; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1096; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1097 */
  Py_INCREF(((PyObject *)__pyx_v_input));
  __pyx_r = (struct __pyx_obj_5etree__Document *)((PyObject *)__pyx_v_input);
  goto __pyx_L0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1099 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__Document)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1099; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_r = (struct __pyx_obj_5etree__Document *)Py_None;
  goto __pyx_L0;
}
__pyx_L2:;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._documentOf");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_input);
return ((struct __pyx_obj_5etree__Document *)__pyx_r) ;
}


static struct __pyx_obj_5etree__NodeBase *__pyx_f_5etree__rootNodeOf(PyObject *__pyx_v_input) {
struct __pyx_obj_5etree__NodeBase *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
Py_INCREF(__pyx_v_input);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1104 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1104; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1104; goto __pyx_L1;}
Py_INCREF(__pyx_v_input);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_input);
Py_INCREF(__pyx_n_getroot);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_getroot);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1104; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1104; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1105 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_input, __pyx_n_getroot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_INCREF(((PyObject *)__pyx_3));
  __pyx_r = (struct __pyx_obj_5etree__NodeBase *)((PyObject *)__pyx_3);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; goto __pyx_L1;}
Py_INCREF(__pyx_v_input);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_input);
Py_INCREF(((PyObject*)__pyx_ptype_5etree__NodeBase));
PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_5etree__NodeBase));
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1107 */
  Py_INCREF(((PyObject *)__pyx_v_input));
  __pyx_r = (struct __pyx_obj_5etree__NodeBase *)((PyObject *)__pyx_v_input);
  goto __pyx_L0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1109 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__NodeBase)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_r = (struct __pyx_obj_5etree__NodeBase *)Py_None;
  goto __pyx_L0;
}
__pyx_L2:;

__pyx_r = (void *)Py_None; Py_INCREF((PyObject *) __pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._rootNodeOf");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_input);
return ((struct __pyx_obj_5etree__NodeBase *)__pyx_r) ;
}

static xmlDoc (*__pyx_f_5etree__fakeRootDoc(xmlDoc (*__pyx_v_c_base_doc),xmlNode (*__pyx_v_c_node))) {
xmlNode (*__pyx_v_c_child);
xmlNode (*__pyx_v_c_root);
xmlDoc (*__pyx_v_c_doc);
xmlDoc (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1118 */
__pyx_v_c_root = xmlDocGetRootElement(__pyx_v_c_base_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1119 */
__pyx_1 = (__pyx_v_c_root == __pyx_v_c_node);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1121 */
  __pyx_r = __pyx_v_c_base_doc;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1123 */
__pyx_v_c_doc = xmlCopyDoc(__pyx_v_c_base_doc,0);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1124 */
__pyx_v_c_root = xmlDocCopyNode(__pyx_v_c_node,__pyx_v_c_doc,2);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1126 */
__pyx_v_c_root->children = __pyx_v_c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1127 */
__pyx_v_c_root->last = __pyx_v_c_node->last;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1128 */
__pyx_v_c_root->next = 0;
__pyx_v_c_root->prev = 0;
__pyx_v_c_root->parent = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1131 */
__pyx_v_c_root->_private = __pyx_v_c_node;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1134 */
__pyx_v_c_child = __pyx_v_c_root->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1135 */
while (1) {
  __pyx_L3:;
  __pyx_1 = (__pyx_v_c_child != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1136 */
  __pyx_v_c_child->parent = __pyx_v_c_root;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1137 */
  __pyx_v_c_child = __pyx_v_c_child->next;
}
__pyx_L4:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1139 */
__pyx_v_c_doc->children = __pyx_v_c_root;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1140 */
__pyx_r = __pyx_v_c_doc;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._fakeRootDoc");
__pyx_L0:;
return __pyx_r;
}

static void __pyx_f_5etree__destroyFakeDoc(xmlDoc (*__pyx_v_c_base_doc),xmlDoc (*__pyx_v_c_doc)) {
xmlNode (*__pyx_v_c_child);
xmlNode (*__pyx_v_c_parent);
xmlNode (*__pyx_v_c_root);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1147 */
__pyx_1 = (__pyx_v_c_doc != __pyx_v_c_base_doc);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1148 */
  __pyx_v_c_root = xmlDocGetRootElement(__pyx_v_c_doc);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1151 */
  __pyx_v_c_parent = ((xmlNode (*))__pyx_v_c_root->_private);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1152 */
  __pyx_v_c_child = __pyx_v_c_root->children;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1153 */
  while (1) {
    __pyx_L3:;
    __pyx_1 = (__pyx_v_c_child != 0);
    if (!__pyx_1) break;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1154 */
    __pyx_v_c_child->parent = __pyx_v_c_parent;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1155 */
    __pyx_v_c_child = __pyx_v_c_child->next;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1158 */
  __pyx_v_c_root->children = 0;
  __pyx_v_c_root->last = 0;
  __pyx_v_c_root->_private = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1159 */
  xmlFreeDoc(__pyx_v_c_doc);
  goto __pyx_L2;
}
__pyx_L2:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._destroyFakeDoc");
__pyx_L0:;
}

static PyObject *__pyx_k162p;

static char (__pyx_k162[]) = "Not a file";
static char (__pyx_k163[]) = "\n";

static PyObject *__pyx_f_5etree__dumpToFile(PyObject *__pyx_v_f,xmlDoc (*__pyx_v_c_doc),xmlNode (*__pyx_v_c_node)) {
PyObject (*__pyx_v_o);
xmlOutputBuffer (*__pyx_v_c_buffer);
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF(__pyx_v_f);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1166 */
__pyx_1 = (!PyFile_Check(__pyx_v_f));
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1167 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; goto __pyx_L1;}
  __Pyx_Raise(__pyx_2, __pyx_k162p, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; goto __pyx_L1;}
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1168 */
__pyx_v_o = ((PyObject (*))__pyx_v_f);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1169 */
__pyx_v_c_buffer = xmlOutputBufferCreateFile(PyFile_AsFile(__pyx_v_o),0);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1170 */
xmlNodeDumpOutput(__pyx_v_c_buffer,__pyx_v_c_doc,__pyx_v_c_node,0,0,0);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1172 */
__pyx_2 = __pyx_f_5etree__dumpNextNode(__pyx_v_c_buffer,__pyx_v_c_doc,__pyx_v_c_node,0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1172; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1173 */
xmlOutputBufferWriteString(__pyx_v_c_buffer,__pyx_k163);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1174 */
xmlOutputBufferFlush(__pyx_v_c_buffer);

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree._dumpToFile");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_f);
return __pyx_r;
}

static PyObject *__pyx_f_5etree__dumpNextNode(xmlOutputBuffer (*__pyx_v_c_buffer),xmlDoc (*__pyx_v_c_doc),xmlNode (*__pyx_v_c_node),char (*__pyx_v_encoding)) {
xmlNode (*__pyx_v_c_next);
PyObject *__pyx_r;
int __pyx_1;
int __pyx_2;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1179 */
__pyx_v_c_next = __pyx_v_c_node->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1180 */
__pyx_1 = (__pyx_v_c_next != 0);
if (__pyx_1) {
  __pyx_1 = (__pyx_v_c_next->type == XML_TEXT_NODE);
}
__pyx_2 = (!__pyx_1);
if (__pyx_2) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1181 */
  __pyx_v_c_next = 0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1182 */
__pyx_1 = (__pyx_v_c_next != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1183 */
  xmlNodeDumpOutput(__pyx_v_c_buffer,__pyx_v_c_doc,__pyx_v_c_next,0,0,__pyx_v_encoding);
  goto __pyx_L3;
}
__pyx_L3:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._dumpNextNode");
__pyx_r = 0;
__pyx_L0:;
return __pyx_r;
}

static PyObject *__pyx_n_strip;

static PyObject *__pyx_k164p;
static PyObject *__pyx_k165p;
static PyObject *__pyx_k166p;

static char (__pyx_k164[]) = "<?xml";
static char (__pyx_k165[]) = "?>";
static char (__pyx_k166[]) = "\n";

static PyObject *__pyx_f_5etree__stripDeclaration(PyObject *__pyx_v_xml_string) {
PyObject *__pyx_v_i;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
int __pyx_5;
Py_INCREF(__pyx_v_xml_string);
__pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1186 */
__pyx_1 = PyObject_GetAttr(__pyx_v_xml_string, __pyx_n_strip); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1186; goto __pyx_L1;}
__pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1186; goto __pyx_L1;}
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1186; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_xml_string);
__pyx_v_xml_string = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1187 */
__pyx_1 = PySequence_GetSlice(__pyx_v_xml_string, 0, 5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; goto __pyx_L1;}
if (PyObject_Cmp(__pyx_1, __pyx_k164p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1188 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_xml_string, __pyx_n_find); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1188; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1188; goto __pyx_L1;}
  Py_INCREF(__pyx_k165p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k165p);
  __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1188; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_i);
  __pyx_v_i = __pyx_1;
  __pyx_1 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1189 */
  __pyx_2 = PyInt_FromLong((-1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1189; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_i, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1189; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1190 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    __pyx_1 = PyNumber_Add(__pyx_v_i, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_v_i, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = PySequence_GetSlice(__pyx_v_xml_string, __pyx_4, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_1, __pyx_k166p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_4) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1191 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; goto __pyx_L1;}
      __pyx_3 = PyNumber_Add(__pyx_v_i, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1192 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; goto __pyx_L1;}
    __pyx_2 = PyNumber_Add(__pyx_v_i, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PySequence_GetSlice(__pyx_v_xml_string, __pyx_5, 0x7fffffff); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; goto __pyx_L1;}
    Py_DECREF(__pyx_v_xml_string);
    __pyx_v_xml_string = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1193 */
Py_INCREF(__pyx_v_xml_string);
__pyx_r = __pyx_v_xml_string;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._stripDeclaration");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_i);
Py_DECREF(__pyx_v_xml_string);
return __pyx_r;
}

static PyObject *__pyx_k168p;

static char (__pyx_k167[]) = "Collect all text nodes and return them as a unicode string.\n\n    Start collecting at c_node.\n    \n    If there was no text to collect, return None\n    ";
static char (__pyx_k168[]) = "";

static PyObject *__pyx_f_5etree__collectText(xmlNode (*__pyx_v_c_node)) {
PyObject *__pyx_v_result;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
char (*__pyx_4);
__pyx_v_result = Py_None; Py_INCREF(__pyx_v_result);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1196 */
__pyx_k167;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1202 */
Py_INCREF(__pyx_k168p);
Py_DECREF(__pyx_v_result);
__pyx_v_result = __pyx_k168p;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1203 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_c_node->type == XML_TEXT_NODE);
  }
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1204 */
  __pyx_2 = PyString_FromString(__pyx_v_c_node->content); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1204; goto __pyx_L1;}
  __pyx_3 = PyNumber_Add(__pyx_v_result, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1204; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_result);
  __pyx_v_result = __pyx_3;
  __pyx_3 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1205 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1206 */
__pyx_1 = PyObject_IsTrue(__pyx_v_result); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1206; goto __pyx_L1;}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1207 */
  __pyx_4 = PyString_AsString(__pyx_v_result); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1207; goto __pyx_L1;}
  __pyx_2 = __pyx_f_5etree_funicode(__pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1207; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L4;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1209 */
  Py_INCREF(Py_None);
  __pyx_r = Py_None;
  goto __pyx_L0;
}
__pyx_L4:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._collectText");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_result);
return __pyx_r;
}

static char (__pyx_k169[]) = "Remove all text nodes.\n\n    Start removing at c_node.\n    ";

static PyObject *__pyx_f_5etree__removeText(xmlNode (*__pyx_v_c_node)) {
xmlNode (*__pyx_v_c_next);
PyObject *__pyx_r;
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1212 */
__pyx_k169;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1217 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_c_node->type == XML_TEXT_NODE);
  }
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1218 */
  __pyx_v_c_next = __pyx_v_c_node->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1219 */
  xmlUnlinkNode(__pyx_v_c_node);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1221 */
  xmlFreeNode(__pyx_v_c_node);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1222 */
  __pyx_v_c_node = __pyx_v_c_next;
}
__pyx_L3:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
__Pyx_AddTraceback("etree._removeText");
__pyx_r = 0;
__pyx_L0:;
return __pyx_r;
}

static xmlNode (*__pyx_f_5etree__findChild(xmlNode (*__pyx_v_c_node),int __pyx_v_index)) {
xmlNode (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1225 */
__pyx_1 = (__pyx_v_index < 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1226 */
  __pyx_r = __pyx_f_5etree__findChildBackwards(__pyx_v_c_node,((-__pyx_v_index) - 1));
  goto __pyx_L0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1228 */
  __pyx_r = __pyx_f_5etree__findChildForwards(__pyx_v_c_node,__pyx_v_index);
  goto __pyx_L0;
}
__pyx_L2:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._findChild");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k170[]) = "Return child element of c_node with index, or return NULL if not found.\n    ";

static xmlNode (*__pyx_f_5etree__findChildForwards(xmlNode (*__pyx_v_c_node),int __pyx_v_index)) {
xmlNode (*__pyx_v_c_child);
int __pyx_v_c;
xmlNode (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1231 */
__pyx_k170;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1235 */
__pyx_v_c_child = __pyx_v_c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1236 */
__pyx_v_c = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1237 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_child != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1238 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_child);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1239 */
    __pyx_1 = (__pyx_v_c == __pyx_v_index);
    if (__pyx_1) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1240 */
      __pyx_r = __pyx_v_c_child;
      goto __pyx_L0;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1241 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1242 */
  __pyx_v_c_child = __pyx_v_c_child->next;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1244 */
  __pyx_r = 0;
  goto __pyx_L0;
}
__pyx_L3:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._findChildForwards");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k171[]) = "Return child element of c_node with index, or return NULL if not found.\n    Search from the end.\n    ";

static xmlNode (*__pyx_f_5etree__findChildBackwards(xmlNode (*__pyx_v_c_node),int __pyx_v_index)) {
xmlNode (*__pyx_v_c_child);
int __pyx_v_c;
xmlNode (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1247 */
__pyx_k171;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1252 */
__pyx_v_c_child = __pyx_v_c_node->last;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1253 */
__pyx_v_c = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1254 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_child != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1255 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_child);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1256 */
    __pyx_1 = (__pyx_v_c == __pyx_v_index);
    if (__pyx_1) {

      /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1257 */
      __pyx_r = __pyx_v_c_child;
      goto __pyx_L0;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1258 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1259 */
  __pyx_v_c_child = __pyx_v_c_child->prev;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1261 */
  __pyx_r = 0;
  goto __pyx_L0;
}
__pyx_L3:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._findChildBackwards");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k172[]) = "Given a node, find the next sibling that is an element.\n    ";

static xmlNode (*__pyx_f_5etree__nextElement(xmlNode (*__pyx_v_c_node))) {
xmlNode (*__pyx_r);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1264 */
__pyx_k172;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1266 */
__pyx_v_c_node = __pyx_v_c_node->next;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1267 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1268 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1269 */
    __pyx_r = __pyx_v_c_node;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1270 */
  __pyx_v_c_node = __pyx_v_c_node->next;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1271 */
__pyx_r = 0;
goto __pyx_L0;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._nextElement");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k173[]) = "Unlink and free a node and subnodes if possible.\n    ";

static void __pyx_f_5etree__removeNode(xmlNode (*__pyx_v_c_node)) {

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1274 */
__pyx_k173;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1276 */
xmlUnlinkNode(__pyx_v_c_node);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1277 */
__pyx_f_5etree_attemptDeallocation(__pyx_v_c_node);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._removeNode");
__pyx_L0:;
}

static void __pyx_f_5etree__moveTail(xmlNode (*__pyx_v_c_tail),xmlNode (*__pyx_v_c_target)) {
xmlNode (*__pyx_v_c_next);
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1283 */
while (1) {
  __pyx_L2:;
  __pyx_1 = (__pyx_v_c_tail != 0);
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_c_tail->type == XML_TEXT_NODE);
  }
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1284 */
  __pyx_v_c_next = __pyx_v_c_tail->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1285 */
  xmlUnlinkNode(__pyx_v_c_tail);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1286 */
  xmlAddNextSibling(__pyx_v_c_target,__pyx_v_c_tail);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1287 */
  __pyx_v_c_target = __pyx_v_c_tail;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1288 */
  __pyx_v_c_tail = __pyx_v_c_next;
}
__pyx_L3:;

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._moveTail");
__pyx_L0:;
}

static int __pyx_f_5etree__isElement(xmlNode (*__pyx_v_c_node)) {
int __pyx_r;
int __pyx_1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1291 */
__pyx_1 = (__pyx_v_c_node->type == XML_ELEMENT_NODE);
if (!__pyx_1) {
  __pyx_1 = (__pyx_v_c_node->type == XML_COMMENT_NODE);
}
__pyx_r = __pyx_1;
goto __pyx_L0;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._isElement");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k174[]) = "Delete slice, starting with c_node, start counting at start, end at stop.\n    ";

static void __pyx_f_5etree__deleteSlice(xmlNode (*__pyx_v_c_node),int __pyx_v_start,int __pyx_v_stop) {
xmlNode (*__pyx_v_c_next);
int __pyx_v_c;
int __pyx_1;
PyObject *__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1295 */
__pyx_k174;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1299 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1300 */
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1302 */
__pyx_v_c = __pyx_v_start;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1303 */
while (1) {
  __pyx_L3:;
  __pyx_1 = (__pyx_v_c_node != 0);
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_c < __pyx_v_stop);
  }
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1304 */
  __pyx_v_c_next = __pyx_v_c_node->next;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1305 */
  __pyx_1 = __pyx_f_5etree__isElement(__pyx_v_c_node);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1306 */
    __pyx_2 = __pyx_f_5etree__removeText(__pyx_v_c_node->next); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1307 */
    __pyx_v_c_next = __pyx_v_c_node->next;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1308 */
    __pyx_f_5etree__removeNode(__pyx_v_c_node);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1309 */
    __pyx_v_c = (__pyx_v_c + 1);
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1310 */
  __pyx_v_c_node = __pyx_v_c_next;
}
__pyx_L4:;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_WriteUnraisable("etree._deleteSlice");
__pyx_L0:;
}

static PyObject *__pyx_k175p;
static PyObject *__pyx_k176p;
static PyObject *__pyx_k177p;

static char (__pyx_k175[]) = "UTF-8";
static char (__pyx_k176[]) = "{";
static char (__pyx_k177[]) = "}";

static PyObject *__pyx_f_5etree__getNsTag(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree__getNsTag[] = "Given a tag, find namespace URI and tag name.\n    Return None for NS uri if no namespace URI available.\n    ";
static PyObject *__pyx_f_5etree__getNsTag(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_tag = 0;
PyObject *__pyx_v_i;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"tag",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_tag)) return 0;
Py_INCREF(__pyx_v_tag);
__pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1316 */
__pyx_1 = PyObject_GetAttr(__pyx_v_tag, __pyx_n_encode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
Py_INCREF(__pyx_k175p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k175p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_tag);
__pyx_v_tag = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1317 */
__pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
__pyx_2 = PyObject_GetItem(__pyx_v_tag, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (PyObject_Cmp(__pyx_2, __pyx_k176p, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
__pyx_4 = __pyx_4 == 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1318 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_tag, __pyx_n_find); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; goto __pyx_L1;}
  Py_INCREF(__pyx_k177p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k177p);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_i);
  __pyx_v_i = __pyx_2;
  __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1319 */
  __pyx_3 = PyInt_FromLong((-1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_i, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__pyx_4) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
  }

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1320 */
  __pyx_4 = PyInt_AsLong(__pyx_v_i); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  __pyx_1 = PySequence_GetSlice(__pyx_v_tag, 1, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  __pyx_3 = PyNumber_Add(__pyx_v_i, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PySequence_GetSlice(__pyx_v_tag, __pyx_4, 0x7fffffff); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1321 */
__pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1321; goto __pyx_L1;}
Py_INCREF(Py_None);
PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
Py_INCREF(__pyx_v_tag);
PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_tag);
__pyx_r = __pyx_1;
__pyx_1 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._getNsTag");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_i);
Py_DECREF(__pyx_v_tag);
return __pyx_r;
}

static int __pyx_f_5etree_isutf8(char (*__pyx_v_string)) {
int __pyx_v_i;
int __pyx_r;
long __pyx_1;
int __pyx_2;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1325 */
__pyx_v_i = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1326 */
while (1) {
  __pyx_L2:;
  __pyx_1 = 1;
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1327 */
  __pyx_2 = ((__pyx_v_string[__pyx_v_i]) == '\0');
  if (__pyx_2) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1328 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1329 */
  __pyx_1 = ((__pyx_v_string[__pyx_v_i]) & 128);
  if (__pyx_1) {

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1330 */
    __pyx_r = 1;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1331 */
  __pyx_v_i = (__pyx_v_i + 1);
}
__pyx_L3:;

__pyx_r = 0;
goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.isutf8");
__pyx_L0:;
return __pyx_r;
}

static char (__pyx_k178[]) = "strict";

static PyObject *__pyx_f_5etree_funicode(char (*__pyx_v_s)) {
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1334 */
__pyx_1 = __pyx_f_5etree_isutf8(__pyx_v_s);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1335 */
  __pyx_2 = PyUnicode_DecodeUTF8(__pyx_v_s,strlen(__pyx_v_s),__pyx_k178); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1336 */
__pyx_2 = PyString_FromStringAndSize(__pyx_v_s,strlen(__pyx_v_s)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; goto __pyx_L1;}
__pyx_r = __pyx_2;
__pyx_2 = 0;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_AddTraceback("etree.funicode");
__pyx_r = 0;
__pyx_L0:;
return __pyx_r;
}

static PyObject *__pyx_k179p;

static char (__pyx_k179[]) = "{%s}%s";

static PyObject *__pyx_f_5etree__namespacedName(xmlNode (*__pyx_v_c_node)) {
PyObject *__pyx_v_s;
PyObject *__pyx_r;
int __pyx_1;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
char (*__pyx_5);
__pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1339 */
__pyx_1 = (__pyx_v_c_node->ns == 0);
if (!__pyx_1) {
  __pyx_1 = (__pyx_v_c_node->ns->href == 0);
}
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1340 */
  __pyx_2 = __pyx_f_5etree_funicode(__pyx_v_c_node->name); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1340; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
/*else*/ {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1343 */
  __pyx_2 = PyString_FromString(__pyx_v_c_node->ns->href); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
  __pyx_3 = PyString_FromString(__pyx_v_c_node->name); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_2 = PyNumber_Remainder(__pyx_k179p, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_v_s);
  __pyx_v_s = __pyx_2;
  __pyx_2 = 0;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1344 */
  __pyx_5 = PyString_AsString(__pyx_v_s); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}
  __pyx_3 = __pyx_f_5etree_funicode(__pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;
}
__pyx_L2:;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree._namespacedName");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_s);
return __pyx_r;
}

static PyObject *__pyx_n_name;
static PyObject *__pyx_n_filename;


static PyObject *__pyx_f_5etree__getFilenameForFile(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5etree__getFilenameForFile[] = "Given a Python File or Gzip object, give filename back.\n\n    Returns None if not a file object.\n    ";
static PyObject *__pyx_f_5etree__getFilenameForFile(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
PyObject *__pyx_v_source = 0;
PyObject *__pyx_r;
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
int __pyx_4;
static char *__pyx_argnames[] = {"source",0};
if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_source)) return 0;
Py_INCREF(__pyx_v_source);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1352 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
__pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
Py_INCREF(__pyx_v_source);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_source);
Py_INCREF(__pyx_n_name);
PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_name);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1353 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_source, __pyx_n_name); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1353; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1355 */
__pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; goto __pyx_L1;}
__pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; goto __pyx_L1;}
Py_INCREF(__pyx_v_source);
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_source);
Py_INCREF(__pyx_n_filename);
PyTuple_SET_ITEM(__pyx_3, 1, __pyx_n_filename);
__pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;
__pyx_4 = PyObject_IsTrue(__pyx_1); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (__pyx_4) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1356 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_source, __pyx_n_filename); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1356; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1357 */
Py_INCREF(Py_None);
__pyx_r = Py_None;
goto __pyx_L0;

__pyx_r = Py_None; Py_INCREF(__pyx_r);
goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
__Pyx_AddTraceback("etree._getFilenameForFile");
__pyx_r = 0;
__pyx_L0:;
Py_DECREF(__pyx_v_source);
return __pyx_r;
}

static char (__pyx_k182[]) = "For a node and all nodes below, change document.\n\n    A node can change document in certain operations as an XML\n    subtree can move. This updates all possible proxies in the\n    tree below (including the current node). It also reconciliates\n    namespaces so they\'re correct inside the new environment.\n    ";

static void __pyx_f_5etree_changeDocumentBelow(struct __pyx_obj_5etree__NodeBase *__pyx_v_node,struct __pyx_obj_5etree__Document *__pyx_v_doc) {
Py_INCREF(__pyx_v_node);
Py_INCREF(__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1360 */
__pyx_k182;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1367 */
__pyx_f_5etree_changeDocumentBelowHelper(__pyx_v_node->_c_node,__pyx_v_doc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1368 */
xmlReconciliateNs(__pyx_v_doc->_c_doc,__pyx_v_node->_c_node);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.changeDocumentBelow");
__pyx_L0:;
Py_DECREF(__pyx_v_node);
Py_DECREF(__pyx_v_doc);
}

static void __pyx_f_5etree_changeDocumentBelowHelper(xmlNode (*__pyx_v_c_node),struct __pyx_obj_5etree__Document *__pyx_v_doc) {
struct __pyx_t_5etree__ProxyRef (*__pyx_v_ref);
xmlNode (*__pyx_v_c_current);
xmlAttr (*__pyx_v_c_attr_current);
struct __pyx_obj_5etree__NodeBase *__pyx_v_proxy;
int __pyx_1;
PyObject *__pyx_2 = 0;
Py_INCREF(__pyx_v_doc);
__pyx_v_proxy = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_proxy);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1376 */
__pyx_1 = (__pyx_v_c_node == 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1377 */
  goto __pyx_L0;
  goto __pyx_L2;
}
__pyx_L2:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1379 */
__pyx_v_c_node->doc = __pyx_v_doc->_c_doc;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1381 */
__pyx_1 = (__pyx_v_c_node->_private != 0);
if (__pyx_1) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1382 */
  __pyx_v_ref = ((struct __pyx_t_5etree__ProxyRef (*))__pyx_v_c_node->_private);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1383 */
  while (1) {
    __pyx_L4:;
    __pyx_1 = (__pyx_v_ref != 0);
    if (!__pyx_1) break;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1384 */
    __pyx_2 = (PyObject *)__pyx_v_ref->proxy;
    Py_INCREF(__pyx_2);
    Py_DECREF(((PyObject *)__pyx_v_proxy));
    __pyx_v_proxy = __pyx_2;
    __pyx_2 = 0;

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1385 */
    Py_INCREF(((PyObject *)__pyx_v_doc));
    Py_DECREF(((PyObject *)__pyx_v_proxy->_doc));
    __pyx_v_proxy->_doc = ((PyObject *)__pyx_v_doc);

    /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1386 */
    __pyx_v_ref = __pyx_v_ref->next;
  }
  __pyx_L5:;
  goto __pyx_L3;
}
__pyx_L3:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1389 */
__pyx_v_c_current = __pyx_v_c_node->children;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1390 */
while (1) {
  __pyx_L6:;
  __pyx_1 = (__pyx_v_c_current != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1391 */
  __pyx_f_5etree_changeDocumentBelowHelper(__pyx_v_c_current,__pyx_v_doc);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1392 */
  __pyx_v_c_current = __pyx_v_c_current->next;
}
__pyx_L7:;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1395 */
__pyx_v_c_attr_current = __pyx_v_c_node->properties;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1396 */
while (1) {
  __pyx_L8:;
  __pyx_1 = (__pyx_v_c_attr_current != 0);
  if (!__pyx_1) break;

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1397 */
  __pyx_f_5etree_changeDocumentBelowHelper(__pyx_v_c_current,__pyx_v_doc);

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1398 */
  __pyx_v_c_attr_current = __pyx_v_c_attr_current->next;
}
__pyx_L9:;

goto __pyx_L0;
__pyx_L1:;
Py_XDECREF(__pyx_2);
__Pyx_WriteUnraisable("etree.changeDocumentBelowHelper");
__pyx_L0:;
Py_DECREF(__pyx_v_proxy);
Py_DECREF(__pyx_v_doc);
}

static void __pyx_f_5etree_nullGenericErrorFunc(void (*__pyx_v_ctxt),char (*__pyx_v_msg),...) {

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1405 */

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.nullGenericErrorFunc");
__pyx_L0:;
}

static void __pyx_f_5etree_nullStructuredErrorFunc(void (*__pyx_v_userData),xmlError (*__pyx_v_error)) {

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1409 */

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree.nullStructuredErrorFunc");
__pyx_L0:;
}

static void __pyx_f_5etree__shutUpLibxmlErrors(void) {

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1412 */
xmlSetGenericErrorFunc(0,__pyx_f_5etree_nullGenericErrorFunc);

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1413 */
xmlSetStructuredErrorFunc(0,__pyx_f_5etree_nullStructuredErrorFunc);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._shutUpLibxmlErrors");
__pyx_L0:;
}

static void __pyx_f_5etree__shutUpLibxsltErrors(void) {

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1416 */
xsltSetGenericErrorFunc(0,__pyx_f_5etree_nullGenericErrorFunc);

goto __pyx_L0;
__pyx_L1:;
__Pyx_WriteUnraisable("etree._shutUpLibxsltErrors");
__pyx_L0:;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
{&__pyx_n_BooleanType, "BooleanType"},
{&__pyx_n_C14NError, "C14NError"},
{&__pyx_n_ClassType, "ClassType"},
{&__pyx_n_Comment, "Comment"},
{&__pyx_n_DEBUG, "DEBUG"},
{&__pyx_n_Element, "Element"},
{&__pyx_n_ElementBase, "ElementBase"},
{&__pyx_n_ElementTree, "ElementTree"},
{&__pyx_n_Error, "Error"},
{&__pyx_n_Exception, "Exception"},
{&__pyx_n_Extension, "Extension"},
{&__pyx_n_False, "False"},
{&__pyx_n_IOError, "IOError"},
{&__pyx_n_IndexError, "IndexError"},
{&__pyx_n_KeyError, "KeyError"},
{&__pyx_n_ListType, "ListType"},
{&__pyx_n_LxmlError, "LxmlError"},
{&__pyx_n_LxmlSyntaxError, "LxmlSyntaxError"},
{&__pyx_n_Namespace, "Namespace"},
{&__pyx_n_NamespaceRegistryError, "NamespaceRegistryError"},
{&__pyx_n_NotImplementedError, "NotImplementedError"},
{&__pyx_n_RelaxNGError, "RelaxNGError"},
{&__pyx_n_RelaxNGParseError, "RelaxNGParseError"},
{&__pyx_n_RelaxNGValidateError, "RelaxNGValidateError"},
{&__pyx_n_StopIteration, "StopIteration"},
{&__pyx_n_StringIO, "StringIO"},
{&__pyx_n_SubElement, "SubElement"},
{&__pyx_n_SyntaxError, "SyntaxError"},
{&__pyx_n_TupleType, "TupleType"},
{&__pyx_n_TypeError, "TypeError"},
{&__pyx_n_UTF8, "UTF8"},
{&__pyx_n_ValueError, "ValueError"},
{&__pyx_n_XIncludeError, "XIncludeError"},
{&__pyx_n_XML, "XML"},
{&__pyx_n_XMLSchemaError, "XMLSchemaError"},
{&__pyx_n_XMLSchemaParseError, "XMLSchemaParseError"},
{&__pyx_n_XMLSchemaValidateError, "XMLSchemaValidateError"},
{&__pyx_n_XMLSyntaxError, "XMLSyntaxError"},
{&__pyx_n_XPathContextError, "XPathContextError"},
{&__pyx_n_XPathError, "XPathError"},
{&__pyx_n_XPathEvaluator, "XPathEvaluator"},
{&__pyx_n_XPathNamespaceError, "XPathNamespaceError"},
{&__pyx_n_XPathResultError, "XPathResultError"},
{&__pyx_n_XPathSyntaxError, "XPathSyntaxError"},
{&__pyx_n_XSLTApplyError, "XSLTApplyError"},
{&__pyx_n_XSLTElement, "XSLTElement"},
{&__pyx_n_XSLTError, "XSLTError"},
{&__pyx_n_XSLTParseError, "XSLTParseError"},
{&__pyx_n_XSLTSaveError, "XSLTSaveError"},
{&__pyx_n__, "_"},
{&__pyx_n___copy__, "__copy__"},
{&__pyx_n___getitem__, "__getitem__"},
{&__pyx_n___init__, "__init__"},
{&__pyx_n__elementpath, "_elementpath"},
{&__pyx_n__getFilenameForFile, "_getFilenameForFile"},
{&__pyx_n__getNsTag, "_getNsTag"},
{&__pyx_n__hold, "_hold"},
{&__pyx_n__init, "_init"},
{&__pyx_n__release, "_release"},
{&__pyx_n_append, "append"},
{&__pyx_n_apply, "apply"},
{&__pyx_n_attrib, "attrib"},
{&__pyx_n_bool, "bool"},
{&__pyx_n_buildNewPrefix, "buildNewPrefix"},
{&__pyx_n_c14n, "c14n"},
{&__pyx_n_callable, "callable"},
{&__pyx_n_clear, "clear"},
{&__pyx_n_close, "close"},
{&__pyx_n_compile, "compile"},
{&__pyx_n_cstd, "cstd"},
{&__pyx_n_dump, "dump"},
{&__pyx_n_encode, "encode"},
{&__pyx_n_evaluate, "evaluate"},
{&__pyx_n_exc_info, "exc_info"},
{&__pyx_n_extend, "extend"},
{&__pyx_n_filename, "filename"},
{&__pyx_n_find, "find"},
{&__pyx_n_findall, "findall"},
{&__pyx_n_findtext, "findtext"},
{&__pyx_n_float, "float"},
{&__pyx_n_fromstring, "fromstring"},
{&__pyx_n_getattr, "getattr"},
{&__pyx_n_getiterator, "getiterator"},
{&__pyx_n_getroot, "getroot"},
{&__pyx_n_getvalue, "getvalue"},
{&__pyx_n_hasattr, "hasattr"},
{&__pyx_n_id, "id"},
{&__pyx_n_int, "int"},
{&__pyx_n_iselement, "iselement"},
{&__pyx_n_isinstance, "isinstance"},
{&__pyx_n_issubclass, "issubclass"},
{&__pyx_n_items, "items"},
{&__pyx_n_iter, "iter"},
{&__pyx_n_iteritems, "iteritems"},
{&__pyx_n_keys, "keys"},
{&__pyx_n_len, "len"},
{&__pyx_n_name, "name"},
{&__pyx_n_object, "object"},
{&__pyx_n_open, "open"},
{&__pyx_n_parse, "parse"},
{&__pyx_n_r, "r"},
{&__pyx_n_re, "re"},
{&__pyx_n_read, "read"},
{&__pyx_n_registerNamespace, "registerNamespace"},
{&__pyx_n_registerNamespaces, "registerNamespaces"},
{&__pyx_n_relaxng, "relaxng"},
{&__pyx_n_repr, "repr"},
{&__pyx_n_reverse, "reverse"},
{&__pyx_n_split, "split"},
{&__pyx_n_stdout, "stdout"},
{&__pyx_n_str, "str"},
{&__pyx_n_strip, "strip"},
{&__pyx_n_sys, "sys"},
{&__pyx_n_tag, "tag"},
{&__pyx_n_tail, "tail"},
{&__pyx_n_text, "text"},
{&__pyx_n_tostring, "tostring"},
{&__pyx_n_tree, "tree"},
{&__pyx_n_type, "type"},
{&__pyx_n_types, "types"},
{&__pyx_n_unicode, "unicode"},
{&__pyx_n_update, "update"},
{&__pyx_n_utf8, "utf8"},
{&__pyx_n_validate, "validate"},
{&__pyx_n_wb, "wb"},
{&__pyx_n_write, "write"},
{&__pyx_n_xinclude, "xinclude"},
{&__pyx_n_xmlerror, "xmlerror"},
{&__pyx_n_xmlparser, "xmlparser"},
{&__pyx_n_xmlschema, "xmlschema"},
{&__pyx_n_xpath, "xpath"},
{&__pyx_n_xslt, "xslt"},
{0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
{&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13)},
{&__pyx_k33p, __pyx_k33, sizeof(__pyx_k33)},
{&__pyx_k38p, __pyx_k38, sizeof(__pyx_k38)},
{&__pyx_k40p, __pyx_k40, sizeof(__pyx_k40)},
{&__pyx_k50p, __pyx_k50, sizeof(__pyx_k50)},
{&__pyx_k51p, __pyx_k51, sizeof(__pyx_k51)},
{&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68)},
{&__pyx_k71p, __pyx_k71, sizeof(__pyx_k71)},
{&__pyx_k75p, __pyx_k75, sizeof(__pyx_k75)},
{&__pyx_k76p, __pyx_k76, sizeof(__pyx_k76)},
{&__pyx_k77p, __pyx_k77, sizeof(__pyx_k77)},
{&__pyx_k78p, __pyx_k78, sizeof(__pyx_k78)},
{&__pyx_k79p, __pyx_k79, sizeof(__pyx_k79)},
{&__pyx_k80p, __pyx_k80, sizeof(__pyx_k80)},
{&__pyx_k81p, __pyx_k81, sizeof(__pyx_k81)},
{&__pyx_k82p, __pyx_k82, sizeof(__pyx_k82)},
{&__pyx_k83p, __pyx_k83, sizeof(__pyx_k83)},
{&__pyx_k84p, __pyx_k84, sizeof(__pyx_k84)},
{&__pyx_k85p, __pyx_k85, sizeof(__pyx_k85)},
{&__pyx_k88p, __pyx_k88, sizeof(__pyx_k88)},
{&__pyx_k89p, __pyx_k89, sizeof(__pyx_k89)},
{&__pyx_k90p, __pyx_k90, sizeof(__pyx_k90)},
{&__pyx_k91p, __pyx_k91, sizeof(__pyx_k91)},
{&__pyx_k92p, __pyx_k92, sizeof(__pyx_k92)},
{&__pyx_k93p, __pyx_k93, sizeof(__pyx_k93)},
{&__pyx_k94p, __pyx_k94, sizeof(__pyx_k94)},
{&__pyx_k95p, __pyx_k95, sizeof(__pyx_k95)},
{&__pyx_k96p, __pyx_k96, sizeof(__pyx_k96)},
{&__pyx_k97p, __pyx_k97, sizeof(__pyx_k97)},
{&__pyx_k98p, __pyx_k98, sizeof(__pyx_k98)},
{&__pyx_k99p, __pyx_k99, sizeof(__pyx_k99)},
{&__pyx_k100p, __pyx_k100, sizeof(__pyx_k100)},
{&__pyx_k101p, __pyx_k101, sizeof(__pyx_k101)},
{&__pyx_k102p, __pyx_k102, sizeof(__pyx_k102)},
{&__pyx_k104p, __pyx_k104, sizeof(__pyx_k104)},
{&__pyx_k103p, __pyx_k103, sizeof(__pyx_k103)},
{&__pyx_k106p, __pyx_k106, sizeof(__pyx_k106)},
{&__pyx_k107p, __pyx_k107, sizeof(__pyx_k107)},
{&__pyx_k110p, __pyx_k110, sizeof(__pyx_k110)},
{&__pyx_k111p, __pyx_k111, sizeof(__pyx_k111)},
{&__pyx_k112p, __pyx_k112, sizeof(__pyx_k112)},
{&__pyx_k116p, __pyx_k116, sizeof(__pyx_k116)},
{&__pyx_k117p, __pyx_k117, sizeof(__pyx_k117)},
{&__pyx_k118p, __pyx_k118, sizeof(__pyx_k118)},
{&__pyx_k120p, __pyx_k120, sizeof(__pyx_k120)},
{&__pyx_k121p, __pyx_k121, sizeof(__pyx_k121)},
{&__pyx_k122p, __pyx_k122, sizeof(__pyx_k122)},
{&__pyx_k123p, __pyx_k123, sizeof(__pyx_k123)},
{&__pyx_k124p, __pyx_k124, sizeof(__pyx_k124)},
{&__pyx_k125p, __pyx_k125, sizeof(__pyx_k125)},
{&__pyx_k126p, __pyx_k126, sizeof(__pyx_k126)},
{&__pyx_k127p, __pyx_k127, sizeof(__pyx_k127)},
{&__pyx_k128p, __pyx_k128, sizeof(__pyx_k128)},
{&__pyx_k129p, __pyx_k129, sizeof(__pyx_k129)},
{&__pyx_k130p, __pyx_k130, sizeof(__pyx_k130)},
{&__pyx_k133p, __pyx_k133, sizeof(__pyx_k133)},
{&__pyx_k134p, __pyx_k134, sizeof(__pyx_k134)},
{&__pyx_k135p, __pyx_k135, sizeof(__pyx_k135)},
{&__pyx_k136p, __pyx_k136, sizeof(__pyx_k136)},
{&__pyx_k137p, __pyx_k137, sizeof(__pyx_k137)},
{&__pyx_k138p, __pyx_k138, sizeof(__pyx_k138)},
{&__pyx_k139p, __pyx_k139, sizeof(__pyx_k139)},
{&__pyx_k140p, __pyx_k140, sizeof(__pyx_k140)},
{&__pyx_k141p, __pyx_k141, sizeof(__pyx_k141)},
{&__pyx_k142p, __pyx_k142, sizeof(__pyx_k142)},
{&__pyx_k143p, __pyx_k143, sizeof(__pyx_k143)},
{&__pyx_k144p, __pyx_k144, sizeof(__pyx_k144)},
{&__pyx_k145p, __pyx_k145, sizeof(__pyx_k145)},
{&__pyx_k146p, __pyx_k146, sizeof(__pyx_k146)},
{&__pyx_k147p, __pyx_k147, sizeof(__pyx_k147)},
{&__pyx_k148p, __pyx_k148, sizeof(__pyx_k148)},
{&__pyx_k149p, __pyx_k149, sizeof(__pyx_k149)},
{&__pyx_k151p, __pyx_k151, sizeof(__pyx_k151)},
{&__pyx_k157p, __pyx_k157, sizeof(__pyx_k157)},
{&__pyx_k160p, __pyx_k160, sizeof(__pyx_k160)},
{&__pyx_k162p, __pyx_k162, sizeof(__pyx_k162)},
{&__pyx_k164p, __pyx_k164, sizeof(__pyx_k164)},
{&__pyx_k165p, __pyx_k165, sizeof(__pyx_k165)},
{&__pyx_k166p, __pyx_k166, sizeof(__pyx_k166)},
{&__pyx_k168p, __pyx_k168, sizeof(__pyx_k168)},
{&__pyx_k175p, __pyx_k175, sizeof(__pyx_k175)},
{&__pyx_k176p, __pyx_k176, sizeof(__pyx_k176)},
{&__pyx_k177p, __pyx_k177, sizeof(__pyx_k177)},
{&__pyx_k179p, __pyx_k179, sizeof(__pyx_k179)},
{0, 0, 0}
};

static PyObject *__pyx_tp_new_5etree__Document(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree__Document *p = (struct __pyx_obj_5etree__Document *)o;
return o;
}

static void __pyx_tp_dealloc_5etree__Document(PyObject *o) {
struct __pyx_obj_5etree__Document *p = (struct __pyx_obj_5etree__Document *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_9_Document___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree__Document(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__Document *p = (struct __pyx_obj_5etree__Document *)o;
return 0;
}

static int __pyx_tp_clear_5etree__Document(PyObject *o) {
struct __pyx_obj_5etree__Document *p = (struct __pyx_obj_5etree__Document *)o;
return 0;
}

static struct PyMethodDef __pyx_methods_5etree__Document[] = {
{"buildNewPrefix", (PyCFunction)__pyx_f_5etree_9_Document_buildNewPrefix, METH_VARARGS|METH_KEYWORDS, 0},
{"getroot", (PyCFunction)__pyx_f_5etree_9_Document_getroot, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__Document = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__Document = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__Document = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__Document = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__Document = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._Document", /*tp_name*/
sizeof(struct __pyx_obj_5etree__Document), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__Document, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number__Document, /*tp_as_number*/
&__pyx_tp_as_sequence__Document, /*tp_as_sequence*/
&__pyx_tp_as_mapping__Document, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__Document, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
"Internal base class to reference a libxml document.\n\n    When instances of this class are garbage collected, the libxml\n    document is cleaned up.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree__Document, /*tp_traverse*/
__pyx_tp_clear_5etree__Document, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__Document, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__Document, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree__NodeBase __pyx_vtable_5etree__NodeBase;

static PyObject *__pyx_tp_new_5etree__NodeBase(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree__NodeBase *p = (struct __pyx_obj_5etree__NodeBase *)o;
p->__pyx_vtab = (struct __pyx_vtabstruct_5etree__NodeBase *)__pyx_vtabptr_5etree__NodeBase;
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
return o;
}

static void __pyx_tp_dealloc_5etree__NodeBase(PyObject *o) {
struct __pyx_obj_5etree__NodeBase *p = (struct __pyx_obj_5etree__NodeBase *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_9_NodeBase___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
Py_XDECREF(p->_doc);
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree__NodeBase(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__NodeBase *p = (struct __pyx_obj_5etree__NodeBase *)o;
if (p->_doc) {
  e = (*v)(((PyObject*)p->_doc), a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree__NodeBase(PyObject *o) {
struct __pyx_obj_5etree__NodeBase *p = (struct __pyx_obj_5etree__NodeBase *)o;
Py_XDECREF(p->_doc);
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree__NodeBase[] = {
{"_init", (PyCFunction)__pyx_f_5etree_9_NodeBase__init, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_9_NodeBase__init},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__NodeBase = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__NodeBase = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__NodeBase = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__NodeBase = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__NodeBase = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._NodeBase", /*tp_name*/
sizeof(struct __pyx_obj_5etree__NodeBase), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__NodeBase, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number__NodeBase, /*tp_as_number*/
&__pyx_tp_as_sequence__NodeBase, /*tp_as_sequence*/
&__pyx_tp_as_mapping__NodeBase, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__NodeBase, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
"Base class to reference a document object and a libxml node.\n\n    By pointing to a Document instance, a reference is kept to\n    _Document as long as there is some pointer to a node in it.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree__NodeBase, /*tp_traverse*/
__pyx_tp_clear_5etree__NodeBase, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__NodeBase, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__NodeBase, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree__ElementTree(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree__ElementTree *p = (struct __pyx_obj_5etree__ElementTree *)o;
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
p->_context_node = (void *)Py_None; Py_INCREF((PyObject *) p->_context_node);
return o;
}

static void __pyx_tp_dealloc_5etree__ElementTree(PyObject *o) {
struct __pyx_obj_5etree__ElementTree *p = (struct __pyx_obj_5etree__ElementTree *)o;
Py_XDECREF(p->_doc);
Py_XDECREF(p->_context_node);
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree__ElementTree(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__ElementTree *p = (struct __pyx_obj_5etree__ElementTree *)o;
if (p->_doc) {
  e = (*v)(((PyObject*)p->_doc), a); if (e) return e;
}
if (p->_context_node) {
  e = (*v)(((PyObject*)p->_context_node), a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree__ElementTree(PyObject *o) {
struct __pyx_obj_5etree__ElementTree *p = (struct __pyx_obj_5etree__ElementTree *)o;
Py_XDECREF(p->_doc);
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
Py_XDECREF(p->_context_node);
p->_context_node = (void *)Py_None; Py_INCREF((PyObject *) p->_context_node);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree__ElementTree[] = {
{"parse", (PyCFunction)__pyx_f_5etree_12_ElementTree_parse, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_parse},
{"getroot", (PyCFunction)__pyx_f_5etree_12_ElementTree_getroot, METH_VARARGS|METH_KEYWORDS, 0},
{"write", (PyCFunction)__pyx_f_5etree_12_ElementTree_write, METH_VARARGS|METH_KEYWORDS, 0},
{"getiterator", (PyCFunction)__pyx_f_5etree_12_ElementTree_getiterator, METH_VARARGS|METH_KEYWORDS, 0},
{"find", (PyCFunction)__pyx_f_5etree_12_ElementTree_find, METH_VARARGS|METH_KEYWORDS, 0},
{"findtext", (PyCFunction)__pyx_f_5etree_12_ElementTree_findtext, METH_VARARGS|METH_KEYWORDS, 0},
{"findall", (PyCFunction)__pyx_f_5etree_12_ElementTree_findall, METH_VARARGS|METH_KEYWORDS, 0},
{"xpath", (PyCFunction)__pyx_f_5etree_12_ElementTree_xpath, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_xpath},
{"xslt", (PyCFunction)__pyx_f_5etree_12_ElementTree_xslt, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_xslt},
{"relaxng", (PyCFunction)__pyx_f_5etree_12_ElementTree_relaxng, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_relaxng},
{"xmlschema", (PyCFunction)__pyx_f_5etree_12_ElementTree_xmlschema, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_xmlschema},
{"xinclude", (PyCFunction)__pyx_f_5etree_12_ElementTree_xinclude, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_xinclude},
{"write_c14n", (PyCFunction)__pyx_f_5etree_12_ElementTree_write_c14n, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_12_ElementTree_write_c14n},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__ElementTree = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__ElementTree = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__ElementTree = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__ElementTree = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__ElementTree = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._ElementTree", /*tp_name*/
sizeof(struct __pyx_obj_5etree__ElementTree), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__ElementTree, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number__ElementTree, /*tp_as_number*/
&__pyx_tp_as_sequence__ElementTree, /*tp_as_sequence*/
&__pyx_tp_as_mapping__ElementTree, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__ElementTree, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree__ElementTree, /*tp_traverse*/
__pyx_tp_clear_5etree__ElementTree, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__ElementTree, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__ElementTree, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree__Element __pyx_vtable_5etree__Element;

static PyObject *__pyx_tp_new_5etree__Element(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = __pyx_ptype_5etree__NodeBase->tp_new(t, a, k);
struct __pyx_obj_5etree__Element *p = (struct __pyx_obj_5etree__Element *)o;
p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_5etree__Element *)__pyx_vtabptr_5etree__Element;
return o;
}

static void __pyx_tp_dealloc_5etree__Element(PyObject *o) {
struct __pyx_obj_5etree__Element *p = (struct __pyx_obj_5etree__Element *)o;
__pyx_ptype_5etree__NodeBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_5etree__Element(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__Element *p = (struct __pyx_obj_5etree__Element *)o;
__pyx_ptype_5etree__NodeBase->tp_traverse(o, v, a);
return 0;
}

static int __pyx_tp_clear_5etree__Element(PyObject *o) {
struct __pyx_obj_5etree__Element *p = (struct __pyx_obj_5etree__Element *)o;
__pyx_ptype_5etree__NodeBase->tp_clear(o);
return 0;
}
static PyObject *__pyx_sq_item_5etree__Element(PyObject *o, int i) {
PyObject *r;
PyObject *x = PyInt_FromLong(i); if(!x) return 0;
r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
Py_DECREF(x);
return r;
}

static int __pyx_mp_ass_subscript_5etree__Element(PyObject *o, PyObject *i, PyObject *v) {
if (v) {
  return __pyx_f_5etree_8_Element___setitem__(o, i, v);
}
else {
  return __pyx_f_5etree_8_Element___delitem__(o, i);
}
}

static int __pyx_sq_ass_slice_5etree__Element(PyObject *o, int i, int j, PyObject *v) {
if (v) {
  return __pyx_f_5etree_8_Element___setslice__(o, i, j, v);
}
else {
  return __pyx_f_5etree_8_Element___delslice__(o, i, j);
}
}

static PyObject *__pyx_getprop_5etree_8_Element_tag(PyObject *o, void *x) {
return __pyx_f_5etree_8_Element_3tag___get__(o);
}

static int __pyx_setprop_5etree_8_Element_tag(PyObject *o, PyObject *v, void *x) {
if (v) {
  return __pyx_f_5etree_8_Element_3tag___set__(o, v);
}
else {
  PyErr_SetString(PyExc_NotImplementedError, "__del__");
  return -1;
}
}

static PyObject *__pyx_getprop_5etree_8_Element_prefix(PyObject *o, void *x) {
return __pyx_f_5etree_8_Element_6prefix___get__(o);
}

static PyObject *__pyx_getprop_5etree_8_Element_attrib(PyObject *o, void *x) {
return __pyx_f_5etree_8_Element_6attrib___get__(o);
}

static PyObject *__pyx_getprop_5etree_8_Element_text(PyObject *o, void *x) {
return __pyx_f_5etree_8_Element_4text___get__(o);
}

static int __pyx_setprop_5etree_8_Element_text(PyObject *o, PyObject *v, void *x) {
if (v) {
  return __pyx_f_5etree_8_Element_4text___set__(o, v);
}
else {
  PyErr_SetString(PyExc_NotImplementedError, "__del__");
  return -1;
}
}

static PyObject *__pyx_getprop_5etree_8_Element_tail(PyObject *o, void *x) {
return __pyx_f_5etree_8_Element_4tail___get__(o);
}

static int __pyx_setprop_5etree_8_Element_tail(PyObject *o, PyObject *v, void *x) {
if (v) {
  return __pyx_f_5etree_8_Element_4tail___set__(o, v);
}
else {
  PyErr_SetString(PyExc_NotImplementedError, "__del__");
  return -1;
}
}

static struct PyMethodDef __pyx_methods_5etree__Element[] = {
{"__deepcopy__", (PyCFunction)__pyx_f_5etree_8_Element___deepcopy__, METH_VARARGS|METH_KEYWORDS, 0},
{"__copy__", (PyCFunction)__pyx_f_5etree_8_Element___copy__, METH_VARARGS|METH_KEYWORDS, 0},
{"set", (PyCFunction)__pyx_f_5etree_8_Element_set, METH_VARARGS|METH_KEYWORDS, 0},
{"append", (PyCFunction)__pyx_f_5etree_8_Element_append, METH_VARARGS|METH_KEYWORDS, 0},
{"clear", (PyCFunction)__pyx_f_5etree_8_Element_clear, METH_VARARGS|METH_KEYWORDS, 0},
{"insert", (PyCFunction)__pyx_f_5etree_8_Element_insert, METH_VARARGS|METH_KEYWORDS, 0},
{"remove", (PyCFunction)__pyx_f_5etree_8_Element_remove, METH_VARARGS|METH_KEYWORDS, 0},
{"index", (PyCFunction)__pyx_f_5etree_8_Element_index, METH_VARARGS|METH_KEYWORDS, 0},
{"get", (PyCFunction)__pyx_f_5etree_8_Element_get, METH_VARARGS|METH_KEYWORDS, 0},
{"keys", (PyCFunction)__pyx_f_5etree_8_Element_keys, METH_VARARGS|METH_KEYWORDS, 0},
{"items", (PyCFunction)__pyx_f_5etree_8_Element_items, METH_VARARGS|METH_KEYWORDS, 0},
{"getchildren", (PyCFunction)__pyx_f_5etree_8_Element_getchildren, METH_VARARGS|METH_KEYWORDS, 0},
{"getparent", (PyCFunction)__pyx_f_5etree_8_Element_getparent, METH_VARARGS|METH_KEYWORDS, 0},
{"getiterator", (PyCFunction)__pyx_f_5etree_8_Element_getiterator, METH_VARARGS|METH_KEYWORDS, 0},
{"makeelement", (PyCFunction)__pyx_f_5etree_8_Element_makeelement, METH_VARARGS|METH_KEYWORDS, 0},
{"find", (PyCFunction)__pyx_f_5etree_8_Element_find, METH_VARARGS|METH_KEYWORDS, 0},
{"findtext", (PyCFunction)__pyx_f_5etree_8_Element_findtext, METH_VARARGS|METH_KEYWORDS, 0},
{"findall", (PyCFunction)__pyx_f_5etree_8_Element_findall, METH_VARARGS|METH_KEYWORDS, 0},
{"xpath", (PyCFunction)__pyx_f_5etree_8_Element_xpath, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_5etree__Element[] = {
{"tag", __pyx_getprop_5etree_8_Element_tag, __pyx_setprop_5etree_8_Element_tag, 0, 0},
{"prefix", __pyx_getprop_5etree_8_Element_prefix, 0, 0, 0},
{"attrib", __pyx_getprop_5etree_8_Element_attrib, 0, 0, 0},
{"text", __pyx_getprop_5etree_8_Element_text, __pyx_setprop_5etree_8_Element_text, 0, 0},
{"tail", __pyx_getprop_5etree_8_Element_tail, __pyx_setprop_5etree_8_Element_tail, 0, 0},
{0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__Element = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__Element = {
__pyx_f_5etree_8_Element___len__, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
__pyx_sq_item_5etree__Element, /*sq_item*/
__pyx_f_5etree_8_Element___getslice__, /*sq_slice*/
0, /*sq_ass_item*/
__pyx_sq_ass_slice_5etree__Element, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__Element = {
__pyx_f_5etree_8_Element___len__, /*mp_length*/
__pyx_f_5etree_8_Element___getitem__, /*mp_subscript*/
__pyx_mp_ass_subscript_5etree__Element, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__Element = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__Element = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._Element", /*tp_name*/
sizeof(struct __pyx_obj_5etree__Element), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__Element, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
__pyx_f_5etree_8_Element___repr__, /*tp_repr*/
&__pyx_tp_as_number__Element, /*tp_as_number*/
&__pyx_tp_as_sequence__Element, /*tp_as_sequence*/
&__pyx_tp_as_mapping__Element, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__Element, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree__Element, /*tp_traverse*/
__pyx_tp_clear_5etree__Element, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
__pyx_f_5etree_8_Element___iter__, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__Element, /*tp_methods*/
0, /*tp_members*/
__pyx_getsets_5etree__Element, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__Element, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree__Comment __pyx_vtable_5etree__Comment;

static PyObject *__pyx_tp_new_5etree__Comment(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = __pyx_ptype_5etree__Element->tp_new(t, a, k);
struct __pyx_obj_5etree__Comment *p = (struct __pyx_obj_5etree__Comment *)o;
p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_5etree__Comment *)__pyx_vtabptr_5etree__Comment;
return o;
}

static void __pyx_tp_dealloc_5etree__Comment(PyObject *o) {
struct __pyx_obj_5etree__Comment *p = (struct __pyx_obj_5etree__Comment *)o;
__pyx_ptype_5etree__Element->tp_dealloc(o);
}

static int __pyx_tp_traverse_5etree__Comment(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__Comment *p = (struct __pyx_obj_5etree__Comment *)o;
__pyx_ptype_5etree__Element->tp_traverse(o, v, a);
return 0;
}

static int __pyx_tp_clear_5etree__Comment(PyObject *o) {
struct __pyx_obj_5etree__Comment *p = (struct __pyx_obj_5etree__Comment *)o;
__pyx_ptype_5etree__Element->tp_clear(o);
return 0;
}
static PyObject *__pyx_sq_item_5etree__Comment(PyObject *o, int i) {
PyObject *r;
PyObject *x = PyInt_FromLong(i); if(!x) return 0;
r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
Py_DECREF(x);
return r;
}

static PyObject *__pyx_getprop_5etree_8_Comment_tag(PyObject *o, void *x) {
return __pyx_f_5etree_8_Comment_3tag___get__(o);
}

static PyObject *__pyx_getprop_5etree_8_Comment_attrib(PyObject *o, void *x) {
return __pyx_f_5etree_8_Comment_6attrib___get__(o);
}

static PyObject *__pyx_getprop_5etree_8_Comment_text(PyObject *o, void *x) {
return __pyx_f_5etree_8_Comment_4text___get__(o);
}

static int __pyx_setprop_5etree_8_Comment_text(PyObject *o, PyObject *v, void *x) {
if (v) {
  return __pyx_f_5etree_8_Comment_4text___set__(o, v);
}
else {
  PyErr_SetString(PyExc_NotImplementedError, "__del__");
  return -1;
}
}

static struct PyMethodDef __pyx_methods_5etree__Comment[] = {
{"set", (PyCFunction)__pyx_f_5etree_8_Comment_set, METH_VARARGS|METH_KEYWORDS, 0},
{"append", (PyCFunction)__pyx_f_5etree_8_Comment_append, METH_VARARGS|METH_KEYWORDS, 0},
{"get", (PyCFunction)__pyx_f_5etree_8_Comment_get, METH_VARARGS|METH_KEYWORDS, 0},
{"keys", (PyCFunction)__pyx_f_5etree_8_Comment_keys, METH_VARARGS|METH_KEYWORDS, 0},
{"items", (PyCFunction)__pyx_f_5etree_8_Comment_items, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_5etree__Comment[] = {
{"tag", __pyx_getprop_5etree_8_Comment_tag, 0, 0, 0},
{"attrib", __pyx_getprop_5etree_8_Comment_attrib, 0, 0, 0},
{"text", __pyx_getprop_5etree_8_Comment_text, __pyx_setprop_5etree_8_Comment_text, 0, 0},
{0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__Comment = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__Comment = {
__pyx_f_5etree_8_Comment___len__, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
__pyx_sq_item_5etree__Comment, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__Comment = {
__pyx_f_5etree_8_Comment___len__, /*mp_length*/
__pyx_f_5etree_8_Comment___getitem__, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__Comment = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__Comment = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._Comment", /*tp_name*/
sizeof(struct __pyx_obj_5etree__Comment), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__Comment, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
__pyx_f_5etree_8_Comment___repr__, /*tp_repr*/
&__pyx_tp_as_number__Comment, /*tp_as_number*/
&__pyx_tp_as_sequence__Comment, /*tp_as_sequence*/
&__pyx_tp_as_mapping__Comment, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__Comment, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree__Comment, /*tp_traverse*/
__pyx_tp_clear_5etree__Comment, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__Comment, /*tp_methods*/
0, /*tp_members*/
__pyx_getsets_5etree__Comment, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__Comment, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree__Attrib __pyx_vtable_5etree__Attrib;

static PyObject *__pyx_tp_new_5etree__Attrib(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = __pyx_ptype_5etree__NodeBase->tp_new(t, a, k);
struct __pyx_obj_5etree__Attrib *p = (struct __pyx_obj_5etree__Attrib *)o;
p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_5etree__Attrib *)__pyx_vtabptr_5etree__Attrib;
return o;
}

static void __pyx_tp_dealloc_5etree__Attrib(PyObject *o) {
struct __pyx_obj_5etree__Attrib *p = (struct __pyx_obj_5etree__Attrib *)o;
__pyx_ptype_5etree__NodeBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_5etree__Attrib(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__Attrib *p = (struct __pyx_obj_5etree__Attrib *)o;
__pyx_ptype_5etree__NodeBase->tp_traverse(o, v, a);
return 0;
}

static int __pyx_tp_clear_5etree__Attrib(PyObject *o) {
struct __pyx_obj_5etree__Attrib *p = (struct __pyx_obj_5etree__Attrib *)o;
__pyx_ptype_5etree__NodeBase->tp_clear(o);
return 0;
}
static PyObject *__pyx_sq_item_5etree__Attrib(PyObject *o, int i) {
PyObject *r;
PyObject *x = PyInt_FromLong(i); if(!x) return 0;
r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
Py_DECREF(x);
return r;
}

static int __pyx_mp_ass_subscript_5etree__Attrib(PyObject *o, PyObject *i, PyObject *v) {
if (v) {
  return __pyx_f_5etree_7_Attrib___setitem__(o, i, v);
}
else {
  return __pyx_f_5etree_7_Attrib___delitem__(o, i);
}
}

static struct PyMethodDef __pyx_methods_5etree__Attrib[] = {
{"get", (PyCFunction)__pyx_f_5etree_7_Attrib_get, METH_VARARGS|METH_KEYWORDS, 0},
{"keys", (PyCFunction)__pyx_f_5etree_7_Attrib_keys, METH_VARARGS|METH_KEYWORDS, 0},
{"values", (PyCFunction)__pyx_f_5etree_7_Attrib_values, METH_VARARGS|METH_KEYWORDS, 0},
{"items", (PyCFunction)__pyx_f_5etree_7_Attrib_items, METH_VARARGS|METH_KEYWORDS, 0},
{"has_key", (PyCFunction)__pyx_f_5etree_7_Attrib_has_key, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__Attrib = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__Attrib = {
__pyx_f_5etree_7_Attrib___len__, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
__pyx_sq_item_5etree__Attrib, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
__pyx_f_5etree_7_Attrib___contains__, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__Attrib = {
__pyx_f_5etree_7_Attrib___len__, /*mp_length*/
__pyx_f_5etree_7_Attrib___getitem__, /*mp_subscript*/
__pyx_mp_ass_subscript_5etree__Attrib, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__Attrib = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__Attrib = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._Attrib", /*tp_name*/
sizeof(struct __pyx_obj_5etree__Attrib), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__Attrib, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
__pyx_f_5etree_7_Attrib___repr__, /*tp_repr*/
&__pyx_tp_as_number__Attrib, /*tp_as_number*/
&__pyx_tp_as_sequence__Attrib, /*tp_as_sequence*/
&__pyx_tp_as_mapping__Attrib, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__Attrib, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree__Attrib, /*tp_traverse*/
__pyx_tp_clear_5etree__Attrib, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
__pyx_f_5etree_7_Attrib___iter__, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__Attrib, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__Attrib, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree_ElementChildIterator(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_ElementChildIterator *p = (struct __pyx_obj_5etree_ElementChildIterator *)o;
p->_node = Py_None; Py_INCREF(p->_node);
return o;
}

static void __pyx_tp_dealloc_5etree_ElementChildIterator(PyObject *o) {
struct __pyx_obj_5etree_ElementChildIterator *p = (struct __pyx_obj_5etree_ElementChildIterator *)o;
Py_XDECREF(p->_node);
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_ElementChildIterator(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_ElementChildIterator *p = (struct __pyx_obj_5etree_ElementChildIterator *)o;
if (p->_node) {
  e = (*v)(p->_node, a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree_ElementChildIterator(PyObject *o) {
struct __pyx_obj_5etree_ElementChildIterator *p = (struct __pyx_obj_5etree_ElementChildIterator *)o;
Py_XDECREF(p->_node);
p->_node = Py_None; Py_INCREF(p->_node);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_ElementChildIterator[] = {
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_ElementChildIterator = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_ElementChildIterator = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_ElementChildIterator = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_ElementChildIterator = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_ElementChildIterator = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.ElementChildIterator", /*tp_name*/
sizeof(struct __pyx_obj_5etree_ElementChildIterator), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_ElementChildIterator, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_ElementChildIterator, /*tp_as_number*/
&__pyx_tp_as_sequence_ElementChildIterator, /*tp_as_sequence*/
&__pyx_tp_as_mapping_ElementChildIterator, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_ElementChildIterator, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree_ElementChildIterator, /*tp_traverse*/
__pyx_tp_clear_5etree_ElementChildIterator, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
__pyx_f_5etree_20ElementChildIterator___iter__, /*tp_iter*/
__pyx_f_5etree_20ElementChildIterator___next__, /*tp_iternext*/
__pyx_methods_5etree_ElementChildIterator, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_20ElementChildIterator___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_ElementChildIterator, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree__NamespaceRegistry(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree__NamespaceRegistry *p = (struct __pyx_obj_5etree__NamespaceRegistry *)o;
p->_ns_uri = Py_None; Py_INCREF(p->_ns_uri);
p->_classes = Py_None; Py_INCREF(p->_classes);
p->_extensions = Py_None; Py_INCREF(p->_extensions);
p->_xslt_elements = Py_None; Py_INCREF(p->_xslt_elements);
return o;
}

static void __pyx_tp_dealloc_5etree__NamespaceRegistry(PyObject *o) {
struct __pyx_obj_5etree__NamespaceRegistry *p = (struct __pyx_obj_5etree__NamespaceRegistry *)o;
Py_XDECREF(p->_ns_uri);
Py_XDECREF(p->_classes);
Py_XDECREF(p->_extensions);
Py_XDECREF(p->_xslt_elements);
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree__NamespaceRegistry(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__NamespaceRegistry *p = (struct __pyx_obj_5etree__NamespaceRegistry *)o;
if (p->_ns_uri) {
  e = (*v)(p->_ns_uri, a); if (e) return e;
}
if (p->_classes) {
  e = (*v)(p->_classes, a); if (e) return e;
}
if (p->_extensions) {
  e = (*v)(p->_extensions, a); if (e) return e;
}
if (p->_xslt_elements) {
  e = (*v)(p->_xslt_elements, a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree__NamespaceRegistry(PyObject *o) {
struct __pyx_obj_5etree__NamespaceRegistry *p = (struct __pyx_obj_5etree__NamespaceRegistry *)o;
Py_XDECREF(p->_ns_uri);
p->_ns_uri = Py_None; Py_INCREF(p->_ns_uri);
Py_XDECREF(p->_classes);
p->_classes = Py_None; Py_INCREF(p->_classes);
Py_XDECREF(p->_extensions);
p->_extensions = Py_None; Py_INCREF(p->_extensions);
Py_XDECREF(p->_xslt_elements);
p->_xslt_elements = Py_None; Py_INCREF(p->_xslt_elements);
return 0;
}
static PyObject *__pyx_sq_item_5etree__NamespaceRegistry(PyObject *o, int i) {
PyObject *r;
PyObject *x = PyInt_FromLong(i); if(!x) return 0;
r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
Py_DECREF(x);
return r;
}

static int __pyx_mp_ass_subscript_5etree__NamespaceRegistry(PyObject *o, PyObject *i, PyObject *v) {
if (v) {
  return __pyx_f_5etree_18_NamespaceRegistry___setitem__(o, i, v);
}
else {
  PyErr_Format(PyExc_NotImplementedError,
    "Subscript deletion not supported by %s", o->ob_type->tp_name);
  return -1;
}
}

static struct PyMethodDef __pyx_methods_5etree__NamespaceRegistry[] = {
{"update", (PyCFunction)__pyx_f_5etree_18_NamespaceRegistry_update, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_18_NamespaceRegistry_update},
{"clear", (PyCFunction)__pyx_f_5etree_18_NamespaceRegistry_clear, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__NamespaceRegistry = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__NamespaceRegistry = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
__pyx_sq_item_5etree__NamespaceRegistry, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__NamespaceRegistry = {
0, /*mp_length*/
__pyx_f_5etree_18_NamespaceRegistry___getitem__, /*mp_subscript*/
__pyx_mp_ass_subscript_5etree__NamespaceRegistry, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__NamespaceRegistry = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__NamespaceRegistry = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._NamespaceRegistry", /*tp_name*/
sizeof(struct __pyx_obj_5etree__NamespaceRegistry), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__NamespaceRegistry, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number__NamespaceRegistry, /*tp_as_number*/
&__pyx_tp_as_sequence__NamespaceRegistry, /*tp_as_sequence*/
&__pyx_tp_as_mapping__NamespaceRegistry, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__NamespaceRegistry, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
"Dictionary-like registry for namespace implementations", /*tp_doc*/
__pyx_tp_traverse_5etree__NamespaceRegistry, /*tp_traverse*/
__pyx_tp_clear_5etree__NamespaceRegistry, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__NamespaceRegistry, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_18_NamespaceRegistry___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__NamespaceRegistry, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree_XSLT(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_XSLT *p = (struct __pyx_obj_5etree_XSLT *)o;
return o;
}

static void __pyx_tp_dealloc_5etree_XSLT(PyObject *o) {
struct __pyx_obj_5etree_XSLT *p = (struct __pyx_obj_5etree_XSLT *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_4XSLT___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_XSLT(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_XSLT *p = (struct __pyx_obj_5etree_XSLT *)o;
return 0;
}

static int __pyx_tp_clear_5etree_XSLT(PyObject *o) {
struct __pyx_obj_5etree_XSLT *p = (struct __pyx_obj_5etree_XSLT *)o;
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_XSLT[] = {
{"apply", (PyCFunction)__pyx_f_5etree_4XSLT_apply, METH_VARARGS|METH_KEYWORDS, 0},
{"tostring", (PyCFunction)__pyx_f_5etree_4XSLT_tostring, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_4XSLT_tostring},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_XSLT = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_XSLT = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_XSLT = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_XSLT = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_XSLT = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.XSLT", /*tp_name*/
sizeof(struct __pyx_obj_5etree_XSLT), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_XSLT, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_XSLT, /*tp_as_number*/
&__pyx_tp_as_sequence_XSLT, /*tp_as_sequence*/
&__pyx_tp_as_mapping_XSLT, /*tp_as_mapping*/
0, /*tp_hash*/
__pyx_f_5etree_4XSLT___call__, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_XSLT, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
"Turn a document into an XSLT object.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree_XSLT, /*tp_traverse*/
__pyx_tp_clear_5etree_XSLT, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_XSLT, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_4XSLT___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_XSLT, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree__XSLTResultTree(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = __pyx_ptype_5etree__ElementTree->tp_new(t, a, k);
struct __pyx_obj_5etree__XSLTResultTree *p = (struct __pyx_obj_5etree__XSLTResultTree *)o;
p->_xslt = (void *)Py_None; Py_INCREF((PyObject *) p->_xslt);
return o;
}

static void __pyx_tp_dealloc_5etree__XSLTResultTree(PyObject *o) {
struct __pyx_obj_5etree__XSLTResultTree *p = (struct __pyx_obj_5etree__XSLTResultTree *)o;
Py_XDECREF(p->_xslt);
__pyx_ptype_5etree__ElementTree->tp_dealloc(o);
}

static int __pyx_tp_traverse_5etree__XSLTResultTree(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree__XSLTResultTree *p = (struct __pyx_obj_5etree__XSLTResultTree *)o;
__pyx_ptype_5etree__ElementTree->tp_traverse(o, v, a);
if (p->_xslt) {
  e = (*v)(((PyObject*)p->_xslt), a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree__XSLTResultTree(PyObject *o) {
struct __pyx_obj_5etree__XSLTResultTree *p = (struct __pyx_obj_5etree__XSLTResultTree *)o;
__pyx_ptype_5etree__ElementTree->tp_clear(o);
Py_XDECREF(p->_xslt);
p->_xslt = (void *)Py_None; Py_INCREF((PyObject *) p->_xslt);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree__XSLTResultTree[] = {
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number__XSLTResultTree = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence__XSLTResultTree = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping__XSLTResultTree = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer__XSLTResultTree = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree__XSLTResultTree = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree._XSLTResultTree", /*tp_name*/
sizeof(struct __pyx_obj_5etree__XSLTResultTree), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree__XSLTResultTree, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number__XSLTResultTree, /*tp_as_number*/
&__pyx_tp_as_sequence__XSLTResultTree, /*tp_as_sequence*/
&__pyx_tp_as_mapping__XSLTResultTree, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
__pyx_f_5etree_15_XSLTResultTree___str__, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer__XSLTResultTree, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree__XSLTResultTree, /*tp_traverse*/
__pyx_tp_clear_5etree__XSLTResultTree, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree__XSLTResultTree, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
0, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree__XSLTResultTree, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator __pyx_vtable_5etree_XPathDocumentEvaluator;

static PyObject *__pyx_tp_new_5etree_XPathDocumentEvaluator(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_XPathDocumentEvaluator *p = (struct __pyx_obj_5etree_XPathDocumentEvaluator *)o;
p->__pyx_vtab = (struct __pyx_vtabstruct_5etree_XPathDocumentEvaluator *)__pyx_vtabptr_5etree_XPathDocumentEvaluator;
p->_root_node = (void *)Py_None; Py_INCREF((PyObject *) p->_root_node);
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
p->_extension_functions = Py_None; Py_INCREF(p->_extension_functions);
p->_exc_info = Py_None; Py_INCREF(p->_exc_info);
p->_namespaces = Py_None; Py_INCREF(p->_namespaces);
p->_extensions = Py_None; Py_INCREF(p->_extensions);
p->_temp_elements = Py_None; Py_INCREF(p->_temp_elements);
p->_temp_docs = Py_None; Py_INCREF(p->_temp_docs);
return o;
}

static void __pyx_tp_dealloc_5etree_XPathDocumentEvaluator(PyObject *o) {
struct __pyx_obj_5etree_XPathDocumentEvaluator *p = (struct __pyx_obj_5etree_XPathDocumentEvaluator *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_22XPathDocumentEvaluator___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
Py_XDECREF(p->_root_node);
Py_XDECREF(p->_doc);
Py_XDECREF(p->_extension_functions);
Py_XDECREF(p->_exc_info);
Py_XDECREF(p->_namespaces);
Py_XDECREF(p->_extensions);
Py_XDECREF(p->_temp_elements);
Py_XDECREF(p->_temp_docs);
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_XPathDocumentEvaluator(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_XPathDocumentEvaluator *p = (struct __pyx_obj_5etree_XPathDocumentEvaluator *)o;
if (p->_root_node) {
  e = (*v)(((PyObject*)p->_root_node), a); if (e) return e;
}
if (p->_doc) {
  e = (*v)(((PyObject*)p->_doc), a); if (e) return e;
}
if (p->_extension_functions) {
  e = (*v)(p->_extension_functions, a); if (e) return e;
}
if (p->_exc_info) {
  e = (*v)(p->_exc_info, a); if (e) return e;
}
if (p->_namespaces) {
  e = (*v)(p->_namespaces, a); if (e) return e;
}
if (p->_extensions) {
  e = (*v)(p->_extensions, a); if (e) return e;
}
if (p->_temp_elements) {
  e = (*v)(p->_temp_elements, a); if (e) return e;
}
if (p->_temp_docs) {
  e = (*v)(p->_temp_docs, a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree_XPathDocumentEvaluator(PyObject *o) {
struct __pyx_obj_5etree_XPathDocumentEvaluator *p = (struct __pyx_obj_5etree_XPathDocumentEvaluator *)o;
Py_XDECREF(p->_root_node);
p->_root_node = (void *)Py_None; Py_INCREF((PyObject *) p->_root_node);
Py_XDECREF(p->_doc);
p->_doc = (void *)Py_None; Py_INCREF((PyObject *) p->_doc);
Py_XDECREF(p->_extension_functions);
p->_extension_functions = Py_None; Py_INCREF(p->_extension_functions);
Py_XDECREF(p->_exc_info);
p->_exc_info = Py_None; Py_INCREF(p->_exc_info);
Py_XDECREF(p->_namespaces);
p->_namespaces = Py_None; Py_INCREF(p->_namespaces);
Py_XDECREF(p->_extensions);
p->_extensions = Py_None; Py_INCREF(p->_extensions);
Py_XDECREF(p->_temp_elements);
p->_temp_elements = Py_None; Py_INCREF(p->_temp_elements);
Py_XDECREF(p->_temp_docs);
p->_temp_docs = Py_None; Py_INCREF(p->_temp_docs);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_XPathDocumentEvaluator[] = {
{"registerNamespace", (PyCFunction)__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespace, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_22XPathDocumentEvaluator_registerNamespace},
{"registerNamespaces", (PyCFunction)__pyx_f_5etree_22XPathDocumentEvaluator_registerNamespaces, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_22XPathDocumentEvaluator_registerNamespaces},
{"evaluate", (PyCFunction)__pyx_f_5etree_22XPathDocumentEvaluator_evaluate, METH_VARARGS|METH_KEYWORDS, 0},
{"_release", (PyCFunction)__pyx_f_5etree_22XPathDocumentEvaluator__release, METH_VARARGS|METH_KEYWORDS, 0},
{"_hold", (PyCFunction)__pyx_f_5etree_22XPathDocumentEvaluator__hold, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_22XPathDocumentEvaluator__hold},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_XPathDocumentEvaluator = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_XPathDocumentEvaluator = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_XPathDocumentEvaluator = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_XPathDocumentEvaluator = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_XPathDocumentEvaluator = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.XPathDocumentEvaluator", /*tp_name*/
sizeof(struct __pyx_obj_5etree_XPathDocumentEvaluator), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_XPathDocumentEvaluator, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_XPathDocumentEvaluator, /*tp_as_number*/
&__pyx_tp_as_sequence_XPathDocumentEvaluator, /*tp_as_sequence*/
&__pyx_tp_as_mapping_XPathDocumentEvaluator, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_XPathDocumentEvaluator, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
"Create an XPath evaluator for a document.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree_XPathDocumentEvaluator, /*tp_traverse*/
__pyx_tp_clear_5etree_XPathDocumentEvaluator, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_XPathDocumentEvaluator, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_22XPathDocumentEvaluator___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_XPathDocumentEvaluator, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree_XPathElementEvaluator __pyx_vtable_5etree_XPathElementEvaluator;

static PyObject *__pyx_tp_new_5etree_XPathElementEvaluator(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = __pyx_ptype_5etree_XPathDocumentEvaluator->tp_new(t, a, k);
struct __pyx_obj_5etree_XPathElementEvaluator *p = (struct __pyx_obj_5etree_XPathElementEvaluator *)o;
p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_5etree_XPathElementEvaluator *)__pyx_vtabptr_5etree_XPathElementEvaluator;
p->_element = (void *)Py_None; Py_INCREF((PyObject *) p->_element);
return o;
}

static void __pyx_tp_dealloc_5etree_XPathElementEvaluator(PyObject *o) {
struct __pyx_obj_5etree_XPathElementEvaluator *p = (struct __pyx_obj_5etree_XPathElementEvaluator *)o;
Py_XDECREF((PyObject *)p->_element);
__pyx_ptype_5etree_XPathDocumentEvaluator->tp_dealloc(o);
}

static int __pyx_tp_traverse_5etree_XPathElementEvaluator(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_XPathElementEvaluator *p = (struct __pyx_obj_5etree_XPathElementEvaluator *)o;
__pyx_ptype_5etree_XPathDocumentEvaluator->tp_traverse(o, v, a);
if (p->_element) {
  e = (*v)(((PyObject*)p->_element), a); if (e) return e;
}
return 0;
}

static int __pyx_tp_clear_5etree_XPathElementEvaluator(PyObject *o) {
struct __pyx_obj_5etree_XPathElementEvaluator *p = (struct __pyx_obj_5etree_XPathElementEvaluator *)o;
__pyx_ptype_5etree_XPathDocumentEvaluator->tp_clear(o);
Py_XDECREF((PyObject *)p->_element);
p->_element = (void *)Py_None; Py_INCREF((PyObject *) p->_element);
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_XPathElementEvaluator[] = {
{"evaluate", (PyCFunction)__pyx_f_5etree_21XPathElementEvaluator_evaluate, METH_VARARGS|METH_KEYWORDS, 0},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_XPathElementEvaluator = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_XPathElementEvaluator = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_XPathElementEvaluator = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_XPathElementEvaluator = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_XPathElementEvaluator = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.XPathElementEvaluator", /*tp_name*/
sizeof(struct __pyx_obj_5etree_XPathElementEvaluator), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_XPathElementEvaluator, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_XPathElementEvaluator, /*tp_as_number*/
&__pyx_tp_as_sequence_XPathElementEvaluator, /*tp_as_sequence*/
&__pyx_tp_as_mapping_XPathElementEvaluator, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_XPathElementEvaluator, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
"Create an XPath evaluator for an element.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree_XPathElementEvaluator, /*tp_traverse*/
__pyx_tp_clear_5etree_XPathElementEvaluator, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_XPathElementEvaluator, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_21XPathElementEvaluator___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_XPathElementEvaluator, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree_RelaxNG(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_RelaxNG *p = (struct __pyx_obj_5etree_RelaxNG *)o;
return o;
}

static void __pyx_tp_dealloc_5etree_RelaxNG(PyObject *o) {
struct __pyx_obj_5etree_RelaxNG *p = (struct __pyx_obj_5etree_RelaxNG *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_7RelaxNG___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_RelaxNG(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_RelaxNG *p = (struct __pyx_obj_5etree_RelaxNG *)o;
return 0;
}

static int __pyx_tp_clear_5etree_RelaxNG(PyObject *o) {
struct __pyx_obj_5etree_RelaxNG *p = (struct __pyx_obj_5etree_RelaxNG *)o;
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_RelaxNG[] = {
{"validate", (PyCFunction)__pyx_f_5etree_7RelaxNG_validate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_7RelaxNG_validate},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RelaxNG = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_RelaxNG = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RelaxNG = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RelaxNG = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_RelaxNG = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.RelaxNG", /*tp_name*/
sizeof(struct __pyx_obj_5etree_RelaxNG), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_RelaxNG, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_RelaxNG, /*tp_as_number*/
&__pyx_tp_as_sequence_RelaxNG, /*tp_as_sequence*/
&__pyx_tp_as_mapping_RelaxNG, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_RelaxNG, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
"Turn a document into an Relax NG validator.\n    Can also load from filesystem directly given file object or filename.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree_RelaxNG, /*tp_traverse*/
__pyx_tp_clear_5etree_RelaxNG, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_RelaxNG, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_7RelaxNG___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_RelaxNG, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5etree_XMLSchema(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_XMLSchema *p = (struct __pyx_obj_5etree_XMLSchema *)o;
return o;
}

static void __pyx_tp_dealloc_5etree_XMLSchema(PyObject *o) {
struct __pyx_obj_5etree_XMLSchema *p = (struct __pyx_obj_5etree_XMLSchema *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_9XMLSchema___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_XMLSchema(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_XMLSchema *p = (struct __pyx_obj_5etree_XMLSchema *)o;
return 0;
}

static int __pyx_tp_clear_5etree_XMLSchema(PyObject *o) {
struct __pyx_obj_5etree_XMLSchema *p = (struct __pyx_obj_5etree_XMLSchema *)o;
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_XMLSchema[] = {
{"validate", (PyCFunction)__pyx_f_5etree_9XMLSchema_validate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_9XMLSchema_validate},
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_XMLSchema = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_XMLSchema = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_XMLSchema = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_XMLSchema = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_XMLSchema = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.XMLSchema", /*tp_name*/
sizeof(struct __pyx_obj_5etree_XMLSchema), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_XMLSchema, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_XMLSchema, /*tp_as_number*/
&__pyx_tp_as_sequence_XMLSchema, /*tp_as_sequence*/
&__pyx_tp_as_mapping_XMLSchema, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_XMLSchema, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
"Turn a document into an XML Schema validator.\n    ", /*tp_doc*/
__pyx_tp_traverse_5etree_XMLSchema, /*tp_traverse*/
__pyx_tp_clear_5etree_XMLSchema, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_XMLSchema, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_9XMLSchema___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_XMLSchema, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_5etree_Parser __pyx_vtable_5etree_Parser;

static PyObject *__pyx_tp_new_5etree_Parser(PyTypeObject *t, PyObject *a, PyObject *k) {
PyObject *o = (*t->tp_alloc)(t, 0);
struct __pyx_obj_5etree_Parser *p = (struct __pyx_obj_5etree_Parser *)o;
p->__pyx_vtab = (struct __pyx_vtabstruct_5etree_Parser *)__pyx_vtabptr_5etree_Parser;
return o;
}

static void __pyx_tp_dealloc_5etree_Parser(PyObject *o) {
struct __pyx_obj_5etree_Parser *p = (struct __pyx_obj_5etree_Parser *)o;
{
  PyObject *etype, *eval, *etb;
  PyErr_Fetch(&etype, &eval, &etb);
  ++o->ob_refcnt;
  __pyx_f_5etree_6Parser___dealloc__(o);
  if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
  --o->ob_refcnt;
  PyErr_Restore(etype, eval, etb);
}
(*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5etree_Parser(PyObject *o, visitproc v, void *a) {
int e;
struct __pyx_obj_5etree_Parser *p = (struct __pyx_obj_5etree_Parser *)o;
return 0;
}

static int __pyx_tp_clear_5etree_Parser(PyObject *o) {
struct __pyx_obj_5etree_Parser *p = (struct __pyx_obj_5etree_Parser *)o;
return 0;
}

static struct PyMethodDef __pyx_methods_5etree_Parser[] = {
{0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Parser = {
0, /*nb_add*/
0, /*nb_subtract*/
0, /*nb_multiply*/
0, /*nb_divide*/
0, /*nb_remainder*/
0, /*nb_divmod*/
0, /*nb_power*/
0, /*nb_negative*/
0, /*nb_positive*/
0, /*nb_absolute*/
0, /*nb_nonzero*/
0, /*nb_invert*/
0, /*nb_lshift*/
0, /*nb_rshift*/
0, /*nb_and*/
0, /*nb_xor*/
0, /*nb_or*/
0, /*nb_coerce*/
0, /*nb_int*/
0, /*nb_long*/
0, /*nb_float*/
0, /*nb_oct*/
0, /*nb_hex*/
0, /*nb_inplace_add*/
0, /*nb_inplace_subtract*/
0, /*nb_inplace_multiply*/
0, /*nb_inplace_divide*/
0, /*nb_inplace_remainder*/
0, /*nb_inplace_power*/
0, /*nb_inplace_lshift*/
0, /*nb_inplace_rshift*/
0, /*nb_inplace_and*/
0, /*nb_inplace_xor*/
0, /*nb_inplace_or*/
0, /*nb_floor_divide*/
0, /*nb_true_divide*/
0, /*nb_inplace_floor_divide*/
0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Parser = {
0, /*sq_length*/
0, /*sq_concat*/
0, /*sq_repeat*/
0, /*sq_item*/
0, /*sq_slice*/
0, /*sq_ass_item*/
0, /*sq_ass_slice*/
0, /*sq_contains*/
0, /*sq_inplace_concat*/
0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Parser = {
0, /*mp_length*/
0, /*mp_subscript*/
0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Parser = {
0, /*bf_getreadbuffer*/
0, /*bf_getwritebuffer*/
0, /*bf_getsegcount*/
0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5etree_Parser = {
PyObject_HEAD_INIT(0)
0, /*ob_size*/
"etree.Parser", /*tp_name*/
sizeof(struct __pyx_obj_5etree_Parser), /*tp_basicsize*/
0, /*tp_itemsize*/
__pyx_tp_dealloc_5etree_Parser, /*tp_dealloc*/
0, /*tp_print*/
0, /*tp_getattr*/
0, /*tp_setattr*/
0, /*tp_compare*/
0, /*tp_repr*/
&__pyx_tp_as_number_Parser, /*tp_as_number*/
&__pyx_tp_as_sequence_Parser, /*tp_as_sequence*/
&__pyx_tp_as_mapping_Parser, /*tp_as_mapping*/
0, /*tp_hash*/
0, /*tp_call*/
0, /*tp_str*/
0, /*tp_getattro*/
0, /*tp_setattro*/
&__pyx_tp_as_buffer_Parser, /*tp_as_buffer*/
Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
0, /*tp_doc*/
__pyx_tp_traverse_5etree_Parser, /*tp_traverse*/
__pyx_tp_clear_5etree_Parser, /*tp_clear*/
0, /*tp_richcompare*/
0, /*tp_weaklistoffset*/
0, /*tp_iter*/
0, /*tp_iternext*/
__pyx_methods_5etree_Parser, /*tp_methods*/
0, /*tp_members*/
0, /*tp_getset*/
0, /*tp_base*/
0, /*tp_dict*/
0, /*tp_descr_get*/
0, /*tp_descr_set*/
0, /*tp_dictoffset*/
__pyx_f_5etree_6Parser___init__, /*tp_init*/
0, /*tp_alloc*/
__pyx_tp_new_5etree_Parser, /*tp_new*/
0, /*tp_free*/
0, /*tp_is_gc*/
0, /*tp_bases*/
0, /*tp_mro*/
0, /*tp_cache*/
0, /*tp_subclasses*/
0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
{"Element", (PyCFunction)__pyx_f_5etree_Element, METH_VARARGS|METH_KEYWORDS, 0},
{"Comment", (PyCFunction)__pyx_f_5etree_Comment, METH_VARARGS|METH_KEYWORDS, 0},
{"SubElement", (PyCFunction)__pyx_f_5etree_SubElement, METH_VARARGS|METH_KEYWORDS, 0},
{"ElementTree", (PyCFunction)__pyx_f_5etree_ElementTree, METH_VARARGS|METH_KEYWORDS, 0},
{"XML", (PyCFunction)__pyx_f_5etree_XML, METH_VARARGS|METH_KEYWORDS, 0},
{"iselement", (PyCFunction)__pyx_f_5etree_iselement, METH_VARARGS|METH_KEYWORDS, 0},
{"dump", (PyCFunction)__pyx_f_5etree_dump, METH_VARARGS|METH_KEYWORDS, 0},
{"tostring", (PyCFunction)__pyx_f_5etree_tostring, METH_VARARGS|METH_KEYWORDS, 0},
{"parse", (PyCFunction)__pyx_f_5etree_parse, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree_parse},
{"Namespace", (PyCFunction)__pyx_f_5etree_Namespace, METH_VARARGS|METH_KEYWORDS, 0},
{"XPathEvaluator", (PyCFunction)__pyx_f_5etree_XPathEvaluator, METH_VARARGS|METH_KEYWORDS, 0},
{"Extension", (PyCFunction)__pyx_f_5etree_Extension, METH_VARARGS|METH_KEYWORDS, 0},
{"_getNsTag", (PyCFunction)__pyx_f_5etree__getNsTag, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree__getNsTag},
{"_getFilenameForFile", (PyCFunction)__pyx_f_5etree__getFilenameForFile, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5etree__getFilenameForFile},
{0, 0, 0, 0}
};

DL_EXPORT(void) initetree(void); /*proto*/
DL_EXPORT(void) initetree(void) {
PyObject *__pyx_1 = 0;
PyObject *__pyx_2 = 0;
PyObject *__pyx_3 = 0;
PyObject *__pyx_4 = 0;
int __pyx_5;
int __pyx_6;
__pyx_m = Py_InitModule4("etree", __pyx_methods, 0, 0, PYTHON_API_VERSION);
if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
__pyx_b = PyImport_AddModule("__builtin__");
if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
__pyx_v_5etree___NAMESPACE_CLASSES = Py_None; Py_INCREF(__pyx_v_5etree___NAMESPACE_CLASSES);
__pyx_v_5etree__RE_STRINGS = Py_None; Py_INCREF(__pyx_v_5etree__RE_STRINGS);
__pyx_v_5etree__RE_NAMESPACES = Py_None; Py_INCREF(__pyx_v_5etree__RE_NAMESPACES);
__pyx_v_5etree_theParser = (void *)Py_None; Py_INCREF((PyObject *) __pyx_v_5etree_theParser);
if (PyType_Ready(&__pyx_type_5etree__Document) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_Document", (PyObject *)&__pyx_type_5etree__Document) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
__pyx_ptype_5etree__Document = &__pyx_type_5etree__Document;
__pyx_vtabptr_5etree__NodeBase = &__pyx_vtable_5etree__NodeBase;
__pyx_vtable_5etree__NodeBase._getNs = (void *)__pyx_f_5etree_9_NodeBase__getNs;
__pyx_type_5etree__NodeBase.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree__NodeBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree__NodeBase.tp_dict, __pyx_vtabptr_5etree__NodeBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_NodeBase", (PyObject *)&__pyx_type_5etree__NodeBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
__pyx_ptype_5etree__NodeBase = &__pyx_type_5etree__NodeBase;
__pyx_type_5etree__ElementTree.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree__ElementTree) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_ElementTree", (PyObject *)&__pyx_type_5etree__ElementTree) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L1;}
__pyx_ptype_5etree__ElementTree = &__pyx_type_5etree__ElementTree;
__pyx_vtabptr_5etree__Element = &__pyx_vtable_5etree__Element;
__pyx_vtable_5etree__Element.__pyx_base = *__pyx_vtabptr_5etree__NodeBase;
__pyx_type_5etree__Element.tp_base = __pyx_ptype_5etree__NodeBase;
if (PyType_Ready(&__pyx_type_5etree__Element) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree__Element.tp_dict, __pyx_vtabptr_5etree__Element) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_Element", (PyObject *)&__pyx_type_5etree__Element) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
__pyx_ptype_5etree__Element = &__pyx_type_5etree__Element;
__pyx_vtabptr_5etree__Comment = &__pyx_vtable_5etree__Comment;
__pyx_vtable_5etree__Comment.__pyx_base = *__pyx_vtabptr_5etree__Element;
__pyx_type_5etree__Comment.tp_base = __pyx_ptype_5etree__Element;
if (PyType_Ready(&__pyx_type_5etree__Comment) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 686; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree__Comment.tp_dict, __pyx_vtabptr_5etree__Comment) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 686; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_Comment", (PyObject *)&__pyx_type_5etree__Comment) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 686; goto __pyx_L1;}
__pyx_ptype_5etree__Comment = &__pyx_type_5etree__Comment;
__pyx_vtabptr_5etree__Attrib = &__pyx_vtable_5etree__Attrib;
__pyx_vtable_5etree__Attrib.__pyx_base = *__pyx_vtabptr_5etree__NodeBase;
__pyx_vtable_5etree__Attrib._getValue = (void *)__pyx_f_5etree_7_Attrib__getValue;
__pyx_type_5etree__Attrib.tp_base = __pyx_ptype_5etree__NodeBase;
if (PyType_Ready(&__pyx_type_5etree__Attrib) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree__Attrib.tp_dict, __pyx_vtabptr_5etree__Attrib) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_Attrib", (PyObject *)&__pyx_type_5etree__Attrib) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
__pyx_ptype_5etree__Attrib = &__pyx_type_5etree__Attrib;
__pyx_type_5etree_ElementChildIterator.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree_ElementChildIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 879; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "ElementChildIterator", (PyObject *)&__pyx_type_5etree_ElementChildIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 879; goto __pyx_L1;}
__pyx_ptype_5etree_ElementChildIterator = &__pyx_type_5etree_ElementChildIterator;
__pyx_type_5etree__NamespaceRegistry.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree__NamespaceRegistry) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_NamespaceRegistry", (PyObject *)&__pyx_type_5etree__NamespaceRegistry) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; goto __pyx_L1;}
__pyx_ptype_5etree__NamespaceRegistry = &__pyx_type_5etree__NamespaceRegistry;
if (PyType_Ready(&__pyx_type_5etree_XSLT) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 38; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "XSLT", (PyObject *)&__pyx_type_5etree_XSLT) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 38; goto __pyx_L1;}
__pyx_ptype_5etree_XSLT = &__pyx_type_5etree_XSLT;
__pyx_type_5etree__XSLTResultTree.tp_base = __pyx_ptype_5etree__ElementTree;
__pyx_type_5etree__XSLTResultTree.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree__XSLTResultTree) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 121; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "_XSLTResultTree", (PyObject *)&__pyx_type_5etree__XSLTResultTree) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 121; goto __pyx_L1;}
__pyx_ptype_5etree__XSLTResultTree = &__pyx_type_5etree__XSLTResultTree;
__pyx_vtabptr_5etree_XPathDocumentEvaluator = &__pyx_vtable_5etree_XPathDocumentEvaluator;
__pyx_vtable_5etree_XPathDocumentEvaluator._evaluate = (void *)__pyx_f_5etree_22XPathDocumentEvaluator__evaluate;
__pyx_type_5etree_XPathDocumentEvaluator.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree_XPathDocumentEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 147; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree_XPathDocumentEvaluator.tp_dict, __pyx_vtabptr_5etree_XPathDocumentEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 147; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "XPathDocumentEvaluator", (PyObject *)&__pyx_type_5etree_XPathDocumentEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 147; goto __pyx_L1;}
__pyx_ptype_5etree_XPathDocumentEvaluator = &__pyx_type_5etree_XPathDocumentEvaluator;
__pyx_vtabptr_5etree_XPathElementEvaluator = &__pyx_vtable_5etree_XPathElementEvaluator;
__pyx_vtable_5etree_XPathElementEvaluator.__pyx_base = *__pyx_vtabptr_5etree_XPathDocumentEvaluator;
__pyx_type_5etree_XPathElementEvaluator.tp_base = __pyx_ptype_5etree_XPathDocumentEvaluator;
__pyx_type_5etree_XPathElementEvaluator.tp_free = _PyObject_GC_Del;
if (PyType_Ready(&__pyx_type_5etree_XPathElementEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 279; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree_XPathElementEvaluator.tp_dict, __pyx_vtabptr_5etree_XPathElementEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 279; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "XPathElementEvaluator", (PyObject *)&__pyx_type_5etree_XPathElementEvaluator) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 279; goto __pyx_L1;}
__pyx_ptype_5etree_XPathElementEvaluator = &__pyx_type_5etree_XPathElementEvaluator;
if (PyType_Ready(&__pyx_type_5etree_RelaxNG) < 0) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 16; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "RelaxNG", (PyObject *)&__pyx_type_5etree_RelaxNG) < 0) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 16; goto __pyx_L1;}
__pyx_ptype_5etree_RelaxNG = &__pyx_type_5etree_RelaxNG;
if (PyType_Ready(&__pyx_type_5etree_XMLSchema) < 0) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 16; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "XMLSchema", (PyObject *)&__pyx_type_5etree_XMLSchema) < 0) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 16; goto __pyx_L1;}
__pyx_ptype_5etree_XMLSchema = &__pyx_type_5etree_XMLSchema;
__pyx_vtabptr_5etree_Parser = &__pyx_vtable_5etree_Parser;
__pyx_vtable_5etree_Parser.parseDoc = (void *)__pyx_f_5etree_6Parser_parseDoc;
__pyx_vtable_5etree_Parser.parseDocFromFile = (void *)__pyx_f_5etree_6Parser_parseDocFromFile;
__pyx_vtable_5etree_Parser._initParse = (void *)__pyx_f_5etree_6Parser__initParse;
__pyx_vtable_5etree_Parser._prepareParse = (void *)__pyx_f_5etree_6Parser__prepareParse;
__pyx_vtable_5etree_Parser._finalizeParse = (void *)__pyx_f_5etree_6Parser__finalizeParse;
__pyx_vtable_5etree_Parser.newDoc = (void *)__pyx_f_5etree_6Parser_newDoc;
if (PyType_Ready(&__pyx_type_5etree_Parser) < 0) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 13; goto __pyx_L1;}
if (__Pyx_SetVtable(__pyx_type_5etree_Parser.tp_dict, __pyx_vtabptr_5etree_Parser) < 0) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 13; goto __pyx_L1;}
if (PyObject_SetAttrString(__pyx_m, "Parser", (PyObject *)&__pyx_type_5etree_Parser) < 0) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 13; goto __pyx_L1;}
__pyx_ptype_5etree_Parser = &__pyx_type_5etree_Parser;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":9 */
__pyx_1 = __Pyx_Import(__pyx_n_re, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_re, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":9 */
__pyx_1 = __Pyx_Import(__pyx_n_types, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_types, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":11 */
__pyx_1 = __Pyx_Import(__pyx_n__elementpath, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n__elementpath, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":12 */
__pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; goto __pyx_L1;}
Py_INCREF(__pyx_n_StringIO);
PyList_SET_ITEM(__pyx_1, 0, __pyx_n_StringIO);
__pyx_2 = __Pyx_Import(__pyx_n_StringIO, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
__pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_StringIO); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_StringIO, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":13 */
__pyx_2 = __Pyx_Import(__pyx_n_sys, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_sys, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":16 */
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_DEBUG, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":23 */
__pyx_v_5etree_PROXY_ELEMENT = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":24 */
__pyx_v_5etree_PROXY_ATTRIB = 1;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":25 */
__pyx_v_5etree_PROXY_ATTRIB_ITER = 2;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":26 */
__pyx_v_5etree_PROXY_ELEMENT_ITER = 3;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":36 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 36; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 36; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 36; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
__pyx_1 = 0;
__pyx_1 = __Pyx_CreateClass(__pyx_3, __pyx_2, __pyx_n_Error, "etree"); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 36; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":37 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_Error, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 36; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":40 */
__pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
__pyx_2 = 0;
__pyx_2 = __Pyx_CreateClass(__pyx_1, __pyx_3, __pyx_n_LxmlError, "etree"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":41 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_LxmlError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":44 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_SyntaxError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
__pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
__pyx_3 = 0;
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_LxmlSyntaxError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":45 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_LxmlSyntaxError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":47 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_XIncludeError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":48 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XIncludeError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":50 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_C14NError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":51 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_C14NError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":168 */
Py_INCREF(Py_None);
__pyx_k12 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":178 */
Py_INCREF(__pyx_k13p);
__pyx_k14 = __pyx_k13p;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":191 */
Py_INCREF(Py_None);
__pyx_k15 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":204 */
Py_INCREF(Py_None);
__pyx_k16 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":219 */
Py_INCREF(Py_None);
__pyx_k17 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":567 */
Py_INCREF(Py_None);
__pyx_k18 = Py_None;
Py_INCREF(Py_None);
__pyx_k19 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":596 */
Py_INCREF(Py_None);
__pyx_k20 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":632 */
Py_INCREF(Py_None);
__pyx_k21 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":651 */
Py_INCREF(Py_None);
__pyx_k22 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":657 */
Py_INCREF(Py_None);
__pyx_k23 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":718 */
Py_INCREF(Py_None);
__pyx_k24 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":797 */
Py_INCREF(Py_None);
__pyx_k25 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":929 */
Py_INCREF(Py_None);
__pyx_k26 = Py_None;
Py_INCREF(Py_None);
__pyx_k27 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":945 */
Py_INCREF(Py_None);
__pyx_k28 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":956 */
Py_INCREF(Py_None);
__pyx_k29 = Py_None;
Py_INCREF(Py_None);
__pyx_k30 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":968 */
if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 968; goto __pyx_L1;}
Py_INCREF(Py_None);
__pyx_k31 = Py_None;
Py_INCREF(Py_None);
__pyx_k32 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1007 */
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XML); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
if (PyObject_SetAttr(__pyx_m, __pyx_n_fromstring, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1016 */
Py_INCREF(__pyx_k33p);
__pyx_k34 = __pyx_k33p;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1045 */
Py_INCREF(Py_None);
__pyx_k35 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":3 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
__pyx_4 = 0;
__pyx_1 = __Pyx_CreateClass(__pyx_3, __pyx_2, __pyx_n_NamespaceRegistryError, "etree"); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":4 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_NamespaceRegistryError, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":6 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 6; goto __pyx_L1;}
Py_INCREF(((PyObject*)__pyx_ptype_5etree__Element));
PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject*)__pyx_ptype_5etree__Element));
if (PyDict_SetItemString(__pyx_4, "__doc__", __pyx_k38p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_4, __pyx_n_ElementBase, "etree"); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":12 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_ElementBase, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":14 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
__pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_object); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
__pyx_3 = 0;
if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k40p) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
__pyx_2 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_XSLTElement, "etree"); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":16 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XSLTElement, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 14; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/nsclasses.pxi":19 */
__pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 19; goto __pyx_L1;}
Py_DECREF(__pyx_v_5etree___NAMESPACE_CLASSES);
__pyx_v_5etree___NAMESPACE_CLASSES = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":3 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 3; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 3; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 3; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_XSLTError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 3; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":4 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XSLTError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 3; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":6 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 6; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_XSLTParseError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":7 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XSLTParseError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":9 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 9; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTError); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 9; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 9; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_XSLTApplyError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 9; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":10 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XSLTApplyError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 9; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":12 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 12; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XSLTError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 12; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 12; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_XSLTSaveError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 12; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":13 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XSLTSaveError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 12; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":15 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 15; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 15; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 15; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_XPathError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 15; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":16 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XPathError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 15; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":18 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 18; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_XPathError); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 18; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 18; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_XPathContextError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 18; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":19 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XPathContextError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 18; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":21 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 21; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_XPathError); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 21; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 21; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_XPathNamespaceError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 21; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":22 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XPathNamespaceError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 21; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":24 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 24; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XPathError); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 24; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 24; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_XPathResultError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 24; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":25 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XPathResultError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 24; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":27 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 27; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlSyntaxError); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 27; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 27; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_XPathSyntaxError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 27; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":28 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XPathSyntaxError, __pyx_3) < 0) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 27; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":32 */
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_re); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 32; goto __pyx_L1;}
__pyx_1 = PyObject_GetAttr(__pyx_4, __pyx_n_compile); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 32; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 32; goto __pyx_L1;}
Py_INCREF(__pyx_k50p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k50p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 32; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_5etree__RE_STRINGS);
__pyx_v_5etree__RE_STRINGS = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":33 */
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_re); if (!__pyx_4) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 33; goto __pyx_L1;}
__pyx_1 = PyObject_GetAttr(__pyx_4, __pyx_n_compile); if (!__pyx_1) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 33; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 33; goto __pyx_L1;}
Py_INCREF(__pyx_k51p);
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k51p);
__pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 33; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;
Py_DECREF(__pyx_v_5etree__RE_NAMESPACES);
__pyx_v_5etree__RE_NAMESPACES = __pyx_3;
__pyx_3 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":160 */
Py_INCREF(Py_None);
__pyx_k52 = Py_None;
Py_INCREF(Py_None);
__pyx_k53 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":284 */
Py_INCREF(Py_None);
__pyx_k54 = Py_None;
Py_INCREF(Py_None);
__pyx_k55 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":292 */
Py_INCREF(Py_None);
__pyx_k56 = Py_None;
Py_INCREF(Py_None);
__pyx_k57 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xslt.pxi":298 */
Py_INCREF(Py_None);
__pyx_k58 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":4 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 4; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_1) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 4; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 4; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_RelaxNGError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 4; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":5 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_RelaxNGError, __pyx_3) < 0) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 4; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":7 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 7; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGError); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 7; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 7; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_RelaxNGParseError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 7; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":8 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_RelaxNGParseError, __pyx_3) < 0) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 7; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":10 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 10; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_RelaxNGError); if (!__pyx_4) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 10; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 10; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_RelaxNGValidateError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 10; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":11 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_RelaxNGValidateError, __pyx_3) < 0) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 10; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/relaxng.pxi":22 */
if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5etree__ElementTree)) {__pyx_filename = __pyx_f[3]; __pyx_lineno = 22; goto __pyx_L1;}
Py_INCREF(Py_None);
__pyx_k62 = Py_None;
Py_INCREF(Py_None);
__pyx_k63 = Py_None;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":4 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 4; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlError); if (!__pyx_1) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 4; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 4; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_XMLSchemaError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 4; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":5 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XMLSchemaError, __pyx_3) < 0) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 4; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":7 */
__pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 7; goto __pyx_L1;}
__pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSchemaError); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 7; goto __pyx_L1;}
__pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 7; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
__pyx_2 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_4, __pyx_1, __pyx_n_XMLSchemaParseError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 7; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":8 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XMLSchemaParseError, __pyx_3) < 0) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 7; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":10 */
__pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 10; goto __pyx_L1;}
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_XMLSchemaError); if (!__pyx_4) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 10; goto __pyx_L1;}
__pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 10; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
__pyx_4 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_XMLSchemaValidateError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 10; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/xmlschema.pxi":11 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XMLSchemaValidateError, __pyx_3) < 0) {__pyx_filename = __pyx_f[4]; __pyx_lineno = 10; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":6 */
__pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_LxmlSyntaxError); if (!__pyx_1) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 6; goto __pyx_L1;}
__pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 6; goto __pyx_L1;}
PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
__pyx_1 = 0;
__pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_4, __pyx_n_XMLSyntaxError, "etree"); if (!__pyx_3) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_2); __pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/parser.pxi":7 */
if (PyObject_SetAttr(__pyx_m, __pyx_n_XMLSyntaxError, __pyx_3) < 0) {__pyx_filename = __pyx_f[5]; __pyx_lineno = 6; goto __pyx_L1;}
Py_DECREF(__pyx_3); __pyx_3 = 0;
Py_DECREF(__pyx_4); __pyx_4 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1077 */
__pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1077; goto __pyx_L1;}
__pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_5etree_Parser), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1077; goto __pyx_L1;}
Py_DECREF(__pyx_1); __pyx_1 = 0;
if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_5etree_Parser)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1077; goto __pyx_L1;}
Py_DECREF(((PyObject *)__pyx_v_5etree_theParser));
__pyx_v_5etree_theParser = __pyx_2;
__pyx_2 = 0;

/* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1420 */
__pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_DEBUG); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; goto __pyx_L1;}
__pyx_5 = PyObject_IsTrue(__pyx_4); if (__pyx_5 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; goto __pyx_L1;}
Py_DECREF(__pyx_4); __pyx_4 = 0;
__pyx_6 = (!__pyx_5);
if (__pyx_6) {

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1421 */
  __pyx_f_5etree__shutUpLibxmlErrors();

  /* "/home/me/source/Python/lxml/lxml-HEAD/src/lxml/etree.pyx":1422 */
  __pyx_f_5etree__shutUpLibxsltErrors();
  goto __pyx_L2;
}
__pyx_L2:;
return;
__pyx_L1:;
Py_XDECREF(__pyx_1);
Py_XDECREF(__pyx_2);
Py_XDECREF(__pyx_3);
Py_XDECREF(__pyx_4);
__Pyx_AddTraceback("etree");
}

static char *__pyx_filenames[] = {
"etree.pyx",
"nsclasses.pxi",
"xslt.pxi",
"relaxng.pxi",
"xmlschema.pxi",
"parser.pxi",
"proxy.pxi",
};
statichere char **__pyx_f = __pyx_filenames;

/* Runtime support code */

static int __Pyx_GetStarArgs(
    PyObject **args, 
    PyObject **kwds,
    char *kwd_list[], 
    int nargs,
    PyObject **args2, 
    PyObject **kwds2)
{
    PyObject *x = 0, *args1 = 0, *kwds1 = 0;
    
    if (args2)
        *args2 = 0;
    if (kwds2)
        *kwds2 = 0;
    
    if (args2) {
        args1 = PyTuple_GetSlice(*args, 0, nargs);
        if (!args1)
            goto bad;
        *args2 = PyTuple_GetSlice(*args, nargs, PyTuple_Size(*args));
        if (!*args2)
            goto bad;
    }
    else {
        args1 = *args;
        Py_INCREF(args1);
    }
    
    if (kwds2) {
        if (*kwds) {
            char **p;
            kwds1 = PyDict_New();
            if (!kwds)
                goto bad;
            *kwds2 = PyDict_Copy(*kwds);
            if (!*kwds2)
                goto bad;
            for (p = kwd_list; *p; p++) {
                x = PyDict_GetItemString(*kwds, *p);
                if (x) {
                    if (PyDict_SetItemString(kwds1, *p, x) < 0)
                        goto bad;
                    if (PyDict_DelItemString(*kwds2, *p) < 0)
                        goto bad;
                }
            }
        }
        else {
            *kwds2 = PyDict_New();
            if (!*kwds2)
                goto bad;
        }
    }
    else {
        kwds1 = *kwds;
        Py_XINCREF(kwds1);
    }
    
    *args = args1;
    *kwds = kwds1;
    return 0;
bad:
    Py_XDECREF(args1);
    Py_XDECREF(kwds1);
    if (*args2)
        Py_XDECREF(*args2);
    if (*kwds2)
        Py_XDECREF(*kwds2);
    return -1;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;
    
    py_modname = PyString_FromString(modname);
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    result = PyClass_New(bases, dict, name);
bad:
    Py_XDECREF(py_modname);
    return result;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static PyObject *__Pyx_GetStdout(void) {
    PyObject *f = PySys_GetObject("stdout");
    if (!f) {
        PyErr_SetString(PyExc_RuntimeError, "lost sys.stdout");
    }
    return f;
}

static int __Pyx_PrintItem(PyObject *v) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_SoftSpace(f, 1)) {
        if (PyFile_WriteString(" ", f) < 0)
            return -1;
    }
    if (PyFile_WriteObject(v, f, Py_PRINT_RAW) < 0)
        return -1;
    if (PyString_Check(v)) {
        char *s = PyString_AsString(v);
        int len = PyString_Size(v);
        if (len > 0 &&
            isspace(Py_CHARMASK(s[len-1])) &&
            s[len-1] != ' ')
                PyFile_SoftSpace(f, 0);
    }
    return 0;
}

static int __Pyx_PrintNewline(void) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_WriteString("\n", f) < 0)
        return -1;
    PyFile_SoftSpace(f, 0);
    return 0;
}

static void __Pyx_WriteUnraisable(char *name) {
    PyObject *old_exc, *old_val, *old_tb;
    PyObject *ctx;
    PyErr_Fetch(&old_exc, &old_val, &old_tb);
    ctx = PyString_FromString(name);
    PyErr_Restore(old_exc, old_val, old_tb);
    if (!ctx)
        ctx = Py_None;
    PyErr_WriteUnraisable(ctx);
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *seq, int i) {
  PyObject *item;
  if (!(item = PySequence_GetItem(seq, i))) {
    if (PyErr_ExceptionMatches(PyExc_IndexError))
    	__Pyx_UnpackError();
  }
  return item;
}

static int __Pyx_EndUnpack(PyObject *seq, int i) {
  PyObject *item;
  if (item = PySequence_GetItem(seq, i)) {
    Py_DECREF(item);
    __Pyx_UnpackError();
    return -1;
  }
  PyErr_Clear();
    return 0;
}

static PyObject *__Pyx_GetExcValue(void) {
    PyObject *type = 0, *value = 0, *tb = 0;
    PyObject *result = 0;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(&type, &value, &tb);
    PyErr_NormalizeException(&type, &value, &tb);
    if (PyErr_Occurred())
        goto bad;
    if (!value) {
        value = Py_None;
        Py_INCREF(value);
    }
    Py_XDECREF(tstate->exc_type);
    Py_XDECREF(tstate->exc_value);
    Py_XDECREF(tstate->exc_traceback);
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    result = value;
    Py_XINCREF(result);
    type = 0;
    value = 0;
    tb = 0;
bad:
    Py_XDECREF(type);
    Py_XDECREF(value);
    Py_XDECREF(tb);
    return result;
}

static void __Pyx_ReRaise(void) {
    PyThreadState *tstate = PyThreadState_Get();
    PyObject *type = tstate->exc_type;
    PyObject *value = tstate->exc_value;
    PyObject *tb = tstate->exc_traceback;
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    PyErr_Restore(type, value, tb);
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
    PyObject *pycobj = 0;
    int result;
    
    pycobj = PyCObject_FromVoidPtr(vtable, 0);
    if (!pycobj)
        goto bad;
    if (PyDict_SetItemString(dict, "__pyx_vtable__", pycobj) < 0)
        goto bad;
    result = 0;
    goto done;

bad:
    result = -1;
done:
    Py_XDECREF(pycobj);
    return result;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
